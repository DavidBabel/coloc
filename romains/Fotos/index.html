<!DOCTYPE html><html lang="de" data-theme="emerald"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="generator" content="Astro v5.13.2"><link rel="icon" href="data:image/svg+xml,<svg xmlns=&#34;http://www.w3.org/2000/svg&#34; viewBox=&#34;0 0 100 100&#34;><text y=&#34;.9em&#34; font-size=&#34;90&#34;>üè°</text></svg>"><title></title><style>.fr,
.en,
.de,
.es,
.it {
  display: none;
}

html[lang="fr"] .fr {
  display: inline;
}

html[lang="en"] .en {
  display: inline;
}

html[lang="de"] .de {
  display: inline;
}

html[lang="es"] .es {
  display: inline;
}

html[lang="it"] .it {
  display: inline;
}

.not-fr,
.not-en,
.not-de,
.not-es,
.not-it {
  display: flex;
}

html[lang="fr"] .not-fr {
  display: none;
}

html[lang="en"] .not-en {
  display: none;
}

html[lang="de"] .not-de {
  display: none;
}

html[lang="es"] .not-es {
  display: none;
}

html[lang="it"] .not-it {
  display: none;
}</style><style>/* insertedcss */
.menu-item-romains { background-color: var(--color-primary); color: white; border-radius: 8px; box-shadow: 0 2px 4px var(--color-primary-shadow); }
.menu-item-pictures { background-color: var(--color-primary); color: white; border-radius: 8px; box-shadow: 0 2px 4px var(--color-primary-shadow); }
.menu-item-romains-pictures { background-color: var(--color-primary); color: white; border-radius: 8px; box-shadow: 0 2px 4px var(--color-primary-shadow); }
</style><style>div[data-astro-cid-udcgyguv]{display:block;margin:16px auto}div[data-astro-cid-udcgyguv] button[data-astro-cid-udcgyguv]{display:block;overflow:hidden;aspect-ratio:4/3;cursor:zoom-in;max-height:80vh;margin:0 auto;border:none;background:none;padding:0}div[data-astro-cid-udcgyguv][data-vertical=true] button[data-astro-cid-udcgyguv]{aspect-ratio:3/4;max-width:92vw;max-height:92vh}div[data-astro-cid-udcgyguv] img[data-astro-cid-udcgyguv]{width:100%;height:100%;object-fit:cover;transition:transform .4s ease;border-radius:4px}div[data-astro-cid-udcgyguv] button[data-astro-cid-udcgyguv]:hover img[data-astro-cid-udcgyguv]{transform:scale(1.02)}.photo-zoom-container[data-astro-cid-udcgyguv]{position:relative;display:flex;align-items:center;justify-content:center}.photo-zoomable[data-astro-cid-udcgyguv]{transform-origin:center center;cursor:zoom-in}.photo-zoomable[data-astro-cid-udcgyguv].zoomed{cursor:zoom-out}.photo-zoomable[data-astro-cid-udcgyguv].horizontal-image{object-fit:contain}.photo-zoomable[data-astro-cid-udcgyguv].vertical-image{object-fit:contain;max-height:90vh;max-width:none;width:auto;height:100%}.modal[data-astro-cid-udcgyguv]{backdrop-filter:blur(8px)!important}.close-modal-btn[data-astro-cid-udcgyguv]{width:40px!important;height:40px!important;border-radius:50%!important;background-color:#000000e6!important;color:#fff!important;border:2px solid rgba(255,255,255,.5)!important;font-size:1.25rem!important;font-weight:700!important;cursor:pointer!important;display:flex!important;align-items:center!important;justify-content:center!important;transition:all .2s ease!important;line-height:1!important;margin:10px 0 0!important;padding:0!important;box-shadow:0 2px 8px #0000004d!important}.close-modal-btn[data-astro-cid-udcgyguv]:hover{background-color:#000!important;border-color:#fffc!important;transform:scale(1.05)!important;box-shadow:0 4px 12px #00000080!important}.modal-container[data-astro-cid-udcgyguv]{position:fixed!important;top:1vh!important;left:5vw!important;width:90vw!important;height:90vh!important;max-width:none!important;max-height:none!important;background:transparent!important;border-radius:0!important;border:none!important;padding:0!important;margin:0!important}@media (max-width: 768px){div[data-astro-cid-udcgyguv]{margin:12px auto}div[data-astro-cid-udcgyguv] button[data-astro-cid-udcgyguv]{aspect-ratio:4/3;margin:0 auto}div[data-astro-cid-udcgyguv][data-vertical=true] button[data-astro-cid-udcgyguv]{aspect-ratio:3/4;max-width:400px;margin:0 auto}}
.title-container[data-astro-cid-wve2jxay]{position:sticky;z-index:40;top:-30px;background:#fff;margin-bottom:6px;margin-top:-20px;padding-top:20px}.scroll-target[data-astro-cid-wve2jxay]{position:relative;top:-80px;height:0;width:100%;margin:0;padding:0;overflow:hidden}.fixed-title[data-astro-cid-wve2jxay]{margin:0;padding:12px 16px;transition:all .2s ease}
</style>
<link rel="stylesheet" href="/coloc/_astro/_contact_.DnLyyub3.css"></head> <body class="m-0 p-0 h-screen w-screen"> <div class="flex h-screen w-screen overflow-hidden"> <label id="hamburger" class="btn btn-circle swap swap-rotate fixed right-4 top-4 z-[9999] lg:hidden shadow-md border border-neutral-300 bg-white/90 backdrop-blur p-2" for="menu-toggle"> <input type="checkbox" id="menu-toggle"> <svg class="swap-off fill-current w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"> <path d="M64,384H448V341.33H64Zm0-106.67H448V234.67H64Zm0-106.67H448V128H64Z"></path> </svg> <svg class="swap-on fill-current w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"> <polygon points="400 145.49 366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49"></polygon> </svg> </label> <!-- Overlay d√©sactiv√© pour permettre le scroll de la page --> <!--
<div
  id="overlay"
  class={`fixed inset-0 z-30 hidden opacity-0 transition-opacity duration-300 lg:hidden`}
>
</div>
--> <script>
  document.addEventListener("DOMContentLoaded", () => {
    const menuToggle = document.getElementById("menu-toggle");
    const menu = document.getElementById("menu");
    const keepOpenCheckbox = document.getElementById("keepOpenCheckbox");
    const menuLinks = menu?.querySelectorAll("a") || [];

    if (!menuToggle || !menu) return;

    // Sync menuToggle initial state with localStorage "keepMenuOpen"
    const keepOpen = localStorage.getItem("keepMenuOpen") === "true";

    // Appliquer l'√©tat initial
    applyMenuState(keepOpen);

    // Synchroniser avec la checkbox "garder ouvert" si elle existe
    if (keepOpenCheckbox) {
      keepOpenCheckbox.checked = keepOpen;

      // √âcouter les changements de la checkbox "garder ouvert"
      keepOpenCheckbox.addEventListener("change", () => {
        const newKeepOpen = keepOpenCheckbox.checked;
        localStorage.setItem("keepMenuOpen", newKeepOpen.toString());
        applyMenuState(newKeepOpen);
      });
    }

    function applyMenuState(keepOpen) {
      const isLargeScreen = window.innerWidth >= 1024;

      if (keepOpen) {
        menuToggle.checked = true;
        menu.classList.remove("translate-x-full");
        menu.classList.add("translate-x-0");
        document.body.classList.add("menu-keep-open");
        // G√©rer le blocage de scroll sur mobile
        if (!isLargeScreen) {
          document.body.classList.add("menu-open");
        }
        // Pas de transition quand keep open est activ√©
        menu.classList.remove(
          "transition-transform",
          "duration-300",
          "ease-in-out",
        );
      } else {
        menuToggle.checked = false;
        menu.classList.add("translate-x-full");
        menu.classList.remove("translate-x-0");
        document.body.classList.remove("menu-keep-open");
        document.body.classList.remove("menu-open");
        // Ajouter la transition pour l'animation
        menu.classList.add(
          "transition-transform",
          "duration-300",
          "ease-in-out",
        );
      }
    }

    function toggleMenu() {
      const open = menuToggle.checked;
      const isLargeScreen = window.innerWidth >= 1024;

      // Si on ferme le menu (croix cliqu√©e), d√©cocher "garder ouvert"
      if (!open && keepOpenCheckbox) {
        keepOpenCheckbox.checked = false;
        localStorage.setItem("keepMenuOpen", "false");
        document.body.classList.remove("menu-keep-open");
        document.body.classList.remove("menu-open");
        // R√©activer les transitions quand on d√©coche "garder ouvert"
        menu.classList.add(
          "transition-transform",
          "duration-300",
          "ease-in-out",
        );
      }

      // Si on ouvre le menu et qu'il n'√©tait pas en keepOpen, s'assurer que la transition est active
      if (open && localStorage.getItem("keepMenuOpen") !== "true") {
        menu.classList.add(
          "transition-transform",
          "duration-300",
          "ease-in-out",
        );
      }

      menu.classList.toggle("translate-x-full", !open);
      menu.classList.toggle("translate-x-0", open);

      // G√©rer le blocage de scroll sur mobile
      if (!isLargeScreen) {
        document.body.classList.toggle("menu-open", open);
      }
    }

    menuToggle.addEventListener("change", () => {
      toggleMenu();
    });

    menuLinks.forEach((link) => {
      link.addEventListener("click", () => {
        // Ne fermer le menu que si "keep open" n'est pas activ√©
        const keepOpen = localStorage.getItem("keepMenuOpen") === "true";
        if (!keepOpen) {
          menuToggle.checked = false;
          toggleMenu();
        }
      });
    });

    // G√©rer le redimensionnement de la fen√™tre pour le blocage de scroll
    window.addEventListener("resize", () => {
      const isLargeScreen = window.innerWidth >= 1024;
      if (isLargeScreen) {
        // Sur desktop, toujours permettre le scroll
        document.body.classList.remove("menu-open");
      } else {
        // Sur mobile, v√©rifier si le menu est ouvert
        const open = menuToggle.checked;
        document.body.classList.toggle("menu-open", open);
      }
    });
  });
</script> <nav id="menu" style="max-height: 100%;" class="
    backdrop-blur-md bg-base-200/90
    min-w-66 w-auto fixed top-0 right-0 z-[9998]
    h-screen shadow-lg
    lg:pt-4 lg:p-0
    lg:translate-x-0
    lg:static
    lg:z-auto
    lg:h-auto
    lg:shadow-none
    translate-x-full
    transition-transform duration-300 ease-in-out
    flex flex-col
    overscroll-contain
  " data-astro-cid-52d4wjy7> <div class="p-4 pt-4 lg:pt-0 lg:p-0 flex-shrink-0" data-astro-cid-52d4wjy7> <div class="flex items-center justify-between px-2 mb-6 lg:hidden"> <label class="cursor-pointer label flex items-center" for="keepOpenCheckbox"> <input type="checkbox" id="keepOpenCheckbox" class="checkbox checkbox-primary mr-2"> <span class="label-text"><span class="fr">Garder ouvert</span><span class="en">Keep open</span><span class="de">Offen bleiben</span><span class="es">Estar abierto</span><span class="it">Tieniti aperto</span></span> </label> </div> <script>
  document.addEventListener("DOMContentLoaded", () => {
    const keepOpenCheckbox = document.getElementById("keepOpenCheckbox");
    const menuToggle = document.getElementById("menu-toggle");
    const menu = document.getElementById("menu");

    if (keepOpenCheckbox) {
      // Initialiser avec la valeur du localStorage
      const keepOpen = localStorage.getItem("keepMenuOpen") === "true";
      keepOpenCheckbox.checked = keepOpen;

      // Appliquer l'√©tat initial
      updateMenuState(keepOpen);

      // √âcouter les changements
      keepOpenCheckbox.addEventListener("change", () => {
        const newKeepOpen = keepOpenCheckbox.checked;
        localStorage.setItem("keepMenuOpen", newKeepOpen.toString());

        // Mettre √† jour l'√©tat du menu
        updateMenuState(newKeepOpen);

        // Si on active "keep open" et que le menu n'est pas ouvert, l'ouvrir
        if (newKeepOpen && menuToggle && !menuToggle.checked) {
          menuToggle.checked = true;
          if (menu) {
            menu.classList.remove("translate-x-full");
            menu.classList.add("translate-x-0");
          }
        }
      });
    }

    function updateMenuState(keepOpen) {
      // Mettre √† jour la classe du body
      if (keepOpen) {
        document.body.classList.add("menu-keep-open");
        // Si keep open est activ√©, s'assurer que le menu est ouvert
        if (menuToggle && menu) {
          menuToggle.checked = true;
          menu.classList.remove("translate-x-full");
          menu.classList.add("translate-x-0");
          // D√©sactiver les transitions
          menu.classList.remove(
            "transition-transform",
            "duration-300",
            "ease-in-out",
          );
        }
      } else {
        document.body.classList.remove("menu-keep-open");
        // R√©activer les transitions
        if (menu) {
          menu.classList.add(
            "transition-transform",
            "duration-300",
            "ease-in-out",
          );
        }
      }
    }
  });
</script> </div> <!-- Zone scrollable pour le menu --> <div class="flex-1 overflow-y-auto overflow-x-hidden px-4 lg:px-0 min-h-0 pb-40" data-astro-cid-52d4wjy7> <ul class="menu bg-transparent pt-0 w-full" data-astro-cid-52d4wjy7> <!-- ...existing menu items... --> <li class="menu-item-home" data-astro-cid-3lltiirq> <a class="fr" href="/coloc/" target data-astro-cid-3lltiirq> <span class="fr">üè† Accueil</span> </a><a class="en" href="/coloc/" target data-astro-cid-3lltiirq> <span class="en">üè† Home</span> </a><a class="de" href="/coloc/" target data-astro-cid-3lltiirq> <span class="de">üè† Startseite</span> </a><a class="es" href="/coloc/" target data-astro-cid-3lltiirq> <span class="es">üè† Inicio</span> </a><a class="it" href="/coloc/" target data-astro-cid-3lltiirq> <span class="it">üè† Home</span> </a> </li>  <script type="module">document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("a[data-action]").forEach(e=>{e.addEventListener("click",a=>{a.preventDefault();const t=e.getAttribute("data-action");switch(t){case"#clean_cache":confirm("√ätes-vous s√ªr de vouloir effacer tout le localStorage ?")&&(localStorage.clear(),location.reload());break;case"#other-action":break;default:console.warn(`Action non reconnue: ${t}`)}})})});</script> <li class="menu-item-form" data-astro-cid-3lltiirq> <a class="fr" href="/coloc/formulaire" target data-astro-cid-3lltiirq> <span class="fr">ü§ö Je postule</span> </a><a class="en" href="/coloc/form" target data-astro-cid-3lltiirq> <span class="en">ü§ö I Apply</span> </a><a class="de" href="/coloc/bilden" target data-astro-cid-3lltiirq> <span class="de">ü§ö Ich bewerbe mich</span> </a><a class="es" href="/coloc/forma" target data-astro-cid-3lltiirq> <span class="es">ü§ö Me postulo</span> </a><a class="it" href="/coloc/modulo" target data-astro-cid-3lltiirq> <span class="it">ü§ö Faccio domanda</span> </a> </li>   <li class="menu-item-documents" data-astro-cid-3lltiirq> <a class="fr" href="/coloc/documents-dossier-de-location" target data-astro-cid-3lltiirq> <span class="fr">üìÇ Dossier de location</span> </a><a class="en" href="/coloc/rental-file-documents" target data-astro-cid-3lltiirq> <span class="en">üìÑ Requested Documents</span> </a><a class="de" href="/coloc/mietdateidokumente" target data-astro-cid-3lltiirq> <span class="de">üìÑ Angeforderte Dokumente</span> </a><a class="es" href="/coloc/documentos-del-archivo-de-alquiler" target data-astro-cid-3lltiirq> <span class="es">üìÑ Documentos solicitados</span> </a><a class="it" href="/coloc/documenti-dossier-locazione" target data-astro-cid-3lltiirq> <span class="it">üìÑ Documenti richiesti</span> </a> </li>   <li data-astro-cid-bkphkkal> <details data-menu="romains" open data-astro-cid-bkphkkal> <summary class="active" data-astro-cid-bkphkkal> <span class="fr">üèõÔ∏è Appartement Romains</span><span class="en">üèõÔ∏è Flat Romains</span><span class="de">üèõÔ∏è Wohnung Romains</span><span class="es">üèõÔ∏è Departamento Romains</span><span class="it">üèõÔ∏è Appartamento Romains</span> </summary> <ul data-astro-cid-bkphkkal>  <li class="menu-item-romains-" data-astro-cid-3lltiirq> <a class="fr" href="/coloc/romains/" target data-astro-cid-3lltiirq> <span class="fr">üîç Aper√ßu</span> </a><a class="en" href="/coloc/romains/" target data-astro-cid-3lltiirq> <span class="en">üîç Overview</span> </a><a class="de" href="/coloc/romains/" target data-astro-cid-3lltiirq> <span class="de">üîç √úbersicht</span> </a><a class="es" href="/coloc/romains/" target data-astro-cid-3lltiirq> <span class="es">üìå Descripci√≥n general</span> </a><a class="it" href="/coloc/romains/" target data-astro-cid-3lltiirq> <span class="it">üîç Panoramica</span> </a> </li>   <li class="menu-item-visit-romains" data-astro-cid-d4c3jo7i> <!-- Mode lien normal -->
    <a class="fr" href="/coloc/romains/visite" data-astro-cid-d4c3jo7i> <span class="fr">üé• Visite virtuelle</span> </a><a class="en" href="/coloc/romains/visit" data-astro-cid-d4c3jo7i> <span class="en">üé• Virtual tour</span> </a><a class="de" href="/coloc/romains/besuchen" data-astro-cid-d4c3jo7i> <span class="de">üé• Virtueller Besuch</span> </a><a class="es" href="/coloc/romains/visita" data-astro-cid-d4c3jo7i> <span class="es">üé• Visita virtual</span> </a><a class="it" href="/coloc/romains/Visita" data-astro-cid-d4c3jo7i> <span class="it">üé• Visita virtuale</span> </a> </li> <script>(function(){const locales = ["fr","en","de","es","it"];
const pricesData = {"flats":{"engelbreit":{"caution":750,"insurance":8,"charges":85,"available":{"engelbreit-chambre-salon":"20/09","engelbreit-chambre-west":false,"engelbreit-chambre-north":false,"engelbreit-chambre-south":"01/11"}},"romains":{"caution":675,"insurance":8,"charges":75,"available":{"romains-chambre-cellier":false,"romains-chambre-cuisine":"15/09","romains-chambre-grandeD":"01/10","romains-chambre-grandeG":false,"romains-chambre-balcon":false}}},"rows":[{"flat":"engelbreit","labelKey":"engelbreit-chambre-salon","price_history":[{"date":"04/2023","nom":"Caroline Thalmann","price":398},{"date":"06/2024","nom":"Laurene Fouquet","price":398},{"date":"07/2025","nom":"Leya Cellier","price":410},{"date":"09/2025","price":429}],"size":10},{"flat":"engelbreit","labelKey":"engelbreit-chambre-west","price_history":[{"date":"05/2023","nom":"Pierrick Cotteau","price":410},{"date":"09/2023","nom":"Marie David","price":410},{"date":"05/2024","nom":"Aimen Jennah","price":410},{"date":"06/2024","nom":"Xavier Roulot","price":410},{"date":"08/2025","nom":"Mathilde Burg","price":430},{"date":"09/2025","price":440}],"size":11},{"flat":"engelbreit","labelKey":"engelbreit-chambre-north","price_history":[{"date":"04/2023","nom":"Charlotte Leconte","price":421},{"date":"02/2025","nom":"Natalia Dzioba","price":426},{"date":"08/2025","nom":"Louis Wanke","price":445},{"date":"09/2025","price":455}],"size":13},{"flat":"engelbreit","labelKey":"engelbreit-chambre-south","price_history":[{"date":"04/2023","nom":"Martin Faure","price":435},{"date":"03/2025","nom":"Martin Faure","price":445},{"date":"09/2025","price":460}],"size":15},{"flat":"romains","labelKey":"romains-chambre-cellier","size":9,"price_history":[{"nom":"Camille Pagano","date":"09/2024","price":349},{"nom":"Inga Kurtanidze","date":"02/2025","price":355},{"nom":"Maxime Hunke","date":"08/2025","price":375},{"date":"09/2025","price":389}]},{"flat":"romains","labelKey":"romains-chambre-cuisine","size":9,"price_history":[{"nom":"Thiziri Bouslimani","date":"09/2024","price":349},{"nom":"Marie Pr√©vot","date":"02/2025","price":362},{"nom":"F√©line Mayer","date":"08/2025","price":379},{"date":"09/2025","price":395}]},{"labelKey":"romains-chambre-grandeD","flat":"romains","size":11,"price_history":[{"nom":"Charlotte Maingreaud","date":"09/2024","price":365},{"nom":"Maxime Scaduto","date":"06/2025","price":376},{"date":"09/2025","price":411}]},{"flat":"romains","labelKey":"romains-chambre-grandeG","size":11,"price_history":[{"nom":"Maria Paula","date":"09/2024","price":365},{"nom":"Salome Abramishvili","date":"02/2025","price":370},{"nom":"Alice Thivant","date":"08/2025","price":385},{"date":"09/2025","price":410}]},{"flat":"romains","labelKey":"romains-chambre-balcon","size":9,"price_history":[{"nom":"Maelys Laugier","date":"09/2024","price":360},{"nom":"Joana Ponsenard","date":"06/2025","price":378},{"nom":"Lise Rotolo","date":"08/2025","price":390},{"date":"09/2025","price":418}]}],"mode":"default","schema":{"flat":"string","labelKey":"string","price_history":[{"date":"string","nom":"string","price":"number"}],"size":"number"}};

  // Script pour construire dynamiquement les sections de visite et g√©rer la navigation temporelle
  function initVisitNavigation() {
    // Helper pour obtenir les informations d'une chambre
    function getRoomInfo(labelKey) {
      const room = pricesData.rows.find(room => room.labelKey === labelKey);
      if (!room) return null;

      return {
        labelKey: room.labelKey,
        size: room.size,
        apartment: room.flat,
        isBedroom: room.labelKey.includes('chambre')
      };
    }

    // Helper pour formatter le titre avec emoji et taille
    function formatRoomTitle(translatedTitle, translateKey) {
      // Extraire la cl√© sans le pr√©fixe 'rooms.' si pr√©sent
      const labelKey = translateKey.startsWith('rooms.') ? translateKey.replace('rooms.', '') : translateKey;
      const roomInfo = getRoomInfo(labelKey);

      if (roomInfo?.isBedroom && roomInfo.size) {
        // Si c'est une chambre et qu'on a la taille, ajouter l'emoji et la taille
        // Nettoyer d'abord tout emoji existant
        const cleanTitle = translatedTitle.replace(/üõèÔ∏è\s*/, '');
        return `üõèÔ∏è ${cleanTitle} ${roomInfo.size}m¬≤`;
      }

      return translatedTitle;
    }

    const visitSectionsList = document.querySelector('.visit-sections-list');

    if (!visitSectionsList) {
      console.log('No visit sections list found - not on a visit page');
      return;
    }

    // Vider la liste existante
    visitSectionsList.innerHTML = '';

    // Trouver tous les boutons timelink sur la page
    const timelinkButtons = document.querySelectorAll('.timelink-btn');
    console.log('Found', timelinkButtons.length, 'timelink buttons');

    if (timelinkButtons.length === 0) {
      console.warn('No timelink buttons found! Make sure VisitCard has timelinks prop.');
      return;
    }

    // Liste des langues support√©es depuis les helpers
    const supportedLangs = locales;

    // Fonctions pour g√©n√©rer les styles CSS
    function getBaseStyles() {
      return `
        display: block;
        padding: 2px 8px;
        margin: 1px 0;
        border-radius: 4px;
        transition: all 0.2s ease;
        text-decoration: none;
        border: none;
        font-size: 14px;
        line-height: 2.2;
        font-weight: 500;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        box-sizing: border-box;
        cursor: pointer;
        background: none;
      `;
    }

    function getInactiveStyles() {
      return getBaseStyles() + `
        color: #333;
        background: transparent;
      `;
    }

    function getActiveStyles() {
      return getBaseStyles() + `
        color: white;
        background-color: var(--color-primary);
        font-weight: 600;
        transform: translateX(1px);
        box-shadow: 0 2px 4px rgba(0,0,0,0.3);
      `;
    }

    // Construire dynamiquement la liste des sections √† partir des boutons timelink
    timelinkButtons.forEach((button) => {
      const translateKey = button.getAttribute('data-translate-key');
      const timecode = button.getAttribute('data-timecode');
      const playerId = button.getAttribute('data-player-id');

      if (translateKey && timecode !== null && playerId) {
        const listItem = document.createElement('li');
        const link = document.createElement('button');

        link.className = 'visit-section-link';
        link.setAttribute('data-timecode', timecode);
        link.setAttribute('data-player-id', playerId);
        link.setAttribute('data-translate-key', translateKey);

        // Cr√©er des spans pour chaque langue en r√©cup√©rant le contenu HTML des spans traduits du bouton original
        supportedLangs.forEach(lang => {
          const span = document.createElement('span');
          span.className = lang;

          // Chercher le span avec la classe de langue sp√©cifique dans le bouton original
          let translatedSpan = button.querySelector(`span.${lang}`);

          if (translatedSpan) {
            // Copier le contenu HTML du span traduit
            let originalContent = translatedSpan.innerHTML;

            // Si la cl√© contient 'chambre' ET que le contenu ne contient pas d√©j√† l'emoji, appliquer le formatage
            if (translateKey && translateKey.includes('chambre') && !originalContent.includes('üõèÔ∏è')) {
              const textContent = translatedSpan.textContent || '';
              const formattedTitle = formatRoomTitle(textContent, translateKey);
              span.innerHTML = formattedTitle;
            } else {
              span.innerHTML = originalContent;
            }
          } else {
            // Fallback: utiliser le text content du bouton
            let fallbackText = button.textContent || translateKey;

            // Si la cl√© contient 'chambre' ET que le contenu ne contient pas d√©j√† l'emoji, appliquer le formatage
            if (translateKey && translateKey.includes('chambre') && !fallbackText.includes('üõèÔ∏è')) {
              fallbackText = formatRoomTitle(fallbackText, translateKey);
            }

            span.textContent = fallbackText;
          }

          link.appendChild(span);
        });

        // Styles CSS inline par d√©faut
        link.style.cssText = getInactiveStyles();

        // Hover events
        link.addEventListener('mouseenter', () => {
          if (!link.dataset.active) {
            link.style.backgroundColor = 'var(--color-primary)';
            link.style.color = 'white';
            link.style.transform = 'translateX(2px)';
          }
        });

        link.addEventListener('mouseleave', () => {
          if (!link.dataset.active) {
            link.style.cssText = getInactiveStyles();
          }
        });

        // Click event pour naviguer dans la vid√©o
        link.addEventListener('click', (e) => {
          e.preventDefault();
          setActiveLink(link);
          navigateToTimecode(parseInt(timecode), playerId);
        });

        listItem.appendChild(link);
        visitSectionsList.appendChild(listItem);
      }
    });

    // Fonction pour d√©finir un lien comme actif
    function setActiveLink(activeLink) {
      // D√©sactiver tous les liens
      document.querySelectorAll('.visit-section-link').forEach(link => {
        const htmlLink = link;
        htmlLink.dataset.active = '';
        htmlLink.style.cssText = getInactiveStyles();
      });

      // Activer le lien s√©lectionn√©
      if (activeLink) {
        activeLink.dataset.active = 'true';
        activeLink.style.cssText = getActiveStyles();
        console.log('Activated menu item for timecode:', activeLink.getAttribute('data-timecode'));
      }
    }

    // Fonction pour naviguer vers un timecode dans la vid√©o
    function navigateToTimecode(timecode, playerId) {
      console.log(`Navigation vers timecode ${timecode}s pour le player ${playerId}`);

      if (window.youtubePlayers && playerId && window.youtubePlayers[playerId] && timecode >= 0) {
        window.youtubePlayers[playerId].seekTo(timecode);
        window.youtubePlayers[playerId].playVideo();
        console.log(`Vid√©o positionn√©e √† ${timecode} secondes`);

        // Faire d√©filer vers la vid√©o pour s'assurer qu'elle soit visible
        const videoElement = document.getElementById(playerId);
        if (videoElement) {
          videoElement.scrollIntoView({
            behavior: 'smooth',
            block: 'center',
            inline: 'nearest'
          });
        }
      } else {
        console.log("Player non trouv√© ou timecode invalide");
      }
    }

    // Fonction pour synchroniser le menu avec le timecode actuel de la vid√©o
    function syncWithCurrentTime() {
      // Cette fonction pourrait √™tre √©tendue pour d√©tecter automatiquement
      // le timecode actuel et mettre en surbrillance la section correspondante
      // si besoin (n√©cessiterait un polling r√©gulier du player YouTube)
    }
  }

  // Initialiser quand le DOM est pr√™t
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initVisitNavigation);
  } else {
    initVisitNavigation();
  }

  // R√©initialiser lors des changements de langue
  window.addEventListener('languagechange', initVisitNavigation);
})();</script>  <li class="menu-item-romains-location" data-astro-cid-3lltiirq> <a class="fr" href="/coloc/romains/localisation" target data-astro-cid-3lltiirq> <span class="fr">üìç Localisation</span> </a><a class="en" href="/coloc/romains/location" target data-astro-cid-3lltiirq> <span class="en">üìç Location</span> </a><a class="de" href="/coloc/romains/standort" target data-astro-cid-3lltiirq> <span class="de">üìç Ort</span> </a><a class="es" href="/coloc/romains/ubicacion" target data-astro-cid-3lltiirq> <span class="es">üìç Ubicaci√≥n</span> </a><a class="it" href="/coloc/romains/localizzazione" target data-astro-cid-3lltiirq> <span class="it">üìç Localizzazione</span> </a> </li>   <li class="menu-item-romains-prices" data-astro-cid-3lltiirq> <a class="fr" href="/coloc/romains/prix" target data-astro-cid-3lltiirq> <span class="fr">üí∞ Prix</span> </a><a class="en" href="/coloc/romains/price" target data-astro-cid-3lltiirq> <span class="en">üí∞ Price</span> </a><a class="de" href="/coloc/romains/preis" target data-astro-cid-3lltiirq> <span class="de">üí∞ Preis</span> </a><a class="es" href="/coloc/romains/precio" target data-astro-cid-3lltiirq> <span class="es">üí∞ Precio</span> </a><a class="it" href="/coloc/romains/prezzi" target data-astro-cid-3lltiirq> <span class="it">üí∞ Prezzo</span> </a> </li>   <li class="menu-item-pictures-romains" data-astro-cid-hwcqo2rx> <!-- Mode sous-menu avec sections -->
    <details open data-menu="photos-romains" data-astro-cid-hwcqo2rx> <summary class="active" data-astro-cid-hwcqo2rx> <span class="fr">üì∑ Photos</span><span class="en">üì∑ Photos</span><span class="de">üì∑ Fotos</span><span class="es">üì∑ Fotos</span><span class="it">üì∑ Foto</span> </summary> <ul class="photo-sections-list" data-astro-cid-hwcqo2rx> <!-- Les sections seront ajout√©es dynamiquement par JavaScript --> </ul> </details> </li> <script>(function(){const locales = ["fr","en","de","es","it"];

  // Script simplifi√© pour construire dynamiquement les sections et g√©rer le scroll
  function initPhotoNavigation() {
    const photoSectionsList = document.querySelector('.photo-sections-list');

    if (!photoSectionsList) {
      console.log('No photo sections list found - not on a photos page');
      return;
    }

    // Vider la liste existante
    photoSectionsList.innerHTML = '';

    // Trouver tous les √©l√©ments avec data-section-id
    const sectionElements = document.querySelectorAll('[data-section-id]');
    console.log('Found', sectionElements.length, 'sections with data-section-id');

    if (sectionElements.length === 0) {
      console.warn('No sections found! Make sure FixedTitle components have key props.');
      return;
    }

    // Liste des langues support√©es depuis les helpers
    const supportedLangs = locales;

    // Fonctions pour g√©n√©rer les styles CSS
    function getBaseStyles() {
      return `
        display: block;
        padding: 2px 8px;
        margin: 1px 0;
        border-radius: 4px;
        transition: all 0.2s ease;
        text-decoration: none;
        border: none;
        font-size: 14px;
        line-height: 2.2;
        font-weight: 500;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        box-sizing: border-box;
      `;
    }

    function getInactiveStyles() {
      return getBaseStyles() + `
        color: #333;
        background: transparent;
      `;
    }

    function getActiveStyles() {
      return getBaseStyles() + `
        color: white;
        background-color: var(--color-primary);
        font-weight: 600;
        transform: translateX(1px);
        box-shadow: 0 2px 4px rgba(0,0,0,0.3);
      `;
    }

    // Construire dynamiquement la liste des sections
    sectionElements.forEach((element) => {
      const sectionId = element.getAttribute('data-section-id');

      if (sectionId) {
        // Trouver le container de titre pr√©c√©dent
        const titleContainer = element.previousElementSibling;

        // V√©rifier qu'il s'agit bien d'un h2 (ignorer h1, h3, etc.)
        const h2Element = titleContainer?.querySelector('h2');
        if (!h2Element) {
          console.log(`Skipping section ${sectionId} - not an h2 title`);
          return; // Ignorer cette section si ce n'est pas un h2
        }

        const listItem = document.createElement('li');
        const link = document.createElement('a');

        link.href = `#${sectionId}`;
        link.className = 'photo-section-link';
        link.setAttribute('data-section', sectionId);

        // Cr√©er des spans pour chaque langue en r√©cup√©rant le contenu HTML des spans traduits
        supportedLangs.forEach(lang => {
          const span = document.createElement('span');
          span.className = lang;

          // Pour trouver les traductions, on doit chercher les spans avec les cl√©s compl√®tes "rooms.{sectionId}"
          // car le composant T.astro utilise toujours les cl√©s avec le pr√©fixe "rooms."
          const fullTranslationKey = `rooms.${sectionId}`;
          let translatedSpan = h2Element.querySelector(`span.${lang}`);

          if (translatedSpan) {
            // Copier tout le contenu HTML du span traduit
            span.innerHTML = translatedSpan.innerHTML;
          } else {
            // Fallback: utiliser la sectionId si aucun span sp√©cifique trouv√©
            span.textContent = sectionId;
          }

          link.appendChild(span);
        });

        // Styles CSS inline par d√©faut
        link.style.cssText = getInactiveStyles();

        // Hover events
        link.addEventListener('mouseenter', () => {
          if (!link.dataset.active) {
            link.style.backgroundColor = 'var(--color-primary)';
            link.style.color = 'white';
            link.style.transform = 'translateX(2px)';
          }
        });

        link.addEventListener('mouseleave', () => {
          if (!link.dataset.active) {
            link.style.cssText = getInactiveStyles();
          }
        });

        // Click event
        link.addEventListener('click', (e) => {
          e.preventDefault();
          setActiveLink(link);
          scrollToSection(sectionId);
          updateURL(sectionId);
        });

        listItem.appendChild(link);
        photoSectionsList.appendChild(listItem);
      }
    });

    // Fonction pour d√©finir un lien comme actif
    function setActiveLink(activeLink) {
      // D√©sactiver tous les liens
      document.querySelectorAll('.photo-section-link').forEach(link => {
        const htmlLink = link;
        htmlLink.dataset.active = '';
        htmlLink.style.cssText = getInactiveStyles();
      });

      // Activer le lien s√©lectionn√©
      if (activeLink) {
        activeLink.dataset.active = 'true';
        activeLink.style.cssText = getActiveStyles();
        console.log('Activated menu item:', activeLink.getAttribute('data-section'));
      }
    }

    // Fonction pour faire d√©filer vers une section
    function scrollToSection(sectionId) {
      const targetElement = document.querySelector(`[data-section-id="${sectionId}"]`);
      if (targetElement) {
        targetElement.scrollIntoView({
          behavior: 'smooth',
          block: 'start',
          inline: 'nearest'
        });
      }
    }

    // Fonction pour mettre √† jour l'URL
    function updateURL(sectionId) {
      const newUrl = window.location.pathname + window.location.search + '#' + sectionId;
      window.history.pushState(null, '', newUrl);
    }

    // Fonction pour synchroniser avec l'URL actuelle
    function syncWithURL() {
      const currentHash = window.location.hash.slice(1);
      console.log('syncWithURL called with hash:', currentHash);

      if (currentHash) {
        // V√©rifier d'abord si la section existe
        const targetSection = document.querySelector(`[data-section-id="${currentHash}"]`);
        if (!targetSection) {
          console.warn('Section not found for hash:', currentHash);
          return;
        }

        const targetLink = document.querySelector(`[data-section="${currentHash}"]`);
        if (targetLink) {
          setActiveLink(targetLink);
          console.log('Scrolling to section:', currentHash);
          // Faire d√©filer vers la section correspondante
          scrollToSection(currentHash);
        } else {
          console.warn('Menu link not found for section:', currentHash);
        }
      } else {
        setActiveLink(null);
      }
    }

    // Fonction pour d√©tecter la section active lors du scroll
    function updateActiveOnScroll() {
      let fixedSection = null;

      sectionElements.forEach((element) => {
        const sectionId = element.getAttribute('data-section-id');

        // Trouver le titre associ√© √† cette section
        const titleContainer = element.previousElementSibling;
        const titleElement = titleContainer?.querySelector('.fixed-title');

        if (titleElement) {
          const titleRect = titleElement.getBoundingClientRect();

          // Un titre est consid√©r√© comme "fixed" quand il est coll√© en haut
          // On v√©rifie s'il est dans la zone de titre fixe (0-80px du haut)
          // et que sa section scroll-target est pass√©e (rect.top <= position du titre fixe)
          const sectionRect = element.getBoundingClientRect();

          // Le titre est "fixed" si :
          // 1. Le titre est proche du haut de l'√©cran (position sticky active)
          // 2. La section scroll-target est au-dessus ou tr√®s proche du titre
          if (titleRect.top <= 80 && titleRect.top >= 0 && sectionRect.top <= 80) {
            fixedSection = sectionId;
            console.log('Title is FIXED for section:', sectionId, 'title top:', titleRect.top, 'section top:', sectionRect.top);
          }
        }
      });

      // Ne mettre √† jour l'URL que si on a un titre en position fixed
      if (fixedSection) {
        const currentHash = window.location.hash.slice(1);

        // Mettre √† jour seulement si diff√©rent
        if (fixedSection !== currentHash) {
          const targetLink = document.querySelector(`[data-section="${fixedSection}"]`);
          if (targetLink) {
            setActiveLink(targetLink);
            // Mettre √† jour l'URL sans ajouter √† l'historique
            const newUrl = window.location.pathname + window.location.search + '#' + fixedSection;
            window.history.replaceState(null, '', newUrl);
            console.log('URL updated to FIXED section:', fixedSection);
          }
        }
      }

      // Si aucun titre n'est fixed, on garde l'√©tat actuel sans changer l'URL
      // mais on peut d√©sactiver visuellement le menu si souhait√©
    }

    // √âcouteurs d'√©v√©nements pour le scroll
    const mainElement = document.querySelector('main');
    const bodyElement = document.body;
    const windowElement = window;

    let scrollTimer;

    const handleScroll = () => {
      clearTimeout(scrollTimer);
      scrollTimer = window.setTimeout(() => {
        console.log('Scroll detected, updating active section...');
        updateActiveOnScroll();
      }, 30);
    };

    // √âcouter le scroll sur plusieurs √©l√©ments pour √™tre s√ªr de le capturer
    if (mainElement) {
      mainElement.addEventListener('scroll', handleScroll);
    }
    document.addEventListener('scroll', handleScroll);
    window.addEventListener('scroll', handleScroll);

    // Aussi √©couter les √©v√©nements wheel pour d√©tecter les scrolls √† la molette
    document.addEventListener('wheel', handleScroll, { passive: true });

    // G√©rer les changements d'URL
    window.addEventListener('hashchange', syncWithURL);
    window.addEventListener('popstate', syncWithURL);

    // Synchronisation initiale avec plusieurs tentatives
    setTimeout(syncWithURL, 200);
    setTimeout(syncWithURL, 500);
    setTimeout(syncWithURL, 1000);
  }

  // Initialiser
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initPhotoNavigation);
  } else {
    initPhotoNavigation();
  }

  // R√©initialiser lors des changements de langue
  window.addEventListener('languagechange', initPhotoNavigation);
})();</script>  <li class="menu-item-romains-map" data-astro-cid-3lltiirq> <a class="fr" href="/coloc/romains/carte" target data-astro-cid-3lltiirq> <span class="fr">üó∫Ô∏è Carte</span> </a> </li>    </ul> </details> </li> <script>(function(){const homePageUrl = "/coloc/";

  function handleHashChange() {
    // V√©rifier si on est sur la page d'accueil (utiliser l'URL de base)
    const currentPathname = window.location.pathname;
    const isHomePage =
      currentPathname === homePageUrl ||
      currentPathname === homePageUrl.replace(/\/$/, "");

    if (!isHomePage) return;

    const hash = window.location.hash;
    const allMenuGroups = document.querySelectorAll("[data-menu]");

    // Fermer tous les menus d'abord
    allMenuGroups.forEach((group) => {
      const details = group;
      const summary = details.querySelector("summary");
      details.open = false;
      summary?.classList.remove("active");
    });

    // Extraire le nom du groupe depuis le hash (sans le #)
    const targetMenu = hash.replace("#", "") || null;

    // Ouvrir le menu correspondant si il existe
    if (targetMenu) {
      const targetGroup = document.querySelector(`[data-menu="${targetMenu}"]`);
      const targetSummary = targetGroup?.querySelector("summary");
      if (targetGroup) {
        targetGroup.open = true;
        targetSummary?.classList.add("active");
      }
    }
  }

  // √âcouter les changements de hash
  window.addEventListener("hashchange", handleHashChange);

  // Appliquer au chargement de la page
  document.addEventListener("DOMContentLoaded", handleHashChange);
})();</script>  <li data-astro-cid-bkphkkal> <details data-menu="engelbreit" data-astro-cid-bkphkkal> <summary class data-astro-cid-bkphkkal> <span class="fr">ü•® Appartement Engelbreit</span><span class="en">ü•® Flat Engelbreit</span><span class="de">ü•® Wohnung Engelbreit</span><span class="es">ü•® Departamento Engelbreit</span><span class="it">ü•® Appartamento Engelbreit</span> </summary> <ul data-astro-cid-bkphkkal>  <li class="menu-item-engelbreit-" data-astro-cid-3lltiirq> <a class="fr" href="/coloc/engelbreit/" target data-astro-cid-3lltiirq> <span class="fr">üîç Aper√ßu</span> </a><a class="en" href="/coloc/engelbreit/" target data-astro-cid-3lltiirq> <span class="en">üîç Overview</span> </a><a class="de" href="/coloc/engelbreit/" target data-astro-cid-3lltiirq> <span class="de">üîç √úbersicht</span> </a><a class="es" href="/coloc/engelbreit/" target data-astro-cid-3lltiirq> <span class="es">üìå Descripci√≥n general</span> </a><a class="it" href="/coloc/engelbreit/" target data-astro-cid-3lltiirq> <span class="it">üîç Panoramica</span> </a> </li>   <li class="menu-item-visit-engelbreit" data-astro-cid-d4c3jo7i> <!-- Mode lien normal -->
    <a class="fr" href="/coloc/engelbreit/visite" data-astro-cid-d4c3jo7i> <span class="fr">üé• Visite virtuelle</span> </a><a class="en" href="/coloc/engelbreit/visit" data-astro-cid-d4c3jo7i> <span class="en">üé• Virtual tour</span> </a><a class="de" href="/coloc/engelbreit/besuchen" data-astro-cid-d4c3jo7i> <span class="de">üé• Virtueller Besuch</span> </a><a class="es" href="/coloc/engelbreit/visita" data-astro-cid-d4c3jo7i> <span class="es">üé• Visita virtual</span> </a><a class="it" href="/coloc/engelbreit/Visita" data-astro-cid-d4c3jo7i> <span class="it">üé• Visita virtuale</span> </a> </li> <script>(function(){const locales = ["fr","en","de","es","it"];
const pricesData = {"flats":{"engelbreit":{"caution":750,"insurance":8,"charges":85,"available":{"engelbreit-chambre-salon":"20/09","engelbreit-chambre-west":false,"engelbreit-chambre-north":false,"engelbreit-chambre-south":"01/11"}},"romains":{"caution":675,"insurance":8,"charges":75,"available":{"romains-chambre-cellier":false,"romains-chambre-cuisine":"15/09","romains-chambre-grandeD":"01/10","romains-chambre-grandeG":false,"romains-chambre-balcon":false}}},"rows":[{"flat":"engelbreit","labelKey":"engelbreit-chambre-salon","price_history":[{"date":"04/2023","nom":"Caroline Thalmann","price":398},{"date":"06/2024","nom":"Laurene Fouquet","price":398},{"date":"07/2025","nom":"Leya Cellier","price":410},{"date":"09/2025","price":429}],"size":10},{"flat":"engelbreit","labelKey":"engelbreit-chambre-west","price_history":[{"date":"05/2023","nom":"Pierrick Cotteau","price":410},{"date":"09/2023","nom":"Marie David","price":410},{"date":"05/2024","nom":"Aimen Jennah","price":410},{"date":"06/2024","nom":"Xavier Roulot","price":410},{"date":"08/2025","nom":"Mathilde Burg","price":430},{"date":"09/2025","price":440}],"size":11},{"flat":"engelbreit","labelKey":"engelbreit-chambre-north","price_history":[{"date":"04/2023","nom":"Charlotte Leconte","price":421},{"date":"02/2025","nom":"Natalia Dzioba","price":426},{"date":"08/2025","nom":"Louis Wanke","price":445},{"date":"09/2025","price":455}],"size":13},{"flat":"engelbreit","labelKey":"engelbreit-chambre-south","price_history":[{"date":"04/2023","nom":"Martin Faure","price":435},{"date":"03/2025","nom":"Martin Faure","price":445},{"date":"09/2025","price":460}],"size":15},{"flat":"romains","labelKey":"romains-chambre-cellier","size":9,"price_history":[{"nom":"Camille Pagano","date":"09/2024","price":349},{"nom":"Inga Kurtanidze","date":"02/2025","price":355},{"nom":"Maxime Hunke","date":"08/2025","price":375},{"date":"09/2025","price":389}]},{"flat":"romains","labelKey":"romains-chambre-cuisine","size":9,"price_history":[{"nom":"Thiziri Bouslimani","date":"09/2024","price":349},{"nom":"Marie Pr√©vot","date":"02/2025","price":362},{"nom":"F√©line Mayer","date":"08/2025","price":379},{"date":"09/2025","price":395}]},{"labelKey":"romains-chambre-grandeD","flat":"romains","size":11,"price_history":[{"nom":"Charlotte Maingreaud","date":"09/2024","price":365},{"nom":"Maxime Scaduto","date":"06/2025","price":376},{"date":"09/2025","price":411}]},{"flat":"romains","labelKey":"romains-chambre-grandeG","size":11,"price_history":[{"nom":"Maria Paula","date":"09/2024","price":365},{"nom":"Salome Abramishvili","date":"02/2025","price":370},{"nom":"Alice Thivant","date":"08/2025","price":385},{"date":"09/2025","price":410}]},{"flat":"romains","labelKey":"romains-chambre-balcon","size":9,"price_history":[{"nom":"Maelys Laugier","date":"09/2024","price":360},{"nom":"Joana Ponsenard","date":"06/2025","price":378},{"nom":"Lise Rotolo","date":"08/2025","price":390},{"date":"09/2025","price":418}]}],"mode":"default","schema":{"flat":"string","labelKey":"string","price_history":[{"date":"string","nom":"string","price":"number"}],"size":"number"}};

  // Script pour construire dynamiquement les sections de visite et g√©rer la navigation temporelle
  function initVisitNavigation() {
    // Helper pour obtenir les informations d'une chambre
    function getRoomInfo(labelKey) {
      const room = pricesData.rows.find(room => room.labelKey === labelKey);
      if (!room) return null;

      return {
        labelKey: room.labelKey,
        size: room.size,
        apartment: room.flat,
        isBedroom: room.labelKey.includes('chambre')
      };
    }

    // Helper pour formatter le titre avec emoji et taille
    function formatRoomTitle(translatedTitle, translateKey) {
      // Extraire la cl√© sans le pr√©fixe 'rooms.' si pr√©sent
      const labelKey = translateKey.startsWith('rooms.') ? translateKey.replace('rooms.', '') : translateKey;
      const roomInfo = getRoomInfo(labelKey);

      if (roomInfo?.isBedroom && roomInfo.size) {
        // Si c'est une chambre et qu'on a la taille, ajouter l'emoji et la taille
        // Nettoyer d'abord tout emoji existant
        const cleanTitle = translatedTitle.replace(/üõèÔ∏è\s*/, '');
        return `üõèÔ∏è ${cleanTitle} ${roomInfo.size}m¬≤`;
      }

      return translatedTitle;
    }

    const visitSectionsList = document.querySelector('.visit-sections-list');

    if (!visitSectionsList) {
      console.log('No visit sections list found - not on a visit page');
      return;
    }

    // Vider la liste existante
    visitSectionsList.innerHTML = '';

    // Trouver tous les boutons timelink sur la page
    const timelinkButtons = document.querySelectorAll('.timelink-btn');
    console.log('Found', timelinkButtons.length, 'timelink buttons');

    if (timelinkButtons.length === 0) {
      console.warn('No timelink buttons found! Make sure VisitCard has timelinks prop.');
      return;
    }

    // Liste des langues support√©es depuis les helpers
    const supportedLangs = locales;

    // Fonctions pour g√©n√©rer les styles CSS
    function getBaseStyles() {
      return `
        display: block;
        padding: 2px 8px;
        margin: 1px 0;
        border-radius: 4px;
        transition: all 0.2s ease;
        text-decoration: none;
        border: none;
        font-size: 14px;
        line-height: 2.2;
        font-weight: 500;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        box-sizing: border-box;
        cursor: pointer;
        background: none;
      `;
    }

    function getInactiveStyles() {
      return getBaseStyles() + `
        color: #333;
        background: transparent;
      `;
    }

    function getActiveStyles() {
      return getBaseStyles() + `
        color: white;
        background-color: var(--color-primary);
        font-weight: 600;
        transform: translateX(1px);
        box-shadow: 0 2px 4px rgba(0,0,0,0.3);
      `;
    }

    // Construire dynamiquement la liste des sections √† partir des boutons timelink
    timelinkButtons.forEach((button) => {
      const translateKey = button.getAttribute('data-translate-key');
      const timecode = button.getAttribute('data-timecode');
      const playerId = button.getAttribute('data-player-id');

      if (translateKey && timecode !== null && playerId) {
        const listItem = document.createElement('li');
        const link = document.createElement('button');

        link.className = 'visit-section-link';
        link.setAttribute('data-timecode', timecode);
        link.setAttribute('data-player-id', playerId);
        link.setAttribute('data-translate-key', translateKey);

        // Cr√©er des spans pour chaque langue en r√©cup√©rant le contenu HTML des spans traduits du bouton original
        supportedLangs.forEach(lang => {
          const span = document.createElement('span');
          span.className = lang;

          // Chercher le span avec la classe de langue sp√©cifique dans le bouton original
          let translatedSpan = button.querySelector(`span.${lang}`);

          if (translatedSpan) {
            // Copier le contenu HTML du span traduit
            let originalContent = translatedSpan.innerHTML;

            // Si la cl√© contient 'chambre' ET que le contenu ne contient pas d√©j√† l'emoji, appliquer le formatage
            if (translateKey && translateKey.includes('chambre') && !originalContent.includes('üõèÔ∏è')) {
              const textContent = translatedSpan.textContent || '';
              const formattedTitle = formatRoomTitle(textContent, translateKey);
              span.innerHTML = formattedTitle;
            } else {
              span.innerHTML = originalContent;
            }
          } else {
            // Fallback: utiliser le text content du bouton
            let fallbackText = button.textContent || translateKey;

            // Si la cl√© contient 'chambre' ET que le contenu ne contient pas d√©j√† l'emoji, appliquer le formatage
            if (translateKey && translateKey.includes('chambre') && !fallbackText.includes('üõèÔ∏è')) {
              fallbackText = formatRoomTitle(fallbackText, translateKey);
            }

            span.textContent = fallbackText;
          }

          link.appendChild(span);
        });

        // Styles CSS inline par d√©faut
        link.style.cssText = getInactiveStyles();

        // Hover events
        link.addEventListener('mouseenter', () => {
          if (!link.dataset.active) {
            link.style.backgroundColor = 'var(--color-primary)';
            link.style.color = 'white';
            link.style.transform = 'translateX(2px)';
          }
        });

        link.addEventListener('mouseleave', () => {
          if (!link.dataset.active) {
            link.style.cssText = getInactiveStyles();
          }
        });

        // Click event pour naviguer dans la vid√©o
        link.addEventListener('click', (e) => {
          e.preventDefault();
          setActiveLink(link);
          navigateToTimecode(parseInt(timecode), playerId);
        });

        listItem.appendChild(link);
        visitSectionsList.appendChild(listItem);
      }
    });

    // Fonction pour d√©finir un lien comme actif
    function setActiveLink(activeLink) {
      // D√©sactiver tous les liens
      document.querySelectorAll('.visit-section-link').forEach(link => {
        const htmlLink = link;
        htmlLink.dataset.active = '';
        htmlLink.style.cssText = getInactiveStyles();
      });

      // Activer le lien s√©lectionn√©
      if (activeLink) {
        activeLink.dataset.active = 'true';
        activeLink.style.cssText = getActiveStyles();
        console.log('Activated menu item for timecode:', activeLink.getAttribute('data-timecode'));
      }
    }

    // Fonction pour naviguer vers un timecode dans la vid√©o
    function navigateToTimecode(timecode, playerId) {
      console.log(`Navigation vers timecode ${timecode}s pour le player ${playerId}`);

      if (window.youtubePlayers && playerId && window.youtubePlayers[playerId] && timecode >= 0) {
        window.youtubePlayers[playerId].seekTo(timecode);
        window.youtubePlayers[playerId].playVideo();
        console.log(`Vid√©o positionn√©e √† ${timecode} secondes`);

        // Faire d√©filer vers la vid√©o pour s'assurer qu'elle soit visible
        const videoElement = document.getElementById(playerId);
        if (videoElement) {
          videoElement.scrollIntoView({
            behavior: 'smooth',
            block: 'center',
            inline: 'nearest'
          });
        }
      } else {
        console.log("Player non trouv√© ou timecode invalide");
      }
    }

    // Fonction pour synchroniser le menu avec le timecode actuel de la vid√©o
    function syncWithCurrentTime() {
      // Cette fonction pourrait √™tre √©tendue pour d√©tecter automatiquement
      // le timecode actuel et mettre en surbrillance la section correspondante
      // si besoin (n√©cessiterait un polling r√©gulier du player YouTube)
    }
  }

  // Initialiser quand le DOM est pr√™t
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initVisitNavigation);
  } else {
    initVisitNavigation();
  }

  // R√©initialiser lors des changements de langue
  window.addEventListener('languagechange', initVisitNavigation);
})();</script>  <li class="menu-item-engelbreit-location" data-astro-cid-3lltiirq> <a class="fr" href="/coloc/engelbreit/localisation" target data-astro-cid-3lltiirq> <span class="fr">üìç Localisation</span> </a><a class="en" href="/coloc/engelbreit/location" target data-astro-cid-3lltiirq> <span class="en">üìç Location</span> </a><a class="de" href="/coloc/engelbreit/standort" target data-astro-cid-3lltiirq> <span class="de">üìç Ort</span> </a><a class="es" href="/coloc/engelbreit/ubicacion" target data-astro-cid-3lltiirq> <span class="es">üìç Ubicaci√≥n</span> </a><a class="it" href="/coloc/engelbreit/localizzazione" target data-astro-cid-3lltiirq> <span class="it">üìç Localizzazione</span> </a> </li>   <li class="menu-item-engelbreit-prices" data-astro-cid-3lltiirq> <a class="fr" href="/coloc/engelbreit/prix" target data-astro-cid-3lltiirq> <span class="fr">üí∞ Prix</span> </a><a class="en" href="/coloc/engelbreit/price" target data-astro-cid-3lltiirq> <span class="en">üí∞ Price</span> </a><a class="de" href="/coloc/engelbreit/preis" target data-astro-cid-3lltiirq> <span class="de">üí∞ Preis</span> </a><a class="es" href="/coloc/engelbreit/precio" target data-astro-cid-3lltiirq> <span class="es">üí∞ Precio</span> </a><a class="it" href="/coloc/engelbreit/prezzi" target data-astro-cid-3lltiirq> <span class="it">üí∞ Prezzo</span> </a> </li>   <li class="menu-item-pictures-engelbreit" data-astro-cid-hwcqo2rx> <!-- Mode lien normal -->
    <a class="fr" href="/coloc/engelbreit/photos" data-astro-cid-hwcqo2rx> <span class="fr">üì∑ Photos</span> </a><a class="en" href="/coloc/engelbreit/pictures" data-astro-cid-hwcqo2rx> <span class="en">üì∑ Photos</span> </a><a class="de" href="/coloc/engelbreit/Fotos" data-astro-cid-hwcqo2rx> <span class="de">üì∑ Fotos</span> </a><a class="es" href="/coloc/engelbreit/fotos" data-astro-cid-hwcqo2rx> <span class="es">üì∑ Fotos</span> </a><a class="it" href="/coloc/engelbreit/foto" data-astro-cid-hwcqo2rx> <span class="it">üì∑ Foto</span> </a> </li> <script>(function(){const locales = ["fr","en","de","es","it"];

  // Script simplifi√© pour construire dynamiquement les sections et g√©rer le scroll
  function initPhotoNavigation() {
    const photoSectionsList = document.querySelector('.photo-sections-list');

    if (!photoSectionsList) {
      console.log('No photo sections list found - not on a photos page');
      return;
    }

    // Vider la liste existante
    photoSectionsList.innerHTML = '';

    // Trouver tous les √©l√©ments avec data-section-id
    const sectionElements = document.querySelectorAll('[data-section-id]');
    console.log('Found', sectionElements.length, 'sections with data-section-id');

    if (sectionElements.length === 0) {
      console.warn('No sections found! Make sure FixedTitle components have key props.');
      return;
    }

    // Liste des langues support√©es depuis les helpers
    const supportedLangs = locales;

    // Fonctions pour g√©n√©rer les styles CSS
    function getBaseStyles() {
      return `
        display: block;
        padding: 2px 8px;
        margin: 1px 0;
        border-radius: 4px;
        transition: all 0.2s ease;
        text-decoration: none;
        border: none;
        font-size: 14px;
        line-height: 2.2;
        font-weight: 500;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        box-sizing: border-box;
      `;
    }

    function getInactiveStyles() {
      return getBaseStyles() + `
        color: #333;
        background: transparent;
      `;
    }

    function getActiveStyles() {
      return getBaseStyles() + `
        color: white;
        background-color: var(--color-primary);
        font-weight: 600;
        transform: translateX(1px);
        box-shadow: 0 2px 4px rgba(0,0,0,0.3);
      `;
    }

    // Construire dynamiquement la liste des sections
    sectionElements.forEach((element) => {
      const sectionId = element.getAttribute('data-section-id');

      if (sectionId) {
        // Trouver le container de titre pr√©c√©dent
        const titleContainer = element.previousElementSibling;

        // V√©rifier qu'il s'agit bien d'un h2 (ignorer h1, h3, etc.)
        const h2Element = titleContainer?.querySelector('h2');
        if (!h2Element) {
          console.log(`Skipping section ${sectionId} - not an h2 title`);
          return; // Ignorer cette section si ce n'est pas un h2
        }

        const listItem = document.createElement('li');
        const link = document.createElement('a');

        link.href = `#${sectionId}`;
        link.className = 'photo-section-link';
        link.setAttribute('data-section', sectionId);

        // Cr√©er des spans pour chaque langue en r√©cup√©rant le contenu HTML des spans traduits
        supportedLangs.forEach(lang => {
          const span = document.createElement('span');
          span.className = lang;

          // Pour trouver les traductions, on doit chercher les spans avec les cl√©s compl√®tes "rooms.{sectionId}"
          // car le composant T.astro utilise toujours les cl√©s avec le pr√©fixe "rooms."
          const fullTranslationKey = `rooms.${sectionId}`;
          let translatedSpan = h2Element.querySelector(`span.${lang}`);

          if (translatedSpan) {
            // Copier tout le contenu HTML du span traduit
            span.innerHTML = translatedSpan.innerHTML;
          } else {
            // Fallback: utiliser la sectionId si aucun span sp√©cifique trouv√©
            span.textContent = sectionId;
          }

          link.appendChild(span);
        });

        // Styles CSS inline par d√©faut
        link.style.cssText = getInactiveStyles();

        // Hover events
        link.addEventListener('mouseenter', () => {
          if (!link.dataset.active) {
            link.style.backgroundColor = 'var(--color-primary)';
            link.style.color = 'white';
            link.style.transform = 'translateX(2px)';
          }
        });

        link.addEventListener('mouseleave', () => {
          if (!link.dataset.active) {
            link.style.cssText = getInactiveStyles();
          }
        });

        // Click event
        link.addEventListener('click', (e) => {
          e.preventDefault();
          setActiveLink(link);
          scrollToSection(sectionId);
          updateURL(sectionId);
        });

        listItem.appendChild(link);
        photoSectionsList.appendChild(listItem);
      }
    });

    // Fonction pour d√©finir un lien comme actif
    function setActiveLink(activeLink) {
      // D√©sactiver tous les liens
      document.querySelectorAll('.photo-section-link').forEach(link => {
        const htmlLink = link;
        htmlLink.dataset.active = '';
        htmlLink.style.cssText = getInactiveStyles();
      });

      // Activer le lien s√©lectionn√©
      if (activeLink) {
        activeLink.dataset.active = 'true';
        activeLink.style.cssText = getActiveStyles();
        console.log('Activated menu item:', activeLink.getAttribute('data-section'));
      }
    }

    // Fonction pour faire d√©filer vers une section
    function scrollToSection(sectionId) {
      const targetElement = document.querySelector(`[data-section-id="${sectionId}"]`);
      if (targetElement) {
        targetElement.scrollIntoView({
          behavior: 'smooth',
          block: 'start',
          inline: 'nearest'
        });
      }
    }

    // Fonction pour mettre √† jour l'URL
    function updateURL(sectionId) {
      const newUrl = window.location.pathname + window.location.search + '#' + sectionId;
      window.history.pushState(null, '', newUrl);
    }

    // Fonction pour synchroniser avec l'URL actuelle
    function syncWithURL() {
      const currentHash = window.location.hash.slice(1);
      console.log('syncWithURL called with hash:', currentHash);

      if (currentHash) {
        // V√©rifier d'abord si la section existe
        const targetSection = document.querySelector(`[data-section-id="${currentHash}"]`);
        if (!targetSection) {
          console.warn('Section not found for hash:', currentHash);
          return;
        }

        const targetLink = document.querySelector(`[data-section="${currentHash}"]`);
        if (targetLink) {
          setActiveLink(targetLink);
          console.log('Scrolling to section:', currentHash);
          // Faire d√©filer vers la section correspondante
          scrollToSection(currentHash);
        } else {
          console.warn('Menu link not found for section:', currentHash);
        }
      } else {
        setActiveLink(null);
      }
    }

    // Fonction pour d√©tecter la section active lors du scroll
    function updateActiveOnScroll() {
      let fixedSection = null;

      sectionElements.forEach((element) => {
        const sectionId = element.getAttribute('data-section-id');

        // Trouver le titre associ√© √† cette section
        const titleContainer = element.previousElementSibling;
        const titleElement = titleContainer?.querySelector('.fixed-title');

        if (titleElement) {
          const titleRect = titleElement.getBoundingClientRect();

          // Un titre est consid√©r√© comme "fixed" quand il est coll√© en haut
          // On v√©rifie s'il est dans la zone de titre fixe (0-80px du haut)
          // et que sa section scroll-target est pass√©e (rect.top <= position du titre fixe)
          const sectionRect = element.getBoundingClientRect();

          // Le titre est "fixed" si :
          // 1. Le titre est proche du haut de l'√©cran (position sticky active)
          // 2. La section scroll-target est au-dessus ou tr√®s proche du titre
          if (titleRect.top <= 80 && titleRect.top >= 0 && sectionRect.top <= 80) {
            fixedSection = sectionId;
            console.log('Title is FIXED for section:', sectionId, 'title top:', titleRect.top, 'section top:', sectionRect.top);
          }
        }
      });

      // Ne mettre √† jour l'URL que si on a un titre en position fixed
      if (fixedSection) {
        const currentHash = window.location.hash.slice(1);

        // Mettre √† jour seulement si diff√©rent
        if (fixedSection !== currentHash) {
          const targetLink = document.querySelector(`[data-section="${fixedSection}"]`);
          if (targetLink) {
            setActiveLink(targetLink);
            // Mettre √† jour l'URL sans ajouter √† l'historique
            const newUrl = window.location.pathname + window.location.search + '#' + fixedSection;
            window.history.replaceState(null, '', newUrl);
            console.log('URL updated to FIXED section:', fixedSection);
          }
        }
      }

      // Si aucun titre n'est fixed, on garde l'√©tat actuel sans changer l'URL
      // mais on peut d√©sactiver visuellement le menu si souhait√©
    }

    // √âcouteurs d'√©v√©nements pour le scroll
    const mainElement = document.querySelector('main');
    const bodyElement = document.body;
    const windowElement = window;

    let scrollTimer;

    const handleScroll = () => {
      clearTimeout(scrollTimer);
      scrollTimer = window.setTimeout(() => {
        console.log('Scroll detected, updating active section...');
        updateActiveOnScroll();
      }, 30);
    };

    // √âcouter le scroll sur plusieurs √©l√©ments pour √™tre s√ªr de le capturer
    if (mainElement) {
      mainElement.addEventListener('scroll', handleScroll);
    }
    document.addEventListener('scroll', handleScroll);
    window.addEventListener('scroll', handleScroll);

    // Aussi √©couter les √©v√©nements wheel pour d√©tecter les scrolls √† la molette
    document.addEventListener('wheel', handleScroll, { passive: true });

    // G√©rer les changements d'URL
    window.addEventListener('hashchange', syncWithURL);
    window.addEventListener('popstate', syncWithURL);

    // Synchronisation initiale avec plusieurs tentatives
    setTimeout(syncWithURL, 200);
    setTimeout(syncWithURL, 500);
    setTimeout(syncWithURL, 1000);
  }

  // Initialiser
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initPhotoNavigation);
  } else {
    initPhotoNavigation();
  }

  // R√©initialiser lors des changements de langue
  window.addEventListener('languagechange', initPhotoNavigation);
})();</script>  <li class="menu-item-engelbreit-map" data-astro-cid-3lltiirq> <a class="fr" href="/coloc/engelbreit/carte" target data-astro-cid-3lltiirq> <span class="fr">üó∫Ô∏è Carte</span> </a> </li>    </ul> </details> </li> <script>(function(){const homePageUrl = "/coloc/";

  function handleHashChange() {
    // V√©rifier si on est sur la page d'accueil (utiliser l'URL de base)
    const currentPathname = window.location.pathname;
    const isHomePage =
      currentPathname === homePageUrl ||
      currentPathname === homePageUrl.replace(/\/$/, "");

    if (!isHomePage) return;

    const hash = window.location.hash;
    const allMenuGroups = document.querySelectorAll("[data-menu]");

    // Fermer tous les menus d'abord
    allMenuGroups.forEach((group) => {
      const details = group;
      const summary = details.querySelector("summary");
      details.open = false;
      summary?.classList.remove("active");
    });

    // Extraire le nom du groupe depuis le hash (sans le #)
    const targetMenu = hash.replace("#", "") || null;

    // Ouvrir le menu correspondant si il existe
    if (targetMenu) {
      const targetGroup = document.querySelector(`[data-menu="${targetMenu}"]`);
      const targetSummary = targetGroup?.querySelector("summary");
      if (targetGroup) {
        targetGroup.open = true;
        targetSummary?.classList.add("active");
      }
    }
  }

  // √âcouter les changements de hash
  window.addEventListener("hashchange", handleHashChange);

  // Appliquer au chargement de la page
  document.addEventListener("DOMContentLoaded", handleHashChange);
})();</script>  <li class="menu-item-steps" data-astro-cid-3lltiirq> <a class="fr" href="/coloc/√©tapes-location" target data-astro-cid-3lltiirq> <span class="fr">ü™ú √âtapes pour louer</span> </a><a class="en" href="/coloc/rental-steps" target data-astro-cid-3lltiirq> <span class="en"></span> </a><a class="de" href="/coloc/mietschritte" target data-astro-cid-3lltiirq> <span class="de"></span> </a><a class="es" href="/coloc/pasos-alquiler" target data-astro-cid-3lltiirq> <span class="es"></span> </a><a class="it" href="/coloc/passi-affitto" target data-astro-cid-3lltiirq> <span class="it"></span> </a> </li>   <li class="menu-item-contact" data-astro-cid-3lltiirq> <a class="fr" href="/coloc/contacter" target data-astro-cid-3lltiirq> <span class="fr">üìû Contact</span> </a><a class="en" href="/coloc/contact" target data-astro-cid-3lltiirq> <span class="en">üìû Contact</span> </a><a class="de" href="/coloc/kontakt" target data-astro-cid-3lltiirq> <span class="de">üìû Kontakt</span> </a><a class="es" href="/coloc/contacto" target data-astro-cid-3lltiirq> <span class="es">üìû Contacto</span> </a><a class="it" href="/coloc/contatti" target data-astro-cid-3lltiirq> <span class="it">üìû Contatti</span> </a> </li>   <li data-astro-cid-bkphkkal> <details data-menu="tenants" data-astro-cid-bkphkkal> <summary class data-astro-cid-bkphkkal> <span class="fr">üõèÔ∏è Espace Locataire</span><span class="en"></span><span class="de"></span><span class="es"></span><span class="it"></span> </summary> <ul data-astro-cid-bkphkkal>  <li class="menu-item-tenants-departure" data-astro-cid-3lltiirq> <a class="fr" href="/coloc/tenants/depart" target data-astro-cid-3lltiirq> <span class="fr">üö™ Je m'en vais !</span> </a><a class="en" href="/coloc/tenants/departure" target data-astro-cid-3lltiirq> <span class="en">üö™ I'm going!</span> </a><a class="de" href="/coloc/tenants/abfahrt" target data-astro-cid-3lltiirq> <span class="de">üö™ Ich gehe!</span> </a><a class="es" href="/coloc/tenants/partida" target data-astro-cid-3lltiirq> <span class="es">üö™ ¬°Voy!</span> </a><a class="it" href="/coloc/tenants/partenza" target data-astro-cid-3lltiirq> <span class="it">üö™ Me ne vado!</span> </a> </li>   <li class="menu-item-tenants-rentila" data-astro-cid-3lltiirq> <a class="fr" href="/coloc/tenants/rentila" target data-astro-cid-3lltiirq> <span class="fr">üè† Quittances sur Rentila</span> </a><a class="en" href="/coloc/tenants/rentila" target data-astro-cid-3lltiirq> <span class="en"></span> </a><a class="de" href="/coloc/tenants/rentila" target data-astro-cid-3lltiirq> <span class="de"></span> </a><a class="es" href="/coloc/tenants/rentila" target data-astro-cid-3lltiirq> <span class="es"></span> </a><a class="it" href="/coloc/tenants/rentila" target data-astro-cid-3lltiirq> <span class="it"></span> </a> </li>   <li class="menu-item-tenants-apps" data-astro-cid-3lltiirq> <a class="fr" href="/coloc/tenants/applications-utiles" target data-astro-cid-3lltiirq> <span class="fr">üì± Applications utiles</span> </a> </li>   <li class="menu-item-tenants-infos-romains" data-astro-cid-3lltiirq> <a class="fr" href="/coloc/tenants/infos-romains" target data-astro-cid-3lltiirq> <span class="fr">‚ÑπÔ∏è Romains: Infos</span> </a><a class="en" href="/coloc/tenants/infos-romains" target data-astro-cid-3lltiirq> <span class="en"></span> </a><a class="de" href="/coloc/tenants/infos-romains" target data-astro-cid-3lltiirq> <span class="de"></span> </a><a class="es" href="/coloc/tenants/infos-romains" target data-astro-cid-3lltiirq> <span class="es"></span> </a><a class="it" href="/coloc/tenants/infos-romains" target data-astro-cid-3lltiirq> <span class="it"></span> </a> </li>   <li class="menu-item-tenants-videos-romains" data-astro-cid-3lltiirq> <a class="fr" href="/coloc/tenants/videos-romains" target data-astro-cid-3lltiirq> <span class="fr">üé¨ Romains: Vid√©os d'infos </span> </a><a class="en" href="/coloc/tenants/videos-romains" target data-astro-cid-3lltiirq> <span class="en"></span> </a><a class="de" href="/coloc/tenants/videos-romains" target data-astro-cid-3lltiirq> <span class="de"></span> </a><a class="es" href="/coloc/tenants/videos-romains" target data-astro-cid-3lltiirq> <span class="es"></span> </a><a class="it" href="/coloc/tenants/videos-romains" target data-astro-cid-3lltiirq> <span class="it"></span> </a> </li>   <li class="menu-item-tenants-infos-engelbreit" data-astro-cid-3lltiirq> <a class="fr" href="/coloc/tenants/infos-engelbreit" target data-astro-cid-3lltiirq> <span class="fr">‚ÑπÔ∏è Engelbreit: Infos</span> </a><a class="en" href="/coloc/tenants/infos-engelbreit" target data-astro-cid-3lltiirq> <span class="en"></span> </a><a class="de" href="/coloc/tenants/infos-engelbreit" target data-astro-cid-3lltiirq> <span class="de"></span> </a><a class="es" href="/coloc/tenants/infos-engelbreit" target data-astro-cid-3lltiirq> <span class="es"></span> </a><a class="it" href="/coloc/tenants/infos-engelbreit" target data-astro-cid-3lltiirq> <span class="it"></span> </a> </li>   <li class="menu-item-tenants-videos-engelbreit" data-astro-cid-3lltiirq> <a class="fr" href="/coloc/tenants/videos-engelbreit" target data-astro-cid-3lltiirq> <span class="fr">üé¨ Engelbreit: Vid√©os d'infos </span> </a><a class="en" href="/coloc/tenants/videos-engelbreit" target data-astro-cid-3lltiirq> <span class="en"></span> </a><a class="de" href="/coloc/tenants/videos-engelbreit" target data-astro-cid-3lltiirq> <span class="de"></span> </a><a class="es" href="/coloc/tenants/videos-engelbreit" target data-astro-cid-3lltiirq> <span class="es"></span> </a><a class="it" href="/coloc/tenants/videos-engelbreit" target data-astro-cid-3lltiirq> <span class="it"></span> </a> </li>    </ul> </details> </li> <script>(function(){const homePageUrl = "/coloc/";

  function handleHashChange() {
    // V√©rifier si on est sur la page d'accueil (utiliser l'URL de base)
    const currentPathname = window.location.pathname;
    const isHomePage =
      currentPathname === homePageUrl ||
      currentPathname === homePageUrl.replace(/\/$/, "");

    if (!isHomePage) return;

    const hash = window.location.hash;
    const allMenuGroups = document.querySelectorAll("[data-menu]");

    // Fermer tous les menus d'abord
    allMenuGroups.forEach((group) => {
      const details = group;
      const summary = details.querySelector("summary");
      details.open = false;
      summary?.classList.remove("active");
    });

    // Extraire le nom du groupe depuis le hash (sans le #)
    const targetMenu = hash.replace("#", "") || null;

    // Ouvrir le menu correspondant si il existe
    if (targetMenu) {
      const targetGroup = document.querySelector(`[data-menu="${targetMenu}"]`);
      const targetSummary = targetGroup?.querySelector("summary");
      if (targetGroup) {
        targetGroup.open = true;
        targetSummary?.classList.add("active");
      }
    }
  }

  // √âcouter les changements de hash
  window.addEventListener("hashchange", handleHashChange);

  // Appliquer au chargement de la page
  document.addEventListener("DOMContentLoaded", handleHashChange);
})();</script>  <br data-astro-cid-52d4wjy7> <div class="email-button-container lg:hidden" data-astro-cid-52d4wjy7> <li class="menu-item-at-email_contact" data-astro-cid-3lltiirq> <a class="fr" href="mailto:?subject=Appartement%20Colocation&#38;body=Rentre%20ton%20email%2C%20pour%20t%27envoyer%20le%20lien%20%C3%A0%20toi%20m%C3%AAme%2C%20ou%20celui%20d%27un%20contact%20pour%20partager%20le%20site%20%3A%0Ahttps%3A%2F%2Fdavidbabel.github.io%2Flocatif%2F" target="true" data-astro-cid-3lltiirq> <span class="fr">üñ•Ô∏è Ouvrir sur ordinateur &nbsp;&nbsp;&nbsp;‚ÜóÔ∏è</span> </a><a class="en" href="mailto:?subject=Apartment%20Colocation&#38;body=Enter%20your%20email%2C%20to%20send%20the%20link%20to%20yourself%2C%20or%20that%20of%20a%20contact%20to%20share%20the%20site%3A%0Ahttps%3A%2F%2Fdavidbabel.github.io%2Flocatif%2F" target="true" data-astro-cid-3lltiirq> <span class="en">üñ•Ô∏è See on a computer</span> </a><a class="de" href="mailto:?subject=Wohnung%20Colocation&#38;body=Geben%20Sie%20Ihre%20E-Mail%20ein%2C%20um%20den%20Link%20an%20sich%20selbst%20zu%20senden%2C%20oder%20die%20eines%20Kontakts%2C%20um%20die%20Website%20zu%20teilen%3A%0Ahttps%3A%2F%2Fdavidbabel.github.io%2Flocatif%2F" target="true" data-astro-cid-3lltiirq> <span class="de">üñ•Ô∏è Sehen Sie auf einem Computer</span> </a><a class="es" href="mailto:?subject=Departamento%20Colocation&#38;body=Ingrese%20su%20correo%20electr%C3%B3nico%2C%20para%20enviarse%20el%20enlace%20a%20usted%20mismo%2C%20o%20el%20de%20un%20contacto%20para%20compartir%20el%20sitio%3A%0Ahttps%3A%2F%2Fdavidbabel.github.io%2Flocatif%2F" target="true" data-astro-cid-3lltiirq> <span class="es">üñ•Ô∏è Ver en una computadora</span> </a><a class="it" href="mailto:?subject=Appartamento%20Colocation&#38;body=Inserisci%20la%20tua%20email%2C%20per%20inviare%20il%20link%20a%20te%20stesso%2C%20o%20quello%20di%20un%20contatto%20per%20condividere%20il%20sito%3A%0Ahttps%3A%2F%2Fdavidbabel.github.io%2Flocatif%2F" target="true" data-astro-cid-3lltiirq> <span class="it">üñ•Ô∏è Visualizza sul computer</span> </a> </li>   </div> <li class="admin-only" data-astro-cid-bkphkkal> <details data-menu="admin" data-astro-cid-bkphkkal> <summary class data-astro-cid-bkphkkal> <span class="fr">üëë Admin</span><span class="en"></span><span class="de"></span><span class="es"></span><span class="it"></span> </summary> <ul data-astro-cid-bkphkkal>  <li class="menu-item-admin-titres" data-astro-cid-3lltiirq> <a class="fr" href="/coloc/admin/titres" target data-astro-cid-3lltiirq> <span class="fr">‚öôÔ∏è G√©n√©rateur de titres</span> </a><a class="en" href="/coloc/admin/titres" target data-astro-cid-3lltiirq> <span class="en">‚öôÔ∏è Title generator</span> </a><a class="de" href="/coloc/admin/titres" target data-astro-cid-3lltiirq> <span class="de">‚öôÔ∏è Titelgenerator</span> </a><a class="es" href="/coloc/admin/titres" target data-astro-cid-3lltiirq> <span class="es">‚öôÔ∏è Generador de t√≠tulos</span> </a><a class="it" href="/coloc/admin/titres" target data-astro-cid-3lltiirq> <span class="it">‚öôÔ∏è Generatore di titoli</span> </a> </li>   <li class="menu-item-admin-prix" data-astro-cid-3lltiirq> <a class="fr" href="/coloc/admin/prix" target data-astro-cid-3lltiirq> <span class="fr">üí∞ Prix</span> </a><a class="en" href="/coloc/admin/prix" target data-astro-cid-3lltiirq> <span class="en">üí∞ Price</span> </a><a class="de" href="/coloc/admin/prix" target data-astro-cid-3lltiirq> <span class="de">üí∞ Preis</span> </a><a class="es" href="/coloc/admin/prix" target data-astro-cid-3lltiirq> <span class="es">üí∞ Precio</span> </a><a class="it" href="/coloc/admin/prix" target data-astro-cid-3lltiirq> <span class="it">üí∞ Prezzo</span> </a> </li>   <li class="menu-item-#clean_cache" data-astro-cid-3lltiirq> <a class="fr" href="#" data-action="#clean_cache" data-astro-cid-3lltiirq> <span class="fr">üîÑ R√©initialiser le cache</span> </a><a class="en" href="#" data-action="#clean_cache" data-astro-cid-3lltiirq> <span class="en">üîÑ Reset cache</span> </a><a class="de" href="#" data-action="#clean_cache" data-astro-cid-3lltiirq> <span class="de">üîÑ Cache zur√ºcksetzen</span> </a><a class="es" href="#" data-action="#clean_cache" data-astro-cid-3lltiirq> <span class="es">üîÑ Restablecer cach√©</span> </a><a class="it" href="#" data-action="#clean_cache" data-astro-cid-3lltiirq> <span class="it">üîÑ Ripristina cache</span> </a> </li>    </ul> </details> </li> <script>(function(){const homePageUrl = "/coloc/";

  function handleHashChange() {
    // V√©rifier si on est sur la page d'accueil (utiliser l'URL de base)
    const currentPathname = window.location.pathname;
    const isHomePage =
      currentPathname === homePageUrl ||
      currentPathname === homePageUrl.replace(/\/$/, "");

    if (!isHomePage) return;

    const hash = window.location.hash;
    const allMenuGroups = document.querySelectorAll("[data-menu]");

    // Fermer tous les menus d'abord
    allMenuGroups.forEach((group) => {
      const details = group;
      const summary = details.querySelector("summary");
      details.open = false;
      summary?.classList.remove("active");
    });

    // Extraire le nom du groupe depuis le hash (sans le #)
    const targetMenu = hash.replace("#", "") || null;

    // Ouvrir le menu correspondant si il existe
    if (targetMenu) {
      const targetGroup = document.querySelector(`[data-menu="${targetMenu}"]`);
      const targetSummary = targetGroup?.querySelector("summary");
      if (targetGroup) {
        targetGroup.open = true;
        targetSummary?.classList.add("active");
      }
    }
  }

  // √âcouter les changements de hash
  window.addEventListener("hashchange", handleHashChange);

  // Appliquer au chargement de la page
  document.addEventListener("DOMContentLoaded", handleHashChange);
})();</script>  </ul> </div> <!-- Zone fixe pour le changeur de langue - parfaitement centr√©e --> <div class="flex-shrink-0 relative lang-container-wrapper" data-astro-cid-52d4wjy7> <!-- Ombre en haut pour indiquer le scroll --> <div class="absolute top-0 left-0 right-0 h-4 bg-gradient-to-b from-base-200/90 to-transparent pointer-events-none" data-astro-cid-52d4wjy7></div> <div class="bg-base-200/95 backdrop-blur-sm border-t border-base-300/50" data-astro-cid-52d4wjy7> <!-- Container pour centrer parfaitement les 3 drapeaux --> <div class="flex justify-center items-center py-2" data-astro-cid-52d4wjy7> <div id="lang-switcher" class="flex items-center justify-center w-full" data-astro-cid-uxhrh3b4> <!-- Container centr√© pour les drapeaux uniquement --> <div class="flex items-center justify-center" data-astro-cid-uxhrh3b4> <div id="main-flags" class="flex items-center" data-astro-cid-uxhrh3b4> <button aria-label="fr" data-lang="fr" class="btn btn-ghost p-2 rounded-md w-12 h-9" title="fr" type="button"> <img src="https://flagcdn.com/fr.svg" alt="fr" class="block big" data-astro-cid-54csbnpk>  </button> <button aria-label="en" data-lang="en" class="btn btn-ghost p-2 rounded-md w-12 h-9" title="en" type="button"> <img src="https://flagcdn.com/gb.svg" alt="en" class="block big" data-astro-cid-54csbnpk>  </button>  </div> <!-- Boutons (+) positionn√©s de mani√®re absolue --> <div id="mobile-small-plus" class="md:hidden absolute right-2" data-astro-cid-uxhrh3b4></div> <div id="desktop-small-plus" class="hidden md:block absolute right-2" data-astro-cid-uxhrh3b4></div> </div> </div> <!-- Boutons cach√©s pour les cloner dans le dropdown dynamique --> <div class="hidden" id="hidden-dropdown-buttons" data-astro-cid-uxhrh3b4> <button data-lang="de" class="flex items-center justify-start space-x-2 px-2 py-1 hover:bg-base-200 rounded dropdown-lang-btn" type="button" data-astro-cid-uxhrh3b4> <img src="https://flagcdn.com/de.svg" alt="de" class="block medium" data-astro-cid-54csbnpk>  <span class="text-sm" data-astro-cid-uxhrh3b4>Deutsch</span> </button><button data-lang="es" class="flex items-center justify-start space-x-2 px-2 py-1 hover:bg-base-200 rounded dropdown-lang-btn" type="button" data-astro-cid-uxhrh3b4> <img src="https://flagcdn.com/es.svg" alt="es" class="block medium" data-astro-cid-54csbnpk>  <span class="text-sm" data-astro-cid-uxhrh3b4>Espa√±ol</span> </button><button data-lang="it" class="flex items-center justify-start space-x-2 px-2 py-1 hover:bg-base-200 rounded dropdown-lang-btn" type="button" data-astro-cid-uxhrh3b4> <img src="https://flagcdn.com/it.svg" alt="it" class="block medium" data-astro-cid-54csbnpk>  <span class="text-sm" data-astro-cid-uxhrh3b4>Italiano</span> </button> </div> <script>(function(){const translations = {"fr":{"@":{"HomeFlatCard":{"flat":"Appartement"}},"lang":"Fran√ßais","menu":{"admin":"üëë Admin","map":"üó∫Ô∏è Carte","contact":"üìû Contact","tenants":"üõèÔ∏è Espace Locataire","steps":"ü™ú √âtapes pour louer","departure":"üö™ Je m'en vais !","documents":"üìÇ Dossier de location","flat_engelbreit":"ü•® Appartement Engelbreit","flat_romains":"üèõÔ∏è Appartement Romains","form":"ü§ö Je postule","home":"üè† Accueil","rentila":"üè† Quittances sur Rentila","app-utiles":"üì± Applications utiles","keepOpen":"Garder ouvert","location":"üìç Localisation","overview":"üîç Aper√ßu","photos":"üì∑ Photos","price":"üí∞ Prix","send_email":"üñ•Ô∏è Ouvrir sur ordinateur &nbsp;&nbsp;&nbsp;‚ÜóÔ∏è","titles":"‚öôÔ∏è G√©n√©rateur de titres","overview-engelbreit":"‚ÑπÔ∏è Engelbreit: Infos","overview-romains":"‚ÑπÔ∏è Romains: Infos","videos-engelbreit":"üé¨ Engelbreit: Vid√©os d'infos ","videos-romains":"üé¨ Romains: Vid√©os d'infos ","virtual_visit":"üé• Visite virtuelle","reset_cache":"üîÑ R√©initialiser le cache"},"pages":{"contact":{"title":"üìû Contact","intro":"Si c'est la premi√®re fois que tu cherches √† louer un appartement dans une colocation, c'est normal d'√™tre un peu perdu(e). N'h√©sites pas √† me contacter si tu as des questions sur un appartement, une chambre, sur la ville de Strasbourg ou sur les d√©marches de location. Les conseils, c'est gratuit !","contact-infos":"Vous pouvez me contacter par email ou par t√©l√©phone, via SMS ou WhatsApp, pour toute question ou\npour organiser une visite de l'appartement.","email":"Email","phone":"T√©l√©phone / WhatsApp","share_phone":"Je le partage par <i>email</i> avec plaisir."},"departure":{"title":"üëã Je m'en vais !","intro":"Toutes les bonnes choses ont une fin ! En location meubl√©e, la p√©riode de pr√©avis est de <b>un mois</b> √† partir de la reception de ton avis de d√©part. De mon c√¥t√© je m'engage √† te r√©pondre pour te faire √©conomiser un courrier recommand√©. Tu trouveras ici des mod√®les de lettres de d√©part √† envoyer pour commencer ton pr√©avis.","infos":"Tu peux t√©l√©charger un de ces documents, disponible en fran√ßais ou en anglais, l'imprimer et le signer ou le signer num√©riquement et me le renvoyer par mail sur mon addresse :"},"documents":{"title":"Appartement Engelbreit"},"titles":{"title":"üè† G√©n√©rateur de titres"},"docs":{"intro":{"opening":"En France il y a deux moyens de trouver un chouette appartement dans une grande ville.","method1":"Avoir de la chance","method2":"Avoir un bon dossier de location","list_intro":"<b>Pourquoi ?</b> En France, la loi oblige les agences et propri√©taires √† v√©rifier les papiers et la solvabilit√© des locataires. Voil√† donc la liste des documents attendus dans un dossier de location complet.","personal_note":"Personnellement, je ne fais <u>pas de visite</u> sans dossier de location minimum."},"footer":{"notes_title":"Notes:","missing_docs":"M√™me si il vous manque des documents, fournissez ceux que vous avez, √ßa sera toujours un avantage pour votre dossier.","watermark_info":"Vous pouvez mettre un filigrane de s√©curit√© sur vos documents en utilisant cet","watermark_link_text":"outil du gouvernement","dossier_facile_info":"Vous pouvez √©galement constituer votre dossier distribuable en ligne sur cet outil du gouvernement","dossier_facile_link":"https://dossier-facile.fr"},"no_specific_docs":"Aucun document sp√©cifique requis pour ce statut","titles":{"mandatory":"Documents requis","specific":"Documents sp√©cifiques requis"},"options":{"apprentice":"üë∑ Apprenti / Stagiaire / Petit boulot","employee":"üíº Employ√©","independent":"‚úä Auto-entrepreneur / Ind√©pendant","student":"üë®‚Äçüéì Etudiant","unemployed":"üö∂üèª‚Äç‚ôÇÔ∏è Ch√¥mage"},"result":{"apprenticeship_contract":"‚ûî Convention de stage ou contrat d'apprentissage","contract":"‚ûî Contrat de travail","france_travail":"‚ûî Justificatif de revenu de France Travail (ex P√¥le Emploi)","guarantor":"‚ûî Les informations du garant <br />\n- Une copie de la pi√®ce d'identit√© du garant <br />\n- Les coordonn√©es mail et t√©l√©phone du garant <br />\n- Deux derniers bulletins de salaire et avis d'imposition du garant","home_insurance":"‚ûî L'attestation d'<a target=\"_blank\"\nhref=\"https://www.service-public.fr/particuliers/vosdroits/F21478\">\nassurance habitation\n</a> (apr√®s la signature du bail).","id":"‚ûî Une copie recto/verso de ta carte ID ou de ton passeport, et visa si pertinent (en photo √ßa suffit)","payslips":"‚ûî 3 derniers bulletins de salaire","quittance":"‚ûî Les quittances de loyer de ton logement pr√©c√©dent <br />\n(il suffit de demander √† ton pr√©c√©dent propri√©taire,\nou au pire un extrait de compte bancaire avec la trace du paiement)","residence_permit":"‚ûî Ton titre de s√©jour valide recto/verso (en photo √ßa suffit)","scholarship_certificate":"‚ûî Attestations de bourses","school_certificate":"‚ûî Certificat de scolarit√©","taxes":"‚ûî Ta derni√®re feuille d'imposition (si tu en as une)","urssaf":"‚ûî 2 Derni√®res d√©clarations URSSAF"},"title":"üìÇ Composer votre dossier de location"},"form":{"title":"Formulaire de demande"},"localisation":{"title":"Localisation Colocation","discover_strasbourg":"D√©couvrir Strasbourg","view_apartment_maps":"Voir l'appartement sur üó∫Ô∏è Google Maps","destination_from_apartment":"Destination depuis l'appartement","transports_title":"Transports","destinations":{"station":"Gare","university_main":"Fac centrale Principale","university_medicine":"Fac de m√©decine / Science Politiques","city_center":"Centre ville","supermarket":"Supermarch√© (Lidl)","supermarket_romains":"Supermarch√© (Lidl)","supermarket_engelbreit":"Supermarch√© (Grand Frais)","highway":"Autoroute"},"transports":{"bike":"V√©lo","tram_walk":"Tram + üö∂üèª marche","car":"Voiture"},"tram_info_title":"Info Tram","tram_info_station":"la station","tram_info_opening":"au pied de l'immeuble sera ouverte le","tram_info_date":"15 novembre 2025","view_route_maps":"Voir ce trajet sur üó∫Ô∏è Google Maps"},"pictures":{"title":"üì∑ Photos de l'appartement"},"home":{"title":"Accueil"},"visit":{"title-engel":"üé¨ Visite Virtuelle Engelbreit","title-romains":"üé¨ Visite Virtuelle Romains","disclaimer-price":"<b>Note</b>: Les prix mentionn√©s dans la vid√©o peuvent ne plus √™tre √† jour.","navigation":{"description":"Cliquez sur les sections ci-dessous pour naviguer directement dans la vid√©o :"}},"videos":{"title-engel":"üé¨ Videos Engelbreit","title-romains":"üé¨ Videos Romains","autonomous_arrival":"üîê Arriv√©e autonome","poele_inox":"üç≥ Utilisation po√™les en inox","thermostat_usage":"üî• Utilisation et r√©glage thermostats de chauffage","keys_usage":"üîë Utilisation des cl√©s / Exterieur de l'appartement","appliances_lights_counters":"Utilisation appareils / Lumi√®res üí° / Compteurs ‚ö°Ô∏èüíß"},"prices":{"details":{"agency_fees":"Frais d'agence:","agency_fees_explain":"Vous traitez en direct avec moi, aucun frais d'agence","apl":"√âligible APL ?","apl_explain":" aide au logement de la CAF","charges":"Charges:","charges_explain":"Comprend üíß eau, ‚ô®Ô∏è eau chaude, üå°Ô∏è chauffage, üí° √©lectricit√©, et la üåê         fibre internet.","cost":"üí∞ Prix","cost_monthly":"üìÜ Par mois:","cost_once":"‚òùÔ∏è Une fois / rendu au d√©part:","deposit":"Caution","deposit_alt":"(D√©p√¥t de garantie)","deposit_explain":"R√©cup√©r√© √† la sortie, peut √™tre pay√© en plusieurs fois","home_insurance":"Assurance habitation","home_insurance_explain":"Obligatoire pour toute location en {fr} France","housing_aid":"√âligible APL ?","housing_aid_explain":"Aide au logement de la CAF","peace_of_mind":"Paix de l'esprit:","peace_of_mind_explain":"Parce que √ßa compte, je m'occupe de tout pour rendre les choses simple pour vous","peace_of_mind_included":"inclue","rent":"Loyer:","solidarity_clause":"Clause de solidarit√©:","solidarity_clause_explain":"Vous n'√™tes pas solidaire des autres locataires sur leur loyer","total":"Total:"},"intro":"Voici la liste de tous les frais li√©s √† l'appartement.","intro_explain":"Ces frais seront les m√™mes pour n'importe quelle location et sont donc importants √† prendre en compte dans votre budget.","room":"üõèÔ∏è Chambre","room_choose":"Choisissez une chambre:","title":"üí∞ Prix des chambres pour l'appartement"},"steps":{"title":"ü™ú √âtapes pour louer une chambre","intro":"Voici la liste des √©tapes traditionnelles pour louer une chambre en France.","step_form":"D√©couvrir l'appartement et postuler","step_form_subtitle":"Pour mes appartements, toutes les informations n√©cessaires sont dispponibles dans <a href=\"/formulaire\">le formulaire</a>","step_contact":"Prise de contact pour programmer une visite","step_contact_subtitle":"<b>Note:</b> L'envoi <a href=\"/documents-dossier-de-location\">du dossier de location</a> est n√©cessaire <u>avant</u> d'organiser une visite.","step_visit":"Visite de l'appartement","step_visit_subtitle":"La visite peut √™tre faite sur üé• <b>WhatsApp</b> ou üìç <b>sur place</b>","step_reflection":"D√©lai de r√©flexion","step_reflection_subtitle":"De quelques jours <i>maximum</i>, pour finir les visites","step_choice":"Choix de la chambre et d'une date de d√©but de location","step_choice_subtitle":"Si plusieurs chambres sont disponibles, une liste par ordre de pr√©f√©rence sera demand√©e","step_lease":"Signature du bail et de la caution solidaire par le garant","step_lease_subtitle":"Le bail est sign√© sur un outil en ligne <a href=\"https://www.rentila.com\" target=\"_blank\">Rentila</a>","step_insurance":"Fournir un justificatif d'assurance habitation","step_insurance_subtitle":"C'est obligatoire en France pour n'importe quelle location - <a href=\"https://www.service-public.fr/particuliers/vosdroits/F21478\" target=\"_blank\">plus d'infos ici</a>","step_payment":"Versement du premier loyer","step_payment_subtitle":"","step_deposit":"Versement du d√©p√¥t de garantie","step_deposit_subtitle":"Appel√© parfois \"caution\", le d√©p√¥t de garantie peut aussi √™tre vers√© en plusieurs fois","step_inventory":"√âtat des lieux d'entr√©e","step_inventory_subtitle":"","step_keys":"Remise des cl√©s","step_keys_subtitle":""}},"slug":{"map":"carte","apps":"applications-utiles","steps":"√©tapes-location","contact":"contacter","departure":"depart","documents":"documents-dossier-de-location","form":"formulaire","location":"localisation","pictures":"photos","prices":"prix","visit":"visite","rentila":"rentila","infos-romains":"infos-romains","infos-engelbreit":"infos-engelbreit","videos-romains":"vid√©os-romains","videos-engelbreit":"vid√©os-engelbreit","titres":"titres","@email_contact":"mailto:?subject=Appartement%20Colocation&body=Rentre%20ton%20email%2C%20pour%20t%27envoyer%20le%20lien%20%C3%A0%20toi%20m%C3%AAme%2C%20ou%20celui%20d%27un%20contact%20pour%20partager%20le%20site%20%3A%0Ahttps%3A%2F%2Fdavidbabel.github.io%2Flocatif%2F"},"rooms":{"cellier":"üçû Cellier","cuisine":"üçΩÔ∏è Cuisine","engelbreit-chambre-salon":"Chambre Sud","engelbreit-chambre-west":"Chambre Ouest","engelbreit-chambre-north":"Chambre Nord","engelbreit-chambre-south":"Grande Chambre Sud","romains-chambre-cellier":"Chambre Ouest","romains-chambre-cuisine":"Chambre Est","romains-chambre-grandeG":"Chambre Nord Est","romains-chambre-grandeD":"Chambre Nord Ouest","romains-chambre-balcon":"Chambre Ouest + Balcon","photos-engelbreit":"üì∏ Photos Engelbreit","photos-romains":"üì∏ Photos Romains","plan-2d":"üó∫Ô∏è Plan 2D","salle-bain":"üõÅ Salle de bain","salle-bain-1":"üõÅ Salle de bain (1/2)","salle-douche":"üöø Salle de douche (2/2)","salon-cuisine":"üõãÔ∏è Salon / üçΩÔ∏è Cuisine","salon-entree":"üõãÔ∏è Salon + Entr√©e","trajet-gare":"üöÜ Trajet gare"}},"en":{"@":{"HomeFlatCard":{"flat":"Apartment"}},"lang":"English","menu":{"contact":"üìû Contact","departure":"üö™ I'm going!","documents":"üìÑ Requested Documents","flat_engelbreit":"ü•® Flat Engelbreit","flat_romains":"üèõÔ∏è Flat Romains","form":"ü§ö I Apply","home":"üè† Home","keepOpen":"Keep open","location":"üìç Location","overview":"üîç Overview","photos":"üì∑ Photos","price":"üí∞ Price","send_email":"üñ•Ô∏è See on a computer","titles":"‚öôÔ∏è Title generator","videos":"üé¨ Videos","virtual_visit":"üé• Virtual tour","reset_cache":"üîÑ Reset cache"},"pages":{"contact":{"title":"üìû Contact","intro":"If this is the first time you're looking to rent an apartment in a shared flat, it's normal to be a little lost. Don't hesitate to contact me if you have questions about the apartment, the city or the rental process.","contact-infos":"You can contact me by email or phone for any question or\nto organize a visit of the apartment.","email":"Email","phone":"Phone","share_phone":"I'll gladly share it by email."},"departure":{"title":"üëã I'm leaving!","intro":"All good things must come to an end! For furnished rentals, the notice period is <b>one month</b> from the receipt of your departure notice. On my side, I commit to responding to you to save you from sending a registered letter. You'll find here departure letter templates to send to start your notice period.","infos":"You can download one of these documents, available in French or English, print it and sign it or sign it digitally and send it back to me by email at my address:"},"docs":{"intro":"Here's the list of documents you'll need in your rental file. <br />It's\nokay if you don't have everything, but anything you can provide is bound to\nbe an advantage for your file.<br />\n<i>These documents will be required and asked for any rentals in France</i>","options":{"apprentice":"üë∑ Apprentice / trainee / Small job","employee":"üíº Employee","independent":"‚úä Auto-entrepreneur / independent","student":"üë®‚Äçüéì Student","unemployed":"üö∂üèª‚Äç‚ôÇÔ∏è Unemployment"},"result":{"apprenticeship_contract":"‚ûî Internship agreement or apprenticeship contract","contract":"‚ûî Employment contract","france_travail":"‚ûî Proof of France Work (ex P√¥le Emploi)","guarantor":"‚ûî Guarantor information <br />  \n- a copy of the guarantor's identity document <br />\n- Mail and telephone contact details of the guarantor <br />\n- two last salary slips and guarantor tax notice","home_insurance":"‚ûî The certificate of <a target=\"_blank\"\nhref = \"https://www.service-public.fr/particuliers/vosdroits/F21478\">\nHome insurance\n</a> (after signing the lease).","id":"‚ûî A recto/back copy of your ID card or passport (in photo is enough)","payslips":"‚ûî 3 last salary bulletins","quittance":"‚ûî Rent receipts from your previous accommodation <br />\n(just ask your previous owner,\nor at worst a bank account extract with the trace of payment)","residence_permit":"‚ûî Your valid residence permit/back (in photo is enough)","scholarship_certificate":"‚ûî Scholarship certificates","school_certificate":"‚ûî Tuition certificate","taxes":"‚ûî Your last tax sheet (if you have one)","urssaf":"‚ûî 2 last URSSAF declarations"},"title":"Documents to provide for rental"},"home":{},"localisation":{"title":"Shared Apartment Location","discover_strasbourg":"Discover Strasbourg","view_apartment_maps":"View apartment on üó∫Ô∏è Google Maps","destination_from_apartment":"Destination from apartment","transports_title":"Transports","destinations":{"station":"Train Station","university_main":"Main University Campus","university_medicine":"Medical Faculty / Science Po","city_center":"City Center","supermarket":"Supermarket (Lidl)","supermarket_romains":"Supermarket (Lidl)","supermarket_engelbreit":"Supermarket (Grand Frais)","highway":"Highway"},"transports":{"bike":"Bike","tram_walk":"Tram + üö∂üèª walk","car":"Car"},"tram_info_title":"Tram Info","tram_info_station":"the station","tram_info_opening":"at the foot of the building will open on","tram_info_date":"November 15, 2025","view_route_maps":"View this route on üó∫Ô∏è Google Maps"},"visit":{"title-engel":"üé¨ Virtual Tour Engelbreit","title-romains":"üé¨ Virtual Tour Romains","navigation":{"description":"Click on the sections below to navigate directly in the video:"}},"videos":{"title-engel":"üé¨ Videos Engelbreit","title-romains":"üé¨ Videos Romains","autonomous_arrival":"üîê Autonomous arrival","thermostat_usage":"üî• Usage and setting of heating thermostats","keys_usage":"üîë Key usage / Outside the apartment","appliances_lights_counters":"Appliance usage / Lights üí° / Meters ‚ö°Ô∏èüíß"},"prices":{"details":{"agency_fees":"Agency fees:","agency_fees_explain":"you deal directly with me, no agency fees","apl":"Eligible APL?","apl_explain":"Housing assistance from CAF","charges":"Charges:","charges_explain":"Includes üíß water, ‚ô®Ô∏è hot water, üå°Ô∏è heating, üí° electricity, and the üåê Internet fiber.","cost":"üí∞ Price","cost_monthly":"üìÜ per month:","cost_once":"‚òùÔ∏è Once / returned upon departure:","deposit":"Deposit","deposit_alt":" ","deposit_explain":"recovered at the exit, can be paid in several times","home_insurance":"Home insurance","home_insurance_explain":"Compulsory for any rental in {fr} France","housing_aid":"Eligible for CAF aid?","housing_aid_explain":"Housing assistance from CAF","peace_of_mind":"Peace of mind:","peace_of_mind_explain":"Because it matters, I take care of everything to make things simple for you","peace_of_mind_included":"included","rent":"Rent:","solidarity_clause":"Solidarity clause:","solidarity_clause_explain":"You are not in solidarity with other tenants on their rent","total":"Total:"},"intro":"Here is the list of all the costs related to the apartment. <br />\n<i>These costs will be the same for any rental and are therefore\nimportant to take into account in your budget. </i>","room":"üõèÔ∏è Room","room_choose":"Choose a room:","title":"üí∞ Room price for the apartment"},"steps":{"title":"ü™ú Steps to rent a room","intro":"Here is the list of traditional steps to rent a room in France.","step_form":"Form to discover the apartment and apply","step_contact":"Contact to schedule a visit","step_visit":"Apartment visit, choice of room","step_reflection":"Reflection period of up to a few days","step_choice":"Choice of a room and a rental start date","step_choice_multiple":"If there are several rooms, preference ranking","step_lease":"Signing of the lease (online) and the joint guarantee","step_insurance":"Provide proof of home insurance","step_payment":"Payment of the first rent and charges","step_deposit":"Payment of the security deposit (sometimes called \"caution\")","step_deposit_note":"Note: it can be paid in several installments","step_inventory":"Move-in inventory check and equipment inventory","step_keys":"Key handover"}},"slug":{"contact":"contact","departure":"departure","documents":"rental-file-documents","form":"form","location":"location","pictures":"pictures","prices":"price","visit":"visit","videos":"videos","steps":"rental-steps","@email_contact":"mailto:?subject=Apartment%20Colocation&body=Enter%20your%20email%2C%20to%20send%20the%20link%20to%20yourself%2C%20or%20that%20of%20a%20contact%20to%20share%20the%20site%3A%0Ahttps%3A%2F%2Fdavidbabel.github.io%2Flocatif%2F"},"rooms":{"cellier":"üçû Cellier","cuisine":"üçΩÔ∏è Kitchen","engelbreit-chambre-salon":"Living Room Bedroom","engelbreit-chambre-west":"West Bedroom","engelbreit-chambre-north":"North Bedroom","engelbreit-chambre-south":"Large South Bedroom","romains-chambre-cellier":"Cellier Bedroom","romains-chambre-cuisine":"Kitchen Bedroom","romains-chambre-grandeG":"Left Bedroom","romains-chambre-grandeD":"Right Bedroom","romains-chambre-balcon":"Balcony Bedroom","photos-engelbreit":"üì∏ Engelbreit Photos","photos-romains":"üì∏ Romains Photos","plan-2d":"üó∫Ô∏è 2D Plan","salle-bain":"üõÅ Bathroom","salle-bain-1":"üõÅ Bathroom (1/2)","salle-douche":"üöø Shower Room (2/2)","salon-cuisine":"üõãÔ∏è Living Room / üçΩÔ∏è Kitchen","salon-entree":"üõãÔ∏è Living Room + Entrance","trajet-gare":"üöÜ Station Route"}},"de":{"@":{"HomeFlatCard":{"flat":"Wohnung"}},"lang":"Deutsch","menu":{"contact":"üìû Kontakt","departure":"üö™ Ich gehe!","documents":"üìÑ Angeforderte Dokumente","flat_engelbreit":"ü•® Wohnung Engelbreit","flat_romains":"üèõÔ∏è Wohnung Romains","form":"ü§ö Ich bewerbe mich","home":"üè† Startseite","keepOpen":"Offen bleiben","location":"üìç Ort","overview":"üîç √úbersicht","photos":"üì∑ Fotos","price":"üí∞ Preis","send_email":"üñ•Ô∏è Sehen Sie auf einem Computer","titles":"‚öôÔ∏è Titelgenerator","videos":"üé¨ Videos","virtual_visit":"üé• Virtueller Besuch","reset_cache":"üîÑ Cache zur√ºcksetzen"},"pages":{"contact":{"title":"üìû Kontakt","intro":"Wenn Sie zum ersten Mal eine Wohnung in einer Wohngemeinschaft mieten m√∂chten, ist es normal, sich etwas verloren zu f√ºhlen. Z√∂gern Sie nicht, mich zu kontaktieren, wenn Sie Fragen zur Wohnung, zur Stadt oder zum Mietprozess haben.","contact-infos":"Sie k√∂nnen mich per E-Mail oder Telefon f√ºr alle Fragen kontaktieren oder\num eine Besichtigung der Wohnung zu organisieren.","email":"E-Mail","phone":"Telefon","share_phone":"Ich teile es gerne per E-Mail mit."},"departure":{"title":"üëã Ich gehe!","intro":"Alles Gute hat ein Ende! Bei m√∂blierten Mietverh√§ltnissen betr√§gt die K√ºndigungsfrist <b>einen Monat</b> ab Erhalt Ihrer K√ºndigung. Von meiner Seite verpflichte ich mich, Ihnen zu antworten, um Ihnen einen Einschreibebrief zu ersparen. Hier finden Sie Vorlagen f√ºr K√ºndigungsschreiben, die Sie senden k√∂nnen, um Ihre K√ºndigungsfrist zu beginnen.","infos":"Sie k√∂nnen eines dieser Dokumente, verf√ºgbar auf Franz√∂sisch oder Englisch, herunterladen, ausdrucken und unterschreiben oder digital unterschreiben und mir per E-Mail an meine Adresse zur√ºcksenden:"},"docs":{"intro":"Hier ist die Liste der Dokumente, die in Ihrer Mietdatei erwartet werden. <br />\nDies ist normal, wenn Sie nicht alles haben, aber alles, was Sie bereitstellen k√∂nnen\nUnweigerlich ein Vorteil f√ºr Ihre Datei. <br />\n<i> Diese Dokumente werden f√ºr jeden ohnehin angefordert\nMiete in Frankreich </i>","options":{"apprentice":"üë∑ Lehrling / Auszubildende / Kleiner Job","employee":"üíº Mitarbeiter","independent":"‚úä Auto-Unternehmer / Independent","student":"üë®‚Äçüéì Student","unemployed":"üö∂üèª‚Äç Eute Arbeitslosigkeit"},"result":{"apprenticeship_contract":"‚ûî Praktikumsvereinbarung oder Ausbildungsvertrag","contract":"‚ûî Arbeitsvertrag","france_travail":"‚ûî Nachweis der Frankreicharbeit (Ex p√¥le emploi)","guarantor":"‚ûî Garantieinformationen <br />\n- eine Kopie des Identit√§tsdokuments des Garanters <br />\n- Mail- und Telefonkontaktdaten des Garants <br />\n- Zwei letzte Gehaltsausrutschen und Garantiesteuerk√ºndigung","home_insurance":"‚ûî Das Zertifikat von <a target=\"_blank\"\nhref = \"https://www.service-public.fr/particuliers/vosdroits/F21478\">\nHausversicherung\n</a> (nach der Unterzeichnung des Mietvertrags).","id":"‚ûî Eine Recto/Back -Kopie Ihrer ID -Karte oder Ihres Reisepasses (auf dem Foto reicht aus)","payslips":"‚ûî 3 Letzte Gehaltsbulletins","quittance":"‚ûî Mieten Sie Einnahmen aus Ihrer vorherigen Unterkunft <br />\n(Fragen Sie einfach Ihren Vorbesitzer,\noder im schlimmsten Fall ein Bankkontoauszug mit der Spur der Zahlung)","residence_permit":"‚ûî Ihre g√ºltige Aufenthaltserlaubnis/zur√ºck (auf dem Foto reicht aus)","scholarship_certificate":"‚ûî Stipendienzertifikate","school_certificate":"‚ûî Studiengeb√ºhrenzertifikat","taxes":"‚ûî Ihr letztes Steuerblatt (wenn Sie eines haben)","urssaf":"‚ûî 2 Letzte Urssaf -Deklarationen"},"title":"Dokumente zur Vermietung"},"home":{},"localisation":{"title":"Standort der Wohngemeinschaft","discover_strasbourg":"Stra√üburg entdecken","view_apartment_maps":"Wohnung auf üó∫Ô∏è Google Maps anzeigen","destination_from_apartment":"Ziel von der Wohnung","transports_title":"Verkehrsmittel","destinations":{"station":"Bahnhof","university_main":"Hauptuni-Campus","university_medicine":"Medizinische Fakult√§t / Science Po","city_center":"Stadtzentrum","supermarket":"Supermarkt (Lidl)","supermarket_romains":"Supermarkt (Lidl)","supermarket_engelbreit":"Supermarkt (Grand Frais)","highway":"Autobahn"},"transports":{"bike":"Fahrrad","tram_walk":"Stra√üenbahn + üö∂üèª zu Fu√ü","car":"Auto"},"tram_info_title":"Stra√üenbahn Info","tram_info_station":"die Station","tram_info_opening":"am Fu√üe des Geb√§udes wird ge√∂ffnet am","tram_info_date":"15. November 2025","view_route_maps":"Diese Route auf üó∫Ô∏è Google Maps anzeigen"},"visit":{"title-engel":"üé¨ Virtueller Rundgang Engelbreit","title-romains":"üé¨ Virtueller Rundgang Romains","navigation":{"description":"Klicken Sie auf die folgenden Abschnitte, um direkt im Video zu navigieren:"}},"videos":{"title-engel":"üé¨ Videos Engelbreit","title-romains":"üé¨ Videos Romains","autonomous_arrival":"üîê Autonome Ankunft","thermostat_usage":"üî• Verwendung und Einstellung der Heizungsthermostate","keys_usage":"üîë Schl√ºsselverwendung / Au√üerhalb der Wohnung","appliances_lights_counters":"Ger√§teverwendung / Lichter üí° / Z√§hler ‚ö°Ô∏èüíß"},"prices":{"details":{"agency_fees":"Agenturgeb√ºhren:","agency_fees_explain":"Sie verhandeln direkt mit mir, keine Agenturgeb√ºhren","apl":"Berechtigte APL?","apl_explain":"Wohnungsunterst√ºtzung aus CAF","charges":"Geb√ºhren:","charges_explain":"Beinhaltet üíß Wasser, ‚ô®Ô∏è hei√ües Wasser, üå°Ô∏è Heizung, üí° Strom und üåê Internetfaser.","cost":"üí∞ Preis","cost_monthly":"üìÜ pro Monat:","cost_once":"‚òùÔ∏è Einmal / bei Auszug zur√ºckgegeben:","deposit":"Kaution","deposit_alt":" ","deposit_explain":"An der Aussteigung erholt, kann mehrmals bezahlt werden","home_insurance":"Hausversicherung","home_insurance_explain":"Obligatorisch f√ºr jede Vermietung in {fr} Frankreich","housing_aid":"Berechtigt f√ºr CAF-Hilfe?","housing_aid_explain":"Wohnbeihilfe der CAF","peace_of_mind":"Seelenfrieden:","peace_of_mind_explain":"Weil es wichtig ist, k√ºmmere ich mich um alles, um die Dinge f√ºr Sie einfach zu machen","peace_of_mind_included":"enthalten","rent":"Mieten:","solidarity_clause":"Solidarit√§tsklausel:","solidarity_clause_explain":"Sie sind nicht solidarisch mit anderen Mietern in ihrer Miete","total":"Gesamt:"},"intro":"Hier ist die Liste aller Kosten f√ºr die Wohnung. <br />\n<i>Diese Kosten werden f√ºr jede Vermietung gleich sein und sind deshalb daher\nWichtig ist, in Ihrem Budget zu ber√ºcksichtigen. </i>","room":"üõèÔ∏è Zimmer","room_choose":"W√§hlen Sie einen Raum:","title":"üí∞ Zimmerpreis f√ºr die Wohnung"},"steps":{"title":"ü™ú Schritte zur Zimmermiete","intro":"Hier ist die Liste der traditionellen Schritte zur Zimmermiete in Frankreich.","step_form":"Formular zur Entdeckung der Wohnung und Bewerbung","step_contact":"Kontaktaufnahme zur Terminplanung einer Besichtigung","step_visit":"Wohnungsbesichtigung, Zimmerwahl","step_reflection":"Bedenkzeit von h√∂chstens wenigen Tagen","step_choice":"Wahl eines Zimmers und eines Mietbeginns","step_choice_multiple":"Bei mehreren Zimmern, Rangfolge der Pr√§ferenzen","step_lease":"Unterzeichnung des Mietvertrags (online) und der B√ºrgschaft","step_insurance":"Nachweis einer Hausratversicherung erbringen","step_payment":"Zahlung der ersten Miete und Nebenkosten","step_deposit":"Zahlung der Kaution (manchmal \"B√ºrgschaft\" genannt)","step_deposit_note":"Hinweis: kann in mehreren Raten gezahlt werden","step_inventory":"Einzugsprotokoll und Inventar der Ausstattung","step_keys":"Schl√ºssel√ºbergabe"}},"slug":{"contact":"kontakt","departure":"abfahrt","documents":"mietdateidokumente","form":"bilden","location":"standort","pictures":"Fotos","prices":"preis","visit":"besuchen","videos":"videos","steps":"mietschritte","@email_contact":"mailto:?subject=Wohnung%20Colocation&body=Geben%20Sie%20Ihre%20E-Mail%20ein%2C%20um%20den%20Link%20an%20sich%20selbst%20zu%20senden%2C%20oder%20die%20eines%20Kontakts%2C%20um%20die%20Website%20zu%20teilen%3A%0Ahttps%3A%2F%2Fdavidbabel.github.io%2Flocatif%2F"},"rooms":{"cellier":"üçû Cellier","cuisine":"üçΩÔ∏è K√ºche","engelbreit-chambre-salon":"Salon Zimmer","engelbreit-chambre-west":"Westzimmer","engelbreit-chambre-north":"Nordzimmer","engelbreit-chambre-south":"Gro√ües S√ºdzimmer","romains-chambre-cellier":"Cellier Zimmer","romains-chambre-cuisine":"K√ºchenzimmer","romains-chambre-grandeG":"Linkes Zimmer","romains-chambre-grandeD":"Rechtes Zimmer","romains-chambre-balcon":"Balkonzimmer","photos-engelbreit":"üì∏ Engelbreit Fotos","photos-romains":"üì∏ Romains Fotos","plan-2d":"üó∫Ô∏è 2D-Plan","salle-bain":"üõÅ Badezimmer","salle-bain-1":"üõÅ Badezimmer (1/2)","salle-douche":"üöø Duschbad (2/2)","salon-cuisine":"üõãÔ∏è Salon / üçΩÔ∏è K√ºche","salon-entree":"üõãÔ∏è Salon + Eingang","trajet-gare":"üöÜ Bahnhofsweg"}},"es":{"@":{"HomeFlatCard":{"flat":"Departamento"}},"lang":"Espa√±ol","menu":{"contact":"üìû Contacto","departure":"üö™ ¬°Voy!","documents":"üìÑ Documentos solicitados","flat_engelbreit":"ü•® Departamento Engelbreit","flat_romains":"üèõÔ∏è Departamento Romains","form":"ü§ö Me postulo","home":"üè† Inicio","keepOpen":"Estar abierto","location":"üìç Ubicaci√≥n","overview":"üìå Descripci√≥n general","photos":"üì∑ Fotos","price":"üí∞ Precio","send_email":"üñ•Ô∏è Ver en una computadora","titles":"‚öôÔ∏è Generador de t√≠tulos","videos":"üé¨ Videos","virtual_visit":"üé• Visita virtual","reset_cache":"üîÑ Restablecer cach√©"},"pages":{"contact":{"title":"üìû Contacto","intro":"Si es la primera vez que buscas alquilar un apartamento en una habitaci√≥n compartida, es normal sentirse un poco perdido. No dudes en contactarme si tienes preguntas sobre el apartamento, la ciudad o el proceso de alquiler.","contact-infos":"Puedes contactarme por email o tel√©fono para cualquier pregunta o\npara organizar una visita del apartamento.","email":"Email","phone":"Tel√©fono","share_phone":"Lo comparto por email con mucho gusto."},"departure":{"title":"üëã ¬°Me voy!","intro":"¬°Todas las cosas buenas tienen un final! En alquiler amueblado, el per√≠odo de aviso es de <b>un mes</b> a partir de la recepci√≥n de tu aviso de salida. Por mi parte, me comprometo a responderte para ahorrarte una carta certificada. Aqu√≠ encontrar√°s modelos de cartas de salida para enviar para comenzar tu per√≠odo de aviso.","infos":"Puedes descargar uno de estos documentos, disponible en franc√©s o ingl√©s, imprimirlo y firmarlo o firmarlo digitalmente y devolv√©rmelo por email a mi direcci√≥n:"},"docs":{"intro":"Aqu√≠ est√° la lista de documentos esperados en su archivo de alquiler. <br />\nEsto es normal si no tiene todo, pero todo lo que puede proporcionar ser√°\nInevitablemente una ventaja para su archivo. <br />\n<i> Estos documentos se solicitar√°n de todos modos para cualquier\nAlquiler en Francia </i>","options":{"apprentice":"üë∑ Aprendiz / aprendiz / peque√±o trabajo","employee":"üíº Empleado","independent":"‚úä Auto-In-Empreneur / Independent","student":"üë®‚Äçüéì Estudiante","unemployed":"üö∂üèª‚ÄçÔ∏è Desempleo"},"result":{"apprenticeship_contract":"‚ûî Acuerdo de pr√°cticas o contrato de aprendizaje","contract":"‚ûî Contrato de empleo","france_travail":"‚ûî Prueba de Francia Trabajo (ex P√¥le Emploi)","guarantor":"‚ûî Informaci√≥n del garante <br />\n- Una copia del documento de identidad del garante <br />\n- Los detalles de contacto de correo y tel√©fono del garante <br />\n- Dos √∫ltimos boletines de salario y aviso de impuestos garante","home_insurance":"‚ûî El certificado de <a target=\"_blank\"\nhref = \"https://www.service-public.fr/particuliers/vosdroits/F21478\">\nSeguro de hogar\n</a> (despu√©s de firmar el arrendamiento).","id":"‚ûî Una copia recto/verso de su tarjeta de identificaci√≥n o pasaporte (en foto es suficiente)","payslips":"‚ûî 3 √∫ltimos boletines de salario","quittance":"‚ûî Recibos de alquiler de su alojamiento anterior <br />\n(simplemente solicite a su propietario anterior,\no en el peor de los casos, un extracto de cuenta bancaria con el rastro de pago)","residence_permit":"‚ûî Su permiso de residencia / espalda v√°lido (en foto es suficiente)","scholarship_certificate":"‚ûî Certificados de becas","school_certificate":"‚ûî Certificado de matr√≠cula","taxes":"‚ûî Su √∫ltima hoja de impuestos (si tiene una)","urssaf":"‚ûî 2 √∫ltimas declaraciones URSSAF"},"title":"Documentos que proporcionar para el alquiler"},"home":{},"localisation":{"title":"Ubicaci√≥n compartida del apartamento","discover_strasbourg":"Descubre Estrasburgo","view_apartment_maps":"Ver apartamento en üó∫Ô∏è Google Maps","destination_from_apartment":"Destino desde el apartamento","transports_title":"Transportes","destinations":{"station":"Estaci√≥n de tren","university_main":"Campus universitario principal","university_medicine":"Facultad m√©dica / Science Po","city_center":"Centro de la ciudad","supermarket":"Supermercado (Lidl)","supermarket_romains":"Supermercado (Lidl)","supermarket_engelbreit":"Supermercado (Grand Frais)","highway":"Autopista"},"transports":{"bike":"Bicicleta","tram_walk":"Tram + üö∂üèª caminar","car":"Carro"},"tram_info_title":"Informaci√≥n del tranv√≠a","tram_info_station":"la estaci√≥n","tram_info_opening":"al pie del edificio se abrir√° el","tram_info_date":"15 de noviembre de 2025","view_route_maps":"Ver esta ruta en üó∫Ô∏è Google Maps"},"visit":{"title-engel":"üé¨ Tour Virtual Engelbreit","title-romains":"üé¨ Tour Virtual Romains","navigation":{"description":"Haga clic en las secciones a continuaci√≥n para navegar directamente en el video:"}},"videos":{"title-engel":"üé¨ Videos Engelbreit","title-romains":"üé¨ Videos Romains","autonomous_arrival":"üîê Llegada aut√≥noma","thermostat_usage":"üî• Uso y configuraci√≥n de termostatos de calefacci√≥n","keys_usage":"üîë Uso de llaves / Fuera del apartamento","appliances_lights_counters":"Uso de aparatos / Luces üí° / Medidores ‚ö°Ô∏èüíß"},"prices":{"details":{"agency_fees":"Honorarios de agencia:","agency_fees_explain":"usted trata directamente conmigo, sin honorarios de agencia","apl":"¬øAPL elegible?","apl_explain":"Asistencia de vivienda de CAF","charges":"Cargos:","charges_explain":"Incluye üíß agua, ‚ô®Ô∏è agua caliente, üå°Ô∏è calefacci√≥n, üí° electricidad y la fibra de Internet üåê.","cost":"üí∞ Precio","cost_monthly":"üìÜ por mes:","cost_once":"‚òùÔ∏è Una vez / devuelto a la salida:","deposit":"Dep√≥sito","deposit_alt":" ","deposit_explain":"recuperado en la salida, se puede pagar en varias veces","home_insurance":"Seguro de hogar","home_insurance_explain":"Obligatorio para cualquier alquiler en {fr} Francia","housing_aid":"¬øElegible para ayuda CAF?","housing_aid_explain":"Ayuda de vivienda de la CAF","peace_of_mind":"Tranquilidad:","peace_of_mind_explain":"Porque importa, me encargo de todo para hacer las cosas simples para ti","peace_of_mind_included":"incluido","rent":"Alquiler:","solidarity_clause":"Cl√°usula de solidaridad:","solidarity_clause_explain":"No est√°s en solidaridad con otros inquilinos en su alquiler","total":"Total:"},"intro":"Aqu√≠ est√° la lista de todos los costos relacionados con el apartamento. <br />\n<i>estos costos ser√°n los mismos para cualquier alquiler y, por lo tanto, son\nimportante tener en cuenta en su presupuesto. </i>","room":"üõèÔ∏è Habitaci√≥n","room_choose":"Elija una habitaci√≥n:","title":"üí∞ Precio de la habitaci√≥n para el apartamento"},"steps":{"title":"ü™ú Pasos para alquilar una habitaci√≥n","intro":"Aqu√≠ est√° la lista de pasos tradicionales para alquilar una habitaci√≥n en Francia.","step_form":"Formulario para descubrir el apartamento y aplicar","step_contact":"Contacto para programar una visita","step_visit":"Visita del apartamento, elecci√≥n de habitaci√≥n","step_reflection":"Per√≠odo de reflexi√≥n de m√°ximo unos d√≠as","step_choice":"Elecci√≥n de una habitaci√≥n y fecha de inicio del alquiler","step_choice_multiple":"Si hay varias habitaciones, ranking de preferencias","step_lease":"Firma del contrato de arrendamiento (en l√≠nea) y garant√≠a solidaria","step_insurance":"Proporcionar prueba de seguro de hogar","step_payment":"Pago del primer alquiler y gastos","step_deposit":"Pago del dep√≥sito de seguridad (a veces llamado \"cauci√≥n\")","step_deposit_note":"Nota: se puede pagar en varias cuotas","step_inventory":"Inventario de entrada y equipamiento","step_keys":"Entrega de llaves"}},"slug":{"contact":"contacto","departure":"partida","documents":"documentos-del-archivo-de-alquiler","form":"forma","location":"ubicacion","pictures":"fotos","prices":"precio","visit":"visita","videos":"videos","steps":"pasos-alquiler","@email_contact":"mailto:?subject=Departamento%20Colocation&body=Ingrese%20su%20correo%20electr%C3%B3nico%2C%20para%20enviarse%20el%20enlace%20a%20usted%20mismo%2C%20o%20el%20de%20un%20contacto%20para%20compartir%20el%20sitio%3A%0Ahttps%3A%2F%2Fdavidbabel.github.io%2Flocatif%2F"},"rooms":{"cellier":"üçû Cellier","cuisine":"üçΩÔ∏è Cocina","engelbreit-chambre-salon":"Habitaci√≥n Sal√≥n","engelbreit-chambre-west":"Habitaci√≥n Oeste","engelbreit-chambre-north":"Habitaci√≥n Norte","engelbreit-chambre-south":"Gran Habitaci√≥n Sur","romains-chambre-cellier":"Habitaci√≥n Cellier","romains-chambre-cuisine":"Habitaci√≥n Cocina","romains-chambre-grandeG":"Habitaci√≥n Izquierda","romains-chambre-grandeD":"Habitaci√≥n Derecha","romains-chambre-balcon":"Habitaci√≥n Balc√≥n","photos-engelbreit":"üì∏ Fotos Engelbreit","photos-romains":"üì∏ Fotos Romains","plan-2d":"üó∫Ô∏è Plan 2D","salle-bain":"üõÅ Ba√±o","salle-bain-1":"üõÅ Ba√±o (1/2)","salle-douche":"üöø Sala de ducha (2/2)","salon-cuisine":"üõãÔ∏è Sal√≥n / üçΩÔ∏è Cocina","salon-entree":"üõãÔ∏è Sal√≥n + Entrada","trajet-gare":"üöÜ Ruta de la estaci√≥n"}},"it":{"@":{"HomeFlatCard":{"flat":"Appartamento"}},"lang":"Italiano","menu":{"contact":"üìû Contatti","departure":"üö™ Me ne vado!","documents":"üìÑ Documenti richiesti","flat_engelbreit":"ü•® Appartamento Engelbreit","flat_romains":"üèõÔ∏è Appartamento Romains","form":"ü§ö Faccio domanda","home":"üè† Home","keepOpen":"Tieniti aperto","location":"üìç Localizzazione","overview":"üîç Panoramica","photos":"üì∑ Foto","price":"üí∞ Prezzo","send_email":"üñ•Ô∏è Visualizza sul computer","titles":"‚öôÔ∏è Generatore di titoli","videos":"üé¨ Video","virtual_visit":"üé• Visita virtuale","reset_cache":"üîÑ Ripristina cache"},"pages":{"contact":{"title":"üìû Contatti","intro":"Se √® la prima volta che cerchi di affittare un appartamento in una condivisione, √® normale sentirsi un po' persi. Non esitare a contattarmi se hai domande sull'appartamento, sulla citt√† o sul processo di locazione.","contact-infos":"Puoi contattarmi per email o telefono per qualsiasi domanda o\nper organizzare una visita dell'appartamento.","email":"Email","phone":"Telefono","share_phone":"Lo condivido volentieri per email."},"departure":{"title":"üëã Me ne vado!","intro":"Tutte le cose belle hanno una fine! In locazione arredata, il periodo di preavviso √® di <b>un mese</b> dal ricevimento del tuo avviso di partenza. Dal mio lato mi impegno a risponderti per farti risparmiare una raccomandata. Troverai qui dei modelli di lettere di partenza da inviare per iniziare il tuo preavviso.","infos":"Puoi scaricare uno di questi documenti, disponibile in francese o inglese, stamparlo e firmarlo o firmarlo digitalmente e rispedirmelo per email al mio indirizzo:"},"docs":{"intro":"Ecco l'elenco dei documenti richiesti per il tuo dossier di locazione.<br />\n√à normale che tu non ne abbia tutti, ma tutto ci√≤ che potrai fornire sar√†\nsicuramente un vantaggio per il tuo dossier.<br />\n<i>Questi documenti ti saranno comunque richiesti per qualsiasi\nlocazione in Francia</i>","options":{"apprentice":"üë∑ Apprendista / Stagista / Lavoro part-time","employee":"üíº Dipendente","independent":"‚úä Auto-impiegato / Indipendente","student":"üë®‚Äçüéì Studente","unemployed":"üö∂üèª‚Äç‚ôÇÔ∏è Disoccupazione"},"result":{"apprenticeship_contract":"‚ûî Accordo di tirocinio o contratto di apprendistato","contract":"‚ûî Contratto di lavoro","france_travail":"‚ûî Prova di France Travail (ex P√¥le Emploi)","guarantor":"‚ûî Informazioni del garante <br />\n- Una copia del documento d'identit√† del garante <br />\n- Contatti email e telefonici del garante <br />\n- Ultime due buste paga e avviso fiscale del garante","home_insurance":"‚ûî Il certificato di <a target=\"_blank\"\nhref=\"https://www.service-public.fr/particuliers/vosdroits/F21478\">\nassicurazione casa\n</a> (dopo la firma del contratto).","id":"‚ûî Una copia fronte/retro della tua carta d'identit√† o passaporto (una foto √® sufficiente)","payslips":"‚ûî 3 ultime buste paga","quittance":"‚ûî Ricevute di affitto del tuo precedente alloggio <br />\n(basta chiedere al tuo precedente proprietario,\no nel peggiore dei casi un estratto conto bancario con la traccia del pagamento)","residence_permit":"‚ûî Il tuo permesso di soggiorno valido fronte/retro (una foto √® sufficiente)","scholarship_certificate":"‚ûî Certificati di borsa di studio","school_certificate":"‚ûî Certificato di iscrizione","taxes":"‚ûî La tua ultima dichiarazione dei redditi (se ne hai una)","urssaf":"‚ûî 2 ultime dichiarazioni URSSAF"},"title":"Documenti da fornire per la locazione"},"home":{},"localisation":{"title":"Localizzazione Condivisione Appartamento","discover_strasbourg":"Scopri Strasburgo","view_apartment_maps":"Visualizza appartamento su üó∫Ô∏è Google Maps","destination_from_apartment":"Destinazione dall'appartamento","transports_title":"Trasporti","destinations":{"station":"Stazione","university_main":"Campus universitario principale","university_medicine":"Facolt√† di medicina / Science Po","city_center":"Centro citt√†","supermarket":"Supermercato (Lidl)","supermarket_romains":"Supermercato (Lidl)","supermarket_engelbreit":"Supermercato (Grand Frais)","highway":"Autostrada"},"transports":{"bike":"Bicicletta","tram_walk":"Tram + üö∂üèª cammino","car":"Auto"},"tram_info_title":"Info Tram","tram_info_station":"la stazione","tram_info_opening":"ai piedi dell'edificio aprir√† il","tram_info_date":"15 novembre 2025","view_route_maps":"Visualizza questo percorso su üó∫Ô∏è Google Maps"},"visit":{"title-engel":"üé¨ Tour Virtuale Engelbreit","title-romains":"üé¨ Tour Virtuale Romains","navigation":{"description":"Clicca sulle sezioni qui sotto per navigare direttamente nel video:"}},"videos":{"title-engel":"üé¨ Video Engelbreit","title-romains":"üé¨ Video Romains","autonomous_arrival":"üîê Arrivo autonomo","thermostat_usage":"üî• Uso e impostazione termostati riscaldamento","keys_usage":"üîë Uso delle chiavi / Esterno dell'appartamento","appliances_lights_counters":"Uso elettrodomestici / Luci üí° / Contatori ‚ö°Ô∏èüíß"},"prices":{"details":{"agency_fees":"Costi di agenzia:","agency_fees_explain":"tratti direttamente con me, nessun costo di agenzia","apl":"Eligibile APL?","apl_explain":"Aiuto alloggio dalla CAF","charges":"Spese:","charges_explain":"include üíß acqua, ‚ô®Ô∏è acqua calda, üå°Ô∏è riscaldamento, üí° elettricit√†, e la fibra üåê internet.","cost":"üí∞ Prezzo","cost_monthly":"üìÜ al mese:","cost_once":"‚òùÔ∏è Una volta / restituito alla partenza:","deposit":"Cauzione","deposit_alt":" ","deposit_explain":"recuperata all'uscita, pu√≤ essere pagata in pi√π volte","home_insurance":"Assicurazione casa","home_insurance_explain":"Obbligatoria per qualsiasi affitto in {fr} Francia","housing_aid":"Idoneo per l'aiuto CAF?","housing_aid_explain":"Aiuto alloggio della CAF","peace_of_mind":"Tranquillit√†:","peace_of_mind_explain":"Perch√© conta, mi occupo di tutto per rendere le cose semplici per te","peace_of_mind_included":"inclusa","rent":"Affitto:","solidarity_clause":"Clausola di solidariet√†:","solidarity_clause_explain":"Non siete solidali con altri locatari per il loro canone","total":"Totale:"},"intro":"Ecco l'elenco di tutte le spese collegate all'appartamento. <br />\n<i>Queste spese saranno le stesse per qualsiasi locazione e sono quindi\nimportanti da considerare nel tuo budget.</i>","room":"üõèÔ∏è Camera","room_choose":"Scegli una camera:","title":"üí∞ Prezzi delle camere per l'appartamento"},"steps":{"title":"ü™ú Passi per affittare una camera","intro":"Ecco la lista dei passi tradizionali per affittare una camera in Francia.","step_form":"Modulo per scoprire l'appartamento e candidarsi","step_contact":"Contatto per programmare una visita","step_visit":"Visita dell'appartamento, scelta della camera","step_reflection":"Periodo di riflessione di massimo alcuni giorni","step_choice":"Scelta di una camera e data di inizio locazione","step_choice_multiple":"Se ci sono pi√π camere, classifica delle preferenze","step_lease":"Firma del contratto di locazione (online) e garanzia solidale","step_insurance":"Fornire prova di assicurazione casa","step_payment":"Pagamento del primo affitto e spese","step_deposit":"Pagamento del deposito cauzionale (a volte chiamato \"cauzione\")","step_deposit_note":"Nota: pu√≤ essere pagato in pi√π rate","step_inventory":"Inventario di entrata e attrezzature","step_keys":"Consegna delle chiavi"}},"slug":{"contact":"contatti","departure":"partenza","documents":"documenti-dossier-locazione","form":"modulo","location":"localizzazione","pictures":"foto","prices":"prezzi","visit":"Visita","videos":"video","steps":"passi-affitto","@email_contact":"mailto:?subject=Appartamento%20Colocation&body=Inserisci%20la%20tua%20email%2C%20per%20inviare%20il%20link%20a%20te%20stesso%2C%20o%20quello%20di%20un%20contatto%20per%20condividere%20il%20sito%3A%0Ahttps%3A%2F%2Fdavidbabel.github.io%2Flocatif%2F"},"rooms":{"cellier":"üçû Cellier","cuisine":"üçΩÔ∏è Cucina","engelbreit-chambre-salon":"Camera Soggiorno","engelbreit-chambre-west":"Camera Ovest","engelbreit-chambre-north":"Camera Nord","engelbreit-chambre-south":"Grande Camera Sud","romains-chambre-cellier":"Camera Cellier","romains-chambre-cuisine":"Camera Cucina","romains-chambre-grandeG":"Camera Sinistra","romains-chambre-grandeD":"Camera Destra","romains-chambre-balcon":"Camera Balcone","photos-engelbreit":"üì∏ Foto Engelbreit","photos-romains":"üì∏ Foto Romains","plan-2d":"üó∫Ô∏è Piano 2D","salle-bain":"üõÅ Bagno","salle-bain-1":"üõÅ Bagno (1/2)","salle-douche":"üöø Bagno con doccia (2/2)","salon-cuisine":"üõãÔ∏è Salotto / üçΩÔ∏è Cucina","salon-entree":"üõãÔ∏è Salotto + Ingresso","trajet-gare":"üöÜ Percorso stazione"}}};

  // Rendre les traductions disponibles globalement
  window.langTranslations = translations;
})();</script> <script type="module" src="/coloc/_astro/LangSwitcher.astro_astro_type_script_index_0_lang.BYwI6UlU.js"></script>  </div> </div> </div> </nav> <script>
  (() => {
    const checkbox = document.getElementById("keepOpenCheckbox");
    const menu = document.getElementById("menu");
    const menuToggle = document.getElementById("menu-toggle");
    if (!checkbox || !menu) return;

    // Fonction pour g√©rer le blocage du scroll de la page
    function updateBodyScrollLock() {
      const isLargeScreen = window.innerWidth >= 1024; // lg breakpoint
      const isMenuOpen = menuToggle?.checked || false;

      if (!isLargeScreen && isMenuOpen) {
        // Sur mobile/tablette et menu ouvert : bloquer le scroll
        document.body.classList.add("menu-open");
      } else {
        // Sur desktop ou menu ferm√© : permettre le scroll
        document.body.classList.remove("menu-open");
      }
    }

    // √Ä la charge, on applique la checkbox d'apr√®s localStorage (d√©j√† fait par MenuHamburger)
    // Pas besoin de le refaire ici

    // Gestion de l'animation du menu mobile
    function updateMenuAnimation() {
      const isLargeScreen = window.innerWidth >= 1024; // lg breakpoint
      const keepOpen = checkbox.checked;

      if (isLargeScreen) {
        // Desktop : pas d'animation
        menu.classList.remove(
          "transition-transform",
          "duration-300",
          "ease-in-out",
        );
      } else {
        // Mobile : animation seulement si keepOpen est false
        if (!keepOpen) {
          menu.classList.add(
            "transition-transform",
            "duration-300",
            "ease-in-out",
          );
        } else {
          menu.classList.remove(
            "transition-transform",
            "duration-300",
            "ease-in-out",
          );
        }
      }

      // Mettre √† jour le blocage de scroll
      updateBodyScrollLock();
    }

    // Appliquer au chargement
    updateMenuAnimation();

    // √âcouter les changements de taille d'√©cran
    window.addEventListener("resize", updateMenuAnimation);

    // √âcouter les changements du toggle de menu pour le blocage de scroll
    if (menuToggle) {
      menuToggle.addEventListener("change", updateBodyScrollLock);
    }

    // √âcouter les changements de checkbox (g√©r√© maintenant par MenuHamburger)
    checkbox.addEventListener("change", updateMenuAnimation);
  })();
</script>  <main class="flex-1 overflow-y-auto bg-base-100 px-4 py-2 md:px-8 md:py-4" role="main">   <div class="title-container" data-astro-cid-wve2jxay> <h1 class="fixed-title " data-astro-cid-wve2jxay="true"> <span class="fr">üì∏ Photos Romains</span><span class="en">üì∏ Romains Photos</span><span class="de">üì∏ Romains Fotos</span><span class="es">üì∏ Fotos Romains</span><span class="it">üì∏ Foto Romains</span> </h1> </div> <div class="scroll-target" data-section-id="photos-romains" data-astro-cid-wve2jxay></div>  <div class="title-container" data-astro-cid-wve2jxay> <h2 class="fixed-title " data-astro-cid-wve2jxay="true"> <span class="fr">üõãÔ∏è Salon / üçΩÔ∏è Cuisine</span><span class="en">üõãÔ∏è Living Room / üçΩÔ∏è Kitchen</span><span class="de">üõãÔ∏è Salon / üçΩÔ∏è K√ºche</span><span class="es">üõãÔ∏è Sal√≥n / üçΩÔ∏è Cocina</span><span class="it">üõãÔ∏è Salotto / üçΩÔ∏è Cucina</span> </h2> </div> <div class="scroll-target" data-section-id="salon-cuisine" data-astro-cid-wve2jxay></div>  <div data-vertical="false" data-astro-cid-udcgyguv> <button onclick="document.getElementById('modal_romains_salon-1_jpg').showModal()" data-astro-cid-udcgyguv> <img src="/coloc/romains/photos/img/salon-1.jpg" alt="Photo de romains - salon-1.jpg" data-astro-cid-udcgyguv> </button> </div> <!-- Modal DaisyUI --> <dialog id="modal_romains_salon-1_jpg" class="modal" data-astro-cid-udcgyguv> <div class="modal-container" data-astro-cid-udcgyguv> <form method="dialog" data-astro-cid-udcgyguv> <button class="close-modal-btn absolute right-4 top-4 z-20" style="width: 40px; height: 40px; border-radius: 50%; background-color: rgba(0, 0, 0, 0.9); color: white; border: 2px solid rgba(255, 255, 255, 0.5); display: flex; align-items: center; justify-content: center; font-size: 1.25rem; font-weight: bold; line-height: 1; padding: 0; margin: 0; padding-top: 2px;" data-astro-cid-udcgyguv>
‚úï
</button> </form> <div class="photo-zoom-container w-full h-full overflow-hidden cursor-zoom-in" id="zoom_modal_romains_salon-1_jpg" data-astro-cid-udcgyguv> <img src="/coloc/romains/photos/hd/salon-1.jpg" alt="Photo HD de romains - salon-1.jpg" class="photo-zoomable w-full h-full transition-transform duration-500 ease-out horizontal-image" id="img_modal_romains_salon-1_jpg" data-astro-cid-udcgyguv> </div> </div> <form method="dialog" class="modal-backdrop" data-astro-cid-udcgyguv> <button data-astro-cid-udcgyguv>close</button> </form> </dialog>  <script>
  function initPhotoZoom() {
    // Gestion du zoom pour toutes les images zoomables
    const zoomContainers = document.querySelectorAll(".photo-zoom-container");

    zoomContainers.forEach((container) => {
      const img = container.querySelector(".photo-zoomable");
      if (!img) return;

      let scale = 1;
      let translateX = 0;
      let translateY = 0;
      let isDragging = false;
      let hasDragged = false;
      let startX = 0;
      let startY = 0;
      let mouseDownTime = 0;

      function updateTransform() {
        img.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`;
      }

      function resetZoom() {
        scale = 1;
        translateX = 0;
        translateY = 0;
        img.classList.remove("zoomed");
        img.style.cursor = "zoom-in";
        updateTransform();
      }

      function zoomToPoint(mouseX, mouseY, zoomFactor) {
        const containerRect = container.getBoundingClientRect();
        const imgRect = img.getBoundingClientRect();

        // Position de la souris relative au conteneur
        const mouseXInContainer = mouseX - containerRect.left;
        const mouseYInContainer = mouseY - containerRect.top;

        // Position de la souris relative √† l'image actuelle (en tenant compte des transformations)
        const currentImgX = imgRect.left - containerRect.left;
        const currentImgY = imgRect.top - containerRect.top;

        // Point de focus dans l'image (entre 0 et 1)
        const focusX = (mouseXInContainer - currentImgX) / imgRect.width;
        const focusY = (mouseYInContainer - currentImgY) / imgRect.height;

        // Calculer le nouveau scale
        const oldScale = scale;
        const newScale = Math.min(Math.max(scale * zoomFactor, 1), 5);

        if (newScale === 1) {
          resetZoom();
          return;
        }

        // Calculer les nouvelles translations
        const scaleDelta = newScale - oldScale;
        const imgNaturalWidth = container.offsetWidth;
        const imgNaturalHeight = container.offsetHeight;

        // Ajuster la translation pour que le zoom se fasse vers le point de focus
        translateX -= (focusX - 0.5) * imgNaturalWidth * scaleDelta;
        translateY -= (focusY - 0.5) * imgNaturalHeight * scaleDelta;

        scale = newScale;
        img.classList.add("zoomed");
        img.style.cursor = scale > 1 ? "grab" : "zoom-in";
        updateTransform();
      }

      // Clic pour zoomer √† la position de la souris
      img.addEventListener("click", function (e) {
        // Ne zoomer que si ce n'√©tait pas un glissement
        if (!hasDragged) {
          const zoomFactor = scale < 2 ? 2.5 : 0.4; // Zoom in ou zoom out
          zoomToPoint(e.clientX, e.clientY, zoomFactor);
        }
      });

      // Zoom avec la molette vers la position de la souris
      container.addEventListener("wheel", function (e) {
        e.preventDefault();
        const zoomFactor = e.deltaY > 0 ? 0.9 : 1.1;
        zoomToPoint(e.clientX, e.clientY, zoomFactor);
      });

      // Navigation par clic et glissement
      img.addEventListener("mousedown", function (e) {
        if (scale > 1) {
          isDragging = true;
          hasDragged = false;
          mouseDownTime = Date.now();
          startX = e.clientX - translateX;
          startY = e.clientY - translateY;
          img.style.cursor = "grabbing";
          e.preventDefault();
        }
      });

      document.addEventListener("mousemove", function (e) {
        if (isDragging && scale > 1) {
          // Marquer qu'on a boug√© la souris (donc c'est un glissement, pas un clic)
          const moveDistance =
            Math.abs(e.clientX - (startX + translateX)) +
            Math.abs(e.clientY - (startY + translateY));
          if (moveDistance > 5) {
            // Seuil de 5px pour consid√©rer que c'est un glissement
            hasDragged = true;
          }

          translateX = e.clientX - startX;
          translateY = e.clientY - startY;
          updateTransform();
        }
      });

      document.addEventListener("mouseup", function () {
        if (isDragging) {
          isDragging = false;
          img.style.cursor = scale > 1 ? "grab" : "zoom-in";

          // R√©initialiser hasDragged apr√®s un petit d√©lai pour √©viter le clic imm√©diat
          setTimeout(() => {
            hasDragged = false;
          }, 50);
        }
      });

      // Double-clic pour zoom rapide
      img.addEventListener("dblclick", function (e) {
        e.preventDefault();
        if (scale === 1) {
          zoomToPoint(e.clientX, e.clientY, 3);
        } else {
          resetZoom();
        }
      });

      // R√©initialiser quand la modal se ferme
      const modal = container.closest(".modal");
      if (modal) {
        modal.addEventListener("close", resetZoom);

        // Observer pour d√©tecter quand la modal est ferm√©e
        const observer = new MutationObserver(function (mutations) {
          mutations.forEach(function (mutation) {
            if (
              mutation.type === "attributes" &&
              mutation.attributeName === "open"
            ) {
              if (!modal.hasAttribute("open")) {
                resetZoom();
              }
            }
          });
        });
        observer.observe(modal, { attributes: true });
      }
    });
  }

  // Initialiser quand le DOM est pr√™t
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initPhotoZoom);
  } else {
    initPhotoZoom();
  }

  // Gestion du bouton de fermeture pour qu'il disparaisse imm√©diatement
  function initCloseButtons() {
    const closeButtons = document.querySelectorAll(".close-modal-btn");
    closeButtons.forEach((button) => {
      button.addEventListener("click", function () {
        // Cacher imm√©diatement le bouton
        this.style.display = "none";

        // Le restaurer apr√®s un court d√©lai au cas o√π la modale ne se fermerait pas
        setTimeout(() => {
          this.style.display = "flex";
        }, 500);
      });
    });
  }

  // Initialiser les boutons de fermeture
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initCloseButtons);
  } else {
    initCloseButtons();
  }
</script> <div data-vertical="false" data-astro-cid-udcgyguv> <button onclick="document.getElementById('modal_romains_salon-2_jpg').showModal()" data-astro-cid-udcgyguv> <img src="/coloc/romains/photos/img/salon-2.jpg" alt="Photo de romains - salon-2.jpg" data-astro-cid-udcgyguv> </button> </div> <!-- Modal DaisyUI --> <dialog id="modal_romains_salon-2_jpg" class="modal" data-astro-cid-udcgyguv> <div class="modal-container" data-astro-cid-udcgyguv> <form method="dialog" data-astro-cid-udcgyguv> <button class="close-modal-btn absolute right-4 top-4 z-20" style="width: 40px; height: 40px; border-radius: 50%; background-color: rgba(0, 0, 0, 0.9); color: white; border: 2px solid rgba(255, 255, 255, 0.5); display: flex; align-items: center; justify-content: center; font-size: 1.25rem; font-weight: bold; line-height: 1; padding: 0; margin: 0; padding-top: 2px;" data-astro-cid-udcgyguv>
‚úï
</button> </form> <div class="photo-zoom-container w-full h-full overflow-hidden cursor-zoom-in" id="zoom_modal_romains_salon-2_jpg" data-astro-cid-udcgyguv> <img src="/coloc/romains/photos/hd/salon-2.jpg" alt="Photo HD de romains - salon-2.jpg" class="photo-zoomable w-full h-full transition-transform duration-500 ease-out horizontal-image" id="img_modal_romains_salon-2_jpg" data-astro-cid-udcgyguv> </div> </div> <form method="dialog" class="modal-backdrop" data-astro-cid-udcgyguv> <button data-astro-cid-udcgyguv>close</button> </form> </dialog>  <script>
  function initPhotoZoom() {
    // Gestion du zoom pour toutes les images zoomables
    const zoomContainers = document.querySelectorAll(".photo-zoom-container");

    zoomContainers.forEach((container) => {
      const img = container.querySelector(".photo-zoomable");
      if (!img) return;

      let scale = 1;
      let translateX = 0;
      let translateY = 0;
      let isDragging = false;
      let hasDragged = false;
      let startX = 0;
      let startY = 0;
      let mouseDownTime = 0;

      function updateTransform() {
        img.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`;
      }

      function resetZoom() {
        scale = 1;
        translateX = 0;
        translateY = 0;
        img.classList.remove("zoomed");
        img.style.cursor = "zoom-in";
        updateTransform();
      }

      function zoomToPoint(mouseX, mouseY, zoomFactor) {
        const containerRect = container.getBoundingClientRect();
        const imgRect = img.getBoundingClientRect();

        // Position de la souris relative au conteneur
        const mouseXInContainer = mouseX - containerRect.left;
        const mouseYInContainer = mouseY - containerRect.top;

        // Position de la souris relative √† l'image actuelle (en tenant compte des transformations)
        const currentImgX = imgRect.left - containerRect.left;
        const currentImgY = imgRect.top - containerRect.top;

        // Point de focus dans l'image (entre 0 et 1)
        const focusX = (mouseXInContainer - currentImgX) / imgRect.width;
        const focusY = (mouseYInContainer - currentImgY) / imgRect.height;

        // Calculer le nouveau scale
        const oldScale = scale;
        const newScale = Math.min(Math.max(scale * zoomFactor, 1), 5);

        if (newScale === 1) {
          resetZoom();
          return;
        }

        // Calculer les nouvelles translations
        const scaleDelta = newScale - oldScale;
        const imgNaturalWidth = container.offsetWidth;
        const imgNaturalHeight = container.offsetHeight;

        // Ajuster la translation pour que le zoom se fasse vers le point de focus
        translateX -= (focusX - 0.5) * imgNaturalWidth * scaleDelta;
        translateY -= (focusY - 0.5) * imgNaturalHeight * scaleDelta;

        scale = newScale;
        img.classList.add("zoomed");
        img.style.cursor = scale > 1 ? "grab" : "zoom-in";
        updateTransform();
      }

      // Clic pour zoomer √† la position de la souris
      img.addEventListener("click", function (e) {
        // Ne zoomer que si ce n'√©tait pas un glissement
        if (!hasDragged) {
          const zoomFactor = scale < 2 ? 2.5 : 0.4; // Zoom in ou zoom out
          zoomToPoint(e.clientX, e.clientY, zoomFactor);
        }
      });

      // Zoom avec la molette vers la position de la souris
      container.addEventListener("wheel", function (e) {
        e.preventDefault();
        const zoomFactor = e.deltaY > 0 ? 0.9 : 1.1;
        zoomToPoint(e.clientX, e.clientY, zoomFactor);
      });

      // Navigation par clic et glissement
      img.addEventListener("mousedown", function (e) {
        if (scale > 1) {
          isDragging = true;
          hasDragged = false;
          mouseDownTime = Date.now();
          startX = e.clientX - translateX;
          startY = e.clientY - translateY;
          img.style.cursor = "grabbing";
          e.preventDefault();
        }
      });

      document.addEventListener("mousemove", function (e) {
        if (isDragging && scale > 1) {
          // Marquer qu'on a boug√© la souris (donc c'est un glissement, pas un clic)
          const moveDistance =
            Math.abs(e.clientX - (startX + translateX)) +
            Math.abs(e.clientY - (startY + translateY));
          if (moveDistance > 5) {
            // Seuil de 5px pour consid√©rer que c'est un glissement
            hasDragged = true;
          }

          translateX = e.clientX - startX;
          translateY = e.clientY - startY;
          updateTransform();
        }
      });

      document.addEventListener("mouseup", function () {
        if (isDragging) {
          isDragging = false;
          img.style.cursor = scale > 1 ? "grab" : "zoom-in";

          // R√©initialiser hasDragged apr√®s un petit d√©lai pour √©viter le clic imm√©diat
          setTimeout(() => {
            hasDragged = false;
          }, 50);
        }
      });

      // Double-clic pour zoom rapide
      img.addEventListener("dblclick", function (e) {
        e.preventDefault();
        if (scale === 1) {
          zoomToPoint(e.clientX, e.clientY, 3);
        } else {
          resetZoom();
        }
      });

      // R√©initialiser quand la modal se ferme
      const modal = container.closest(".modal");
      if (modal) {
        modal.addEventListener("close", resetZoom);

        // Observer pour d√©tecter quand la modal est ferm√©e
        const observer = new MutationObserver(function (mutations) {
          mutations.forEach(function (mutation) {
            if (
              mutation.type === "attributes" &&
              mutation.attributeName === "open"
            ) {
              if (!modal.hasAttribute("open")) {
                resetZoom();
              }
            }
          });
        });
        observer.observe(modal, { attributes: true });
      }
    });
  }

  // Initialiser quand le DOM est pr√™t
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initPhotoZoom);
  } else {
    initPhotoZoom();
  }

  // Gestion du bouton de fermeture pour qu'il disparaisse imm√©diatement
  function initCloseButtons() {
    const closeButtons = document.querySelectorAll(".close-modal-btn");
    closeButtons.forEach((button) => {
      button.addEventListener("click", function () {
        // Cacher imm√©diatement le bouton
        this.style.display = "none";

        // Le restaurer apr√®s un court d√©lai au cas o√π la modale ne se fermerait pas
        setTimeout(() => {
          this.style.display = "flex";
        }, 500);
      });
    });
  }

  // Initialiser les boutons de fermeture
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initCloseButtons);
  } else {
    initCloseButtons();
  }
</script> <div data-vertical="false" data-astro-cid-udcgyguv> <button onclick="document.getElementById('modal_romains_salon-3_jpg').showModal()" data-astro-cid-udcgyguv> <img src="/coloc/romains/photos/img/salon-3.jpg" alt="Photo de romains - salon-3.jpg" data-astro-cid-udcgyguv> </button> </div> <!-- Modal DaisyUI --> <dialog id="modal_romains_salon-3_jpg" class="modal" data-astro-cid-udcgyguv> <div class="modal-container" data-astro-cid-udcgyguv> <form method="dialog" data-astro-cid-udcgyguv> <button class="close-modal-btn absolute right-4 top-4 z-20" style="width: 40px; height: 40px; border-radius: 50%; background-color: rgba(0, 0, 0, 0.9); color: white; border: 2px solid rgba(255, 255, 255, 0.5); display: flex; align-items: center; justify-content: center; font-size: 1.25rem; font-weight: bold; line-height: 1; padding: 0; margin: 0; padding-top: 2px;" data-astro-cid-udcgyguv>
‚úï
</button> </form> <div class="photo-zoom-container w-full h-full overflow-hidden cursor-zoom-in" id="zoom_modal_romains_salon-3_jpg" data-astro-cid-udcgyguv> <img src="/coloc/romains/photos/hd/salon-3.jpg" alt="Photo HD de romains - salon-3.jpg" class="photo-zoomable w-full h-full transition-transform duration-500 ease-out horizontal-image" id="img_modal_romains_salon-3_jpg" data-astro-cid-udcgyguv> </div> </div> <form method="dialog" class="modal-backdrop" data-astro-cid-udcgyguv> <button data-astro-cid-udcgyguv>close</button> </form> </dialog>  <script>
  function initPhotoZoom() {
    // Gestion du zoom pour toutes les images zoomables
    const zoomContainers = document.querySelectorAll(".photo-zoom-container");

    zoomContainers.forEach((container) => {
      const img = container.querySelector(".photo-zoomable");
      if (!img) return;

      let scale = 1;
      let translateX = 0;
      let translateY = 0;
      let isDragging = false;
      let hasDragged = false;
      let startX = 0;
      let startY = 0;
      let mouseDownTime = 0;

      function updateTransform() {
        img.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`;
      }

      function resetZoom() {
        scale = 1;
        translateX = 0;
        translateY = 0;
        img.classList.remove("zoomed");
        img.style.cursor = "zoom-in";
        updateTransform();
      }

      function zoomToPoint(mouseX, mouseY, zoomFactor) {
        const containerRect = container.getBoundingClientRect();
        const imgRect = img.getBoundingClientRect();

        // Position de la souris relative au conteneur
        const mouseXInContainer = mouseX - containerRect.left;
        const mouseYInContainer = mouseY - containerRect.top;

        // Position de la souris relative √† l'image actuelle (en tenant compte des transformations)
        const currentImgX = imgRect.left - containerRect.left;
        const currentImgY = imgRect.top - containerRect.top;

        // Point de focus dans l'image (entre 0 et 1)
        const focusX = (mouseXInContainer - currentImgX) / imgRect.width;
        const focusY = (mouseYInContainer - currentImgY) / imgRect.height;

        // Calculer le nouveau scale
        const oldScale = scale;
        const newScale = Math.min(Math.max(scale * zoomFactor, 1), 5);

        if (newScale === 1) {
          resetZoom();
          return;
        }

        // Calculer les nouvelles translations
        const scaleDelta = newScale - oldScale;
        const imgNaturalWidth = container.offsetWidth;
        const imgNaturalHeight = container.offsetHeight;

        // Ajuster la translation pour que le zoom se fasse vers le point de focus
        translateX -= (focusX - 0.5) * imgNaturalWidth * scaleDelta;
        translateY -= (focusY - 0.5) * imgNaturalHeight * scaleDelta;

        scale = newScale;
        img.classList.add("zoomed");
        img.style.cursor = scale > 1 ? "grab" : "zoom-in";
        updateTransform();
      }

      // Clic pour zoomer √† la position de la souris
      img.addEventListener("click", function (e) {
        // Ne zoomer que si ce n'√©tait pas un glissement
        if (!hasDragged) {
          const zoomFactor = scale < 2 ? 2.5 : 0.4; // Zoom in ou zoom out
          zoomToPoint(e.clientX, e.clientY, zoomFactor);
        }
      });

      // Zoom avec la molette vers la position de la souris
      container.addEventListener("wheel", function (e) {
        e.preventDefault();
        const zoomFactor = e.deltaY > 0 ? 0.9 : 1.1;
        zoomToPoint(e.clientX, e.clientY, zoomFactor);
      });

      // Navigation par clic et glissement
      img.addEventListener("mousedown", function (e) {
        if (scale > 1) {
          isDragging = true;
          hasDragged = false;
          mouseDownTime = Date.now();
          startX = e.clientX - translateX;
          startY = e.clientY - translateY;
          img.style.cursor = "grabbing";
          e.preventDefault();
        }
      });

      document.addEventListener("mousemove", function (e) {
        if (isDragging && scale > 1) {
          // Marquer qu'on a boug√© la souris (donc c'est un glissement, pas un clic)
          const moveDistance =
            Math.abs(e.clientX - (startX + translateX)) +
            Math.abs(e.clientY - (startY + translateY));
          if (moveDistance > 5) {
            // Seuil de 5px pour consid√©rer que c'est un glissement
            hasDragged = true;
          }

          translateX = e.clientX - startX;
          translateY = e.clientY - startY;
          updateTransform();
        }
      });

      document.addEventListener("mouseup", function () {
        if (isDragging) {
          isDragging = false;
          img.style.cursor = scale > 1 ? "grab" : "zoom-in";

          // R√©initialiser hasDragged apr√®s un petit d√©lai pour √©viter le clic imm√©diat
          setTimeout(() => {
            hasDragged = false;
          }, 50);
        }
      });

      // Double-clic pour zoom rapide
      img.addEventListener("dblclick", function (e) {
        e.preventDefault();
        if (scale === 1) {
          zoomToPoint(e.clientX, e.clientY, 3);
        } else {
          resetZoom();
        }
      });

      // R√©initialiser quand la modal se ferme
      const modal = container.closest(".modal");
      if (modal) {
        modal.addEventListener("close", resetZoom);

        // Observer pour d√©tecter quand la modal est ferm√©e
        const observer = new MutationObserver(function (mutations) {
          mutations.forEach(function (mutation) {
            if (
              mutation.type === "attributes" &&
              mutation.attributeName === "open"
            ) {
              if (!modal.hasAttribute("open")) {
                resetZoom();
              }
            }
          });
        });
        observer.observe(modal, { attributes: true });
      }
    });
  }

  // Initialiser quand le DOM est pr√™t
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initPhotoZoom);
  } else {
    initPhotoZoom();
  }

  // Gestion du bouton de fermeture pour qu'il disparaisse imm√©diatement
  function initCloseButtons() {
    const closeButtons = document.querySelectorAll(".close-modal-btn");
    closeButtons.forEach((button) => {
      button.addEventListener("click", function () {
        // Cacher imm√©diatement le bouton
        this.style.display = "none";

        // Le restaurer apr√®s un court d√©lai au cas o√π la modale ne se fermerait pas
        setTimeout(() => {
          this.style.display = "flex";
        }, 500);
      });
    });
  }

  // Initialiser les boutons de fermeture
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initCloseButtons);
  } else {
    initCloseButtons();
  }
</script> <div data-vertical="false" data-astro-cid-udcgyguv> <button onclick="document.getElementById('modal_romains_salon-4_jpg').showModal()" data-astro-cid-udcgyguv> <img src="/coloc/romains/photos/img/salon-4.jpg" alt="Photo de romains - salon-4.jpg" data-astro-cid-udcgyguv> </button> </div> <!-- Modal DaisyUI --> <dialog id="modal_romains_salon-4_jpg" class="modal" data-astro-cid-udcgyguv> <div class="modal-container" data-astro-cid-udcgyguv> <form method="dialog" data-astro-cid-udcgyguv> <button class="close-modal-btn absolute right-4 top-4 z-20" style="width: 40px; height: 40px; border-radius: 50%; background-color: rgba(0, 0, 0, 0.9); color: white; border: 2px solid rgba(255, 255, 255, 0.5); display: flex; align-items: center; justify-content: center; font-size: 1.25rem; font-weight: bold; line-height: 1; padding: 0; margin: 0; padding-top: 2px;" data-astro-cid-udcgyguv>
‚úï
</button> </form> <div class="photo-zoom-container w-full h-full overflow-hidden cursor-zoom-in" id="zoom_modal_romains_salon-4_jpg" data-astro-cid-udcgyguv> <img src="/coloc/romains/photos/hd/salon-4.jpg" alt="Photo HD de romains - salon-4.jpg" class="photo-zoomable w-full h-full transition-transform duration-500 ease-out horizontal-image" id="img_modal_romains_salon-4_jpg" data-astro-cid-udcgyguv> </div> </div> <form method="dialog" class="modal-backdrop" data-astro-cid-udcgyguv> <button data-astro-cid-udcgyguv>close</button> </form> </dialog>  <script>
  function initPhotoZoom() {
    // Gestion du zoom pour toutes les images zoomables
    const zoomContainers = document.querySelectorAll(".photo-zoom-container");

    zoomContainers.forEach((container) => {
      const img = container.querySelector(".photo-zoomable");
      if (!img) return;

      let scale = 1;
      let translateX = 0;
      let translateY = 0;
      let isDragging = false;
      let hasDragged = false;
      let startX = 0;
      let startY = 0;
      let mouseDownTime = 0;

      function updateTransform() {
        img.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`;
      }

      function resetZoom() {
        scale = 1;
        translateX = 0;
        translateY = 0;
        img.classList.remove("zoomed");
        img.style.cursor = "zoom-in";
        updateTransform();
      }

      function zoomToPoint(mouseX, mouseY, zoomFactor) {
        const containerRect = container.getBoundingClientRect();
        const imgRect = img.getBoundingClientRect();

        // Position de la souris relative au conteneur
        const mouseXInContainer = mouseX - containerRect.left;
        const mouseYInContainer = mouseY - containerRect.top;

        // Position de la souris relative √† l'image actuelle (en tenant compte des transformations)
        const currentImgX = imgRect.left - containerRect.left;
        const currentImgY = imgRect.top - containerRect.top;

        // Point de focus dans l'image (entre 0 et 1)
        const focusX = (mouseXInContainer - currentImgX) / imgRect.width;
        const focusY = (mouseYInContainer - currentImgY) / imgRect.height;

        // Calculer le nouveau scale
        const oldScale = scale;
        const newScale = Math.min(Math.max(scale * zoomFactor, 1), 5);

        if (newScale === 1) {
          resetZoom();
          return;
        }

        // Calculer les nouvelles translations
        const scaleDelta = newScale - oldScale;
        const imgNaturalWidth = container.offsetWidth;
        const imgNaturalHeight = container.offsetHeight;

        // Ajuster la translation pour que le zoom se fasse vers le point de focus
        translateX -= (focusX - 0.5) * imgNaturalWidth * scaleDelta;
        translateY -= (focusY - 0.5) * imgNaturalHeight * scaleDelta;

        scale = newScale;
        img.classList.add("zoomed");
        img.style.cursor = scale > 1 ? "grab" : "zoom-in";
        updateTransform();
      }

      // Clic pour zoomer √† la position de la souris
      img.addEventListener("click", function (e) {
        // Ne zoomer que si ce n'√©tait pas un glissement
        if (!hasDragged) {
          const zoomFactor = scale < 2 ? 2.5 : 0.4; // Zoom in ou zoom out
          zoomToPoint(e.clientX, e.clientY, zoomFactor);
        }
      });

      // Zoom avec la molette vers la position de la souris
      container.addEventListener("wheel", function (e) {
        e.preventDefault();
        const zoomFactor = e.deltaY > 0 ? 0.9 : 1.1;
        zoomToPoint(e.clientX, e.clientY, zoomFactor);
      });

      // Navigation par clic et glissement
      img.addEventListener("mousedown", function (e) {
        if (scale > 1) {
          isDragging = true;
          hasDragged = false;
          mouseDownTime = Date.now();
          startX = e.clientX - translateX;
          startY = e.clientY - translateY;
          img.style.cursor = "grabbing";
          e.preventDefault();
        }
      });

      document.addEventListener("mousemove", function (e) {
        if (isDragging && scale > 1) {
          // Marquer qu'on a boug√© la souris (donc c'est un glissement, pas un clic)
          const moveDistance =
            Math.abs(e.clientX - (startX + translateX)) +
            Math.abs(e.clientY - (startY + translateY));
          if (moveDistance > 5) {
            // Seuil de 5px pour consid√©rer que c'est un glissement
            hasDragged = true;
          }

          translateX = e.clientX - startX;
          translateY = e.clientY - startY;
          updateTransform();
        }
      });

      document.addEventListener("mouseup", function () {
        if (isDragging) {
          isDragging = false;
          img.style.cursor = scale > 1 ? "grab" : "zoom-in";

          // R√©initialiser hasDragged apr√®s un petit d√©lai pour √©viter le clic imm√©diat
          setTimeout(() => {
            hasDragged = false;
          }, 50);
        }
      });

      // Double-clic pour zoom rapide
      img.addEventListener("dblclick", function (e) {
        e.preventDefault();
        if (scale === 1) {
          zoomToPoint(e.clientX, e.clientY, 3);
        } else {
          resetZoom();
        }
      });

      // R√©initialiser quand la modal se ferme
      const modal = container.closest(".modal");
      if (modal) {
        modal.addEventListener("close", resetZoom);

        // Observer pour d√©tecter quand la modal est ferm√©e
        const observer = new MutationObserver(function (mutations) {
          mutations.forEach(function (mutation) {
            if (
              mutation.type === "attributes" &&
              mutation.attributeName === "open"
            ) {
              if (!modal.hasAttribute("open")) {
                resetZoom();
              }
            }
          });
        });
        observer.observe(modal, { attributes: true });
      }
    });
  }

  // Initialiser quand le DOM est pr√™t
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initPhotoZoom);
  } else {
    initPhotoZoom();
  }

  // Gestion du bouton de fermeture pour qu'il disparaisse imm√©diatement
  function initCloseButtons() {
    const closeButtons = document.querySelectorAll(".close-modal-btn");
    closeButtons.forEach((button) => {
      button.addEventListener("click", function () {
        // Cacher imm√©diatement le bouton
        this.style.display = "none";

        // Le restaurer apr√®s un court d√©lai au cas o√π la modale ne se fermerait pas
        setTimeout(() => {
          this.style.display = "flex";
        }, 500);
      });
    });
  }

  // Initialiser les boutons de fermeture
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initCloseButtons);
  } else {
    initCloseButtons();
  }
</script> <div data-vertical="false" data-astro-cid-udcgyguv> <button onclick="document.getElementById('modal_romains_salon-5_jpg').showModal()" data-astro-cid-udcgyguv> <img src="/coloc/romains/photos/img/salon-5.jpg" alt="Photo de romains - salon-5.jpg" data-astro-cid-udcgyguv> </button> </div> <!-- Modal DaisyUI --> <dialog id="modal_romains_salon-5_jpg" class="modal" data-astro-cid-udcgyguv> <div class="modal-container" data-astro-cid-udcgyguv> <form method="dialog" data-astro-cid-udcgyguv> <button class="close-modal-btn absolute right-4 top-4 z-20" style="width: 40px; height: 40px; border-radius: 50%; background-color: rgba(0, 0, 0, 0.9); color: white; border: 2px solid rgba(255, 255, 255, 0.5); display: flex; align-items: center; justify-content: center; font-size: 1.25rem; font-weight: bold; line-height: 1; padding: 0; margin: 0; padding-top: 2px;" data-astro-cid-udcgyguv>
‚úï
</button> </form> <div class="photo-zoom-container w-full h-full overflow-hidden cursor-zoom-in" id="zoom_modal_romains_salon-5_jpg" data-astro-cid-udcgyguv> <img src="/coloc/romains/photos/hd/salon-5.jpg" alt="Photo HD de romains - salon-5.jpg" class="photo-zoomable w-full h-full transition-transform duration-500 ease-out horizontal-image" id="img_modal_romains_salon-5_jpg" data-astro-cid-udcgyguv> </div> </div> <form method="dialog" class="modal-backdrop" data-astro-cid-udcgyguv> <button data-astro-cid-udcgyguv>close</button> </form> </dialog>  <script>
  function initPhotoZoom() {
    // Gestion du zoom pour toutes les images zoomables
    const zoomContainers = document.querySelectorAll(".photo-zoom-container");

    zoomContainers.forEach((container) => {
      const img = container.querySelector(".photo-zoomable");
      if (!img) return;

      let scale = 1;
      let translateX = 0;
      let translateY = 0;
      let isDragging = false;
      let hasDragged = false;
      let startX = 0;
      let startY = 0;
      let mouseDownTime = 0;

      function updateTransform() {
        img.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`;
      }

      function resetZoom() {
        scale = 1;
        translateX = 0;
        translateY = 0;
        img.classList.remove("zoomed");
        img.style.cursor = "zoom-in";
        updateTransform();
      }

      function zoomToPoint(mouseX, mouseY, zoomFactor) {
        const containerRect = container.getBoundingClientRect();
        const imgRect = img.getBoundingClientRect();

        // Position de la souris relative au conteneur
        const mouseXInContainer = mouseX - containerRect.left;
        const mouseYInContainer = mouseY - containerRect.top;

        // Position de la souris relative √† l'image actuelle (en tenant compte des transformations)
        const currentImgX = imgRect.left - containerRect.left;
        const currentImgY = imgRect.top - containerRect.top;

        // Point de focus dans l'image (entre 0 et 1)
        const focusX = (mouseXInContainer - currentImgX) / imgRect.width;
        const focusY = (mouseYInContainer - currentImgY) / imgRect.height;

        // Calculer le nouveau scale
        const oldScale = scale;
        const newScale = Math.min(Math.max(scale * zoomFactor, 1), 5);

        if (newScale === 1) {
          resetZoom();
          return;
        }

        // Calculer les nouvelles translations
        const scaleDelta = newScale - oldScale;
        const imgNaturalWidth = container.offsetWidth;
        const imgNaturalHeight = container.offsetHeight;

        // Ajuster la translation pour que le zoom se fasse vers le point de focus
        translateX -= (focusX - 0.5) * imgNaturalWidth * scaleDelta;
        translateY -= (focusY - 0.5) * imgNaturalHeight * scaleDelta;

        scale = newScale;
        img.classList.add("zoomed");
        img.style.cursor = scale > 1 ? "grab" : "zoom-in";
        updateTransform();
      }

      // Clic pour zoomer √† la position de la souris
      img.addEventListener("click", function (e) {
        // Ne zoomer que si ce n'√©tait pas un glissement
        if (!hasDragged) {
          const zoomFactor = scale < 2 ? 2.5 : 0.4; // Zoom in ou zoom out
          zoomToPoint(e.clientX, e.clientY, zoomFactor);
        }
      });

      // Zoom avec la molette vers la position de la souris
      container.addEventListener("wheel", function (e) {
        e.preventDefault();
        const zoomFactor = e.deltaY > 0 ? 0.9 : 1.1;
        zoomToPoint(e.clientX, e.clientY, zoomFactor);
      });

      // Navigation par clic et glissement
      img.addEventListener("mousedown", function (e) {
        if (scale > 1) {
          isDragging = true;
          hasDragged = false;
          mouseDownTime = Date.now();
          startX = e.clientX - translateX;
          startY = e.clientY - translateY;
          img.style.cursor = "grabbing";
          e.preventDefault();
        }
      });

      document.addEventListener("mousemove", function (e) {
        if (isDragging && scale > 1) {
          // Marquer qu'on a boug√© la souris (donc c'est un glissement, pas un clic)
          const moveDistance =
            Math.abs(e.clientX - (startX + translateX)) +
            Math.abs(e.clientY - (startY + translateY));
          if (moveDistance > 5) {
            // Seuil de 5px pour consid√©rer que c'est un glissement
            hasDragged = true;
          }

          translateX = e.clientX - startX;
          translateY = e.clientY - startY;
          updateTransform();
        }
      });

      document.addEventListener("mouseup", function () {
        if (isDragging) {
          isDragging = false;
          img.style.cursor = scale > 1 ? "grab" : "zoom-in";

          // R√©initialiser hasDragged apr√®s un petit d√©lai pour √©viter le clic imm√©diat
          setTimeout(() => {
            hasDragged = false;
          }, 50);
        }
      });

      // Double-clic pour zoom rapide
      img.addEventListener("dblclick", function (e) {
        e.preventDefault();
        if (scale === 1) {
          zoomToPoint(e.clientX, e.clientY, 3);
        } else {
          resetZoom();
        }
      });

      // R√©initialiser quand la modal se ferme
      const modal = container.closest(".modal");
      if (modal) {
        modal.addEventListener("close", resetZoom);

        // Observer pour d√©tecter quand la modal est ferm√©e
        const observer = new MutationObserver(function (mutations) {
          mutations.forEach(function (mutation) {
            if (
              mutation.type === "attributes" &&
              mutation.attributeName === "open"
            ) {
              if (!modal.hasAttribute("open")) {
                resetZoom();
              }
            }
          });
        });
        observer.observe(modal, { attributes: true });
      }
    });
  }

  // Initialiser quand le DOM est pr√™t
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initPhotoZoom);
  } else {
    initPhotoZoom();
  }

  // Gestion du bouton de fermeture pour qu'il disparaisse imm√©diatement
  function initCloseButtons() {
    const closeButtons = document.querySelectorAll(".close-modal-btn");
    closeButtons.forEach((button) => {
      button.addEventListener("click", function () {
        // Cacher imm√©diatement le bouton
        this.style.display = "none";

        // Le restaurer apr√®s un court d√©lai au cas o√π la modale ne se fermerait pas
        setTimeout(() => {
          this.style.display = "flex";
        }, 500);
      });
    });
  }

  // Initialiser les boutons de fermeture
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initCloseButtons);
  } else {
    initCloseButtons();
  }
</script> <div class="title-container" data-astro-cid-wve2jxay> <h2 class="fixed-title " data-astro-cid-wve2jxay="true"> <span class="fr">üçû Cellier</span><span class="en">üçû Cellier</span><span class="de">üçû Cellier</span><span class="es">üçû Cellier</span><span class="it">üçû Cellier</span> </h2> </div> <div class="scroll-target" data-section-id="cellier" data-astro-cid-wve2jxay></div>  <div data-vertical="false" data-astro-cid-udcgyguv> <button onclick="document.getElementById('modal_romains_cellier-1_jpg').showModal()" data-astro-cid-udcgyguv> <img src="/coloc/romains/photos/img/cellier-1.jpg" alt="Photo de romains - cellier-1.jpg" data-astro-cid-udcgyguv> </button> </div> <!-- Modal DaisyUI --> <dialog id="modal_romains_cellier-1_jpg" class="modal" data-astro-cid-udcgyguv> <div class="modal-container" data-astro-cid-udcgyguv> <form method="dialog" data-astro-cid-udcgyguv> <button class="close-modal-btn absolute right-4 top-4 z-20" style="width: 40px; height: 40px; border-radius: 50%; background-color: rgba(0, 0, 0, 0.9); color: white; border: 2px solid rgba(255, 255, 255, 0.5); display: flex; align-items: center; justify-content: center; font-size: 1.25rem; font-weight: bold; line-height: 1; padding: 0; margin: 0; padding-top: 2px;" data-astro-cid-udcgyguv>
‚úï
</button> </form> <div class="photo-zoom-container w-full h-full overflow-hidden cursor-zoom-in" id="zoom_modal_romains_cellier-1_jpg" data-astro-cid-udcgyguv> <img src="/coloc/romains/photos/hd/cellier-1.jpg" alt="Photo HD de romains - cellier-1.jpg" class="photo-zoomable w-full h-full transition-transform duration-500 ease-out horizontal-image" id="img_modal_romains_cellier-1_jpg" data-astro-cid-udcgyguv> </div> </div> <form method="dialog" class="modal-backdrop" data-astro-cid-udcgyguv> <button data-astro-cid-udcgyguv>close</button> </form> </dialog>  <script>
  function initPhotoZoom() {
    // Gestion du zoom pour toutes les images zoomables
    const zoomContainers = document.querySelectorAll(".photo-zoom-container");

    zoomContainers.forEach((container) => {
      const img = container.querySelector(".photo-zoomable");
      if (!img) return;

      let scale = 1;
      let translateX = 0;
      let translateY = 0;
      let isDragging = false;
      let hasDragged = false;
      let startX = 0;
      let startY = 0;
      let mouseDownTime = 0;

      function updateTransform() {
        img.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`;
      }

      function resetZoom() {
        scale = 1;
        translateX = 0;
        translateY = 0;
        img.classList.remove("zoomed");
        img.style.cursor = "zoom-in";
        updateTransform();
      }

      function zoomToPoint(mouseX, mouseY, zoomFactor) {
        const containerRect = container.getBoundingClientRect();
        const imgRect = img.getBoundingClientRect();

        // Position de la souris relative au conteneur
        const mouseXInContainer = mouseX - containerRect.left;
        const mouseYInContainer = mouseY - containerRect.top;

        // Position de la souris relative √† l'image actuelle (en tenant compte des transformations)
        const currentImgX = imgRect.left - containerRect.left;
        const currentImgY = imgRect.top - containerRect.top;

        // Point de focus dans l'image (entre 0 et 1)
        const focusX = (mouseXInContainer - currentImgX) / imgRect.width;
        const focusY = (mouseYInContainer - currentImgY) / imgRect.height;

        // Calculer le nouveau scale
        const oldScale = scale;
        const newScale = Math.min(Math.max(scale * zoomFactor, 1), 5);

        if (newScale === 1) {
          resetZoom();
          return;
        }

        // Calculer les nouvelles translations
        const scaleDelta = newScale - oldScale;
        const imgNaturalWidth = container.offsetWidth;
        const imgNaturalHeight = container.offsetHeight;

        // Ajuster la translation pour que le zoom se fasse vers le point de focus
        translateX -= (focusX - 0.5) * imgNaturalWidth * scaleDelta;
        translateY -= (focusY - 0.5) * imgNaturalHeight * scaleDelta;

        scale = newScale;
        img.classList.add("zoomed");
        img.style.cursor = scale > 1 ? "grab" : "zoom-in";
        updateTransform();
      }

      // Clic pour zoomer √† la position de la souris
      img.addEventListener("click", function (e) {
        // Ne zoomer que si ce n'√©tait pas un glissement
        if (!hasDragged) {
          const zoomFactor = scale < 2 ? 2.5 : 0.4; // Zoom in ou zoom out
          zoomToPoint(e.clientX, e.clientY, zoomFactor);
        }
      });

      // Zoom avec la molette vers la position de la souris
      container.addEventListener("wheel", function (e) {
        e.preventDefault();
        const zoomFactor = e.deltaY > 0 ? 0.9 : 1.1;
        zoomToPoint(e.clientX, e.clientY, zoomFactor);
      });

      // Navigation par clic et glissement
      img.addEventListener("mousedown", function (e) {
        if (scale > 1) {
          isDragging = true;
          hasDragged = false;
          mouseDownTime = Date.now();
          startX = e.clientX - translateX;
          startY = e.clientY - translateY;
          img.style.cursor = "grabbing";
          e.preventDefault();
        }
      });

      document.addEventListener("mousemove", function (e) {
        if (isDragging && scale > 1) {
          // Marquer qu'on a boug√© la souris (donc c'est un glissement, pas un clic)
          const moveDistance =
            Math.abs(e.clientX - (startX + translateX)) +
            Math.abs(e.clientY - (startY + translateY));
          if (moveDistance > 5) {
            // Seuil de 5px pour consid√©rer que c'est un glissement
            hasDragged = true;
          }

          translateX = e.clientX - startX;
          translateY = e.clientY - startY;
          updateTransform();
        }
      });

      document.addEventListener("mouseup", function () {
        if (isDragging) {
          isDragging = false;
          img.style.cursor = scale > 1 ? "grab" : "zoom-in";

          // R√©initialiser hasDragged apr√®s un petit d√©lai pour √©viter le clic imm√©diat
          setTimeout(() => {
            hasDragged = false;
          }, 50);
        }
      });

      // Double-clic pour zoom rapide
      img.addEventListener("dblclick", function (e) {
        e.preventDefault();
        if (scale === 1) {
          zoomToPoint(e.clientX, e.clientY, 3);
        } else {
          resetZoom();
        }
      });

      // R√©initialiser quand la modal se ferme
      const modal = container.closest(".modal");
      if (modal) {
        modal.addEventListener("close", resetZoom);

        // Observer pour d√©tecter quand la modal est ferm√©e
        const observer = new MutationObserver(function (mutations) {
          mutations.forEach(function (mutation) {
            if (
              mutation.type === "attributes" &&
              mutation.attributeName === "open"
            ) {
              if (!modal.hasAttribute("open")) {
                resetZoom();
              }
            }
          });
        });
        observer.observe(modal, { attributes: true });
      }
    });
  }

  // Initialiser quand le DOM est pr√™t
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initPhotoZoom);
  } else {
    initPhotoZoom();
  }

  // Gestion du bouton de fermeture pour qu'il disparaisse imm√©diatement
  function initCloseButtons() {
    const closeButtons = document.querySelectorAll(".close-modal-btn");
    closeButtons.forEach((button) => {
      button.addEventListener("click", function () {
        // Cacher imm√©diatement le bouton
        this.style.display = "none";

        // Le restaurer apr√®s un court d√©lai au cas o√π la modale ne se fermerait pas
        setTimeout(() => {
          this.style.display = "flex";
        }, 500);
      });
    });
  }

  // Initialiser les boutons de fermeture
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initCloseButtons);
  } else {
    initCloseButtons();
  }
</script> <div class="title-container" data-astro-cid-wve2jxay> <h2 class="fixed-title " data-astro-cid-wve2jxay="true"> <span class="fr">üõÅ Salle de bain (1/2)</span><span class="en">üõÅ Bathroom (1/2)</span><span class="de">üõÅ Badezimmer (1/2)</span><span class="es">üõÅ Ba√±o (1/2)</span><span class="it">üõÅ Bagno (1/2)</span> </h2> </div> <div class="scroll-target" data-section-id="salle-bain-1" data-astro-cid-wve2jxay></div>  <div data-vertical="false" data-astro-cid-udcgyguv> <button onclick="document.getElementById('modal_romains_sdb-1_jpg').showModal()" data-astro-cid-udcgyguv> <img src="/coloc/romains/photos/img/sdb-1.jpg" alt="Photo de romains - sdb-1.jpg" data-astro-cid-udcgyguv> </button> </div> <!-- Modal DaisyUI --> <dialog id="modal_romains_sdb-1_jpg" class="modal" data-astro-cid-udcgyguv> <div class="modal-container" data-astro-cid-udcgyguv> <form method="dialog" data-astro-cid-udcgyguv> <button class="close-modal-btn absolute right-4 top-4 z-20" style="width: 40px; height: 40px; border-radius: 50%; background-color: rgba(0, 0, 0, 0.9); color: white; border: 2px solid rgba(255, 255, 255, 0.5); display: flex; align-items: center; justify-content: center; font-size: 1.25rem; font-weight: bold; line-height: 1; padding: 0; margin: 0; padding-top: 2px;" data-astro-cid-udcgyguv>
‚úï
</button> </form> <div class="photo-zoom-container w-full h-full overflow-hidden cursor-zoom-in" id="zoom_modal_romains_sdb-1_jpg" data-astro-cid-udcgyguv> <img src="/coloc/romains/photos/hd/sdb-1.jpg" alt="Photo HD de romains - sdb-1.jpg" class="photo-zoomable w-full h-full transition-transform duration-500 ease-out horizontal-image" id="img_modal_romains_sdb-1_jpg" data-astro-cid-udcgyguv> </div> </div> <form method="dialog" class="modal-backdrop" data-astro-cid-udcgyguv> <button data-astro-cid-udcgyguv>close</button> </form> </dialog>  <script>
  function initPhotoZoom() {
    // Gestion du zoom pour toutes les images zoomables
    const zoomContainers = document.querySelectorAll(".photo-zoom-container");

    zoomContainers.forEach((container) => {
      const img = container.querySelector(".photo-zoomable");
      if (!img) return;

      let scale = 1;
      let translateX = 0;
      let translateY = 0;
      let isDragging = false;
      let hasDragged = false;
      let startX = 0;
      let startY = 0;
      let mouseDownTime = 0;

      function updateTransform() {
        img.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`;
      }

      function resetZoom() {
        scale = 1;
        translateX = 0;
        translateY = 0;
        img.classList.remove("zoomed");
        img.style.cursor = "zoom-in";
        updateTransform();
      }

      function zoomToPoint(mouseX, mouseY, zoomFactor) {
        const containerRect = container.getBoundingClientRect();
        const imgRect = img.getBoundingClientRect();

        // Position de la souris relative au conteneur
        const mouseXInContainer = mouseX - containerRect.left;
        const mouseYInContainer = mouseY - containerRect.top;

        // Position de la souris relative √† l'image actuelle (en tenant compte des transformations)
        const currentImgX = imgRect.left - containerRect.left;
        const currentImgY = imgRect.top - containerRect.top;

        // Point de focus dans l'image (entre 0 et 1)
        const focusX = (mouseXInContainer - currentImgX) / imgRect.width;
        const focusY = (mouseYInContainer - currentImgY) / imgRect.height;

        // Calculer le nouveau scale
        const oldScale = scale;
        const newScale = Math.min(Math.max(scale * zoomFactor, 1), 5);

        if (newScale === 1) {
          resetZoom();
          return;
        }

        // Calculer les nouvelles translations
        const scaleDelta = newScale - oldScale;
        const imgNaturalWidth = container.offsetWidth;
        const imgNaturalHeight = container.offsetHeight;

        // Ajuster la translation pour que le zoom se fasse vers le point de focus
        translateX -= (focusX - 0.5) * imgNaturalWidth * scaleDelta;
        translateY -= (focusY - 0.5) * imgNaturalHeight * scaleDelta;

        scale = newScale;
        img.classList.add("zoomed");
        img.style.cursor = scale > 1 ? "grab" : "zoom-in";
        updateTransform();
      }

      // Clic pour zoomer √† la position de la souris
      img.addEventListener("click", function (e) {
        // Ne zoomer que si ce n'√©tait pas un glissement
        if (!hasDragged) {
          const zoomFactor = scale < 2 ? 2.5 : 0.4; // Zoom in ou zoom out
          zoomToPoint(e.clientX, e.clientY, zoomFactor);
        }
      });

      // Zoom avec la molette vers la position de la souris
      container.addEventListener("wheel", function (e) {
        e.preventDefault();
        const zoomFactor = e.deltaY > 0 ? 0.9 : 1.1;
        zoomToPoint(e.clientX, e.clientY, zoomFactor);
      });

      // Navigation par clic et glissement
      img.addEventListener("mousedown", function (e) {
        if (scale > 1) {
          isDragging = true;
          hasDragged = false;
          mouseDownTime = Date.now();
          startX = e.clientX - translateX;
          startY = e.clientY - translateY;
          img.style.cursor = "grabbing";
          e.preventDefault();
        }
      });

      document.addEventListener("mousemove", function (e) {
        if (isDragging && scale > 1) {
          // Marquer qu'on a boug√© la souris (donc c'est un glissement, pas un clic)
          const moveDistance =
            Math.abs(e.clientX - (startX + translateX)) +
            Math.abs(e.clientY - (startY + translateY));
          if (moveDistance > 5) {
            // Seuil de 5px pour consid√©rer que c'est un glissement
            hasDragged = true;
          }

          translateX = e.clientX - startX;
          translateY = e.clientY - startY;
          updateTransform();
        }
      });

      document.addEventListener("mouseup", function () {
        if (isDragging) {
          isDragging = false;
          img.style.cursor = scale > 1 ? "grab" : "zoom-in";

          // R√©initialiser hasDragged apr√®s un petit d√©lai pour √©viter le clic imm√©diat
          setTimeout(() => {
            hasDragged = false;
          }, 50);
        }
      });

      // Double-clic pour zoom rapide
      img.addEventListener("dblclick", function (e) {
        e.preventDefault();
        if (scale === 1) {
          zoomToPoint(e.clientX, e.clientY, 3);
        } else {
          resetZoom();
        }
      });

      // R√©initialiser quand la modal se ferme
      const modal = container.closest(".modal");
      if (modal) {
        modal.addEventListener("close", resetZoom);

        // Observer pour d√©tecter quand la modal est ferm√©e
        const observer = new MutationObserver(function (mutations) {
          mutations.forEach(function (mutation) {
            if (
              mutation.type === "attributes" &&
              mutation.attributeName === "open"
            ) {
              if (!modal.hasAttribute("open")) {
                resetZoom();
              }
            }
          });
        });
        observer.observe(modal, { attributes: true });
      }
    });
  }

  // Initialiser quand le DOM est pr√™t
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initPhotoZoom);
  } else {
    initPhotoZoom();
  }

  // Gestion du bouton de fermeture pour qu'il disparaisse imm√©diatement
  function initCloseButtons() {
    const closeButtons = document.querySelectorAll(".close-modal-btn");
    closeButtons.forEach((button) => {
      button.addEventListener("click", function () {
        // Cacher imm√©diatement le bouton
        this.style.display = "none";

        // Le restaurer apr√®s un court d√©lai au cas o√π la modale ne se fermerait pas
        setTimeout(() => {
          this.style.display = "flex";
        }, 500);
      });
    });
  }

  // Initialiser les boutons de fermeture
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initCloseButtons);
  } else {
    initCloseButtons();
  }
</script> <div data-vertical="false" data-astro-cid-udcgyguv> <button onclick="document.getElementById('modal_romains_sdb-2_jpg').showModal()" data-astro-cid-udcgyguv> <img src="/coloc/romains/photos/img/sdb-2.jpg" alt="Photo de romains - sdb-2.jpg" data-astro-cid-udcgyguv> </button> </div> <!-- Modal DaisyUI --> <dialog id="modal_romains_sdb-2_jpg" class="modal" data-astro-cid-udcgyguv> <div class="modal-container" data-astro-cid-udcgyguv> <form method="dialog" data-astro-cid-udcgyguv> <button class="close-modal-btn absolute right-4 top-4 z-20" style="width: 40px; height: 40px; border-radius: 50%; background-color: rgba(0, 0, 0, 0.9); color: white; border: 2px solid rgba(255, 255, 255, 0.5); display: flex; align-items: center; justify-content: center; font-size: 1.25rem; font-weight: bold; line-height: 1; padding: 0; margin: 0; padding-top: 2px;" data-astro-cid-udcgyguv>
‚úï
</button> </form> <div class="photo-zoom-container w-full h-full overflow-hidden cursor-zoom-in" id="zoom_modal_romains_sdb-2_jpg" data-astro-cid-udcgyguv> <img src="/coloc/romains/photos/hd/sdb-2.jpg" alt="Photo HD de romains - sdb-2.jpg" class="photo-zoomable w-full h-full transition-transform duration-500 ease-out horizontal-image" id="img_modal_romains_sdb-2_jpg" data-astro-cid-udcgyguv> </div> </div> <form method="dialog" class="modal-backdrop" data-astro-cid-udcgyguv> <button data-astro-cid-udcgyguv>close</button> </form> </dialog>  <script>
  function initPhotoZoom() {
    // Gestion du zoom pour toutes les images zoomables
    const zoomContainers = document.querySelectorAll(".photo-zoom-container");

    zoomContainers.forEach((container) => {
      const img = container.querySelector(".photo-zoomable");
      if (!img) return;

      let scale = 1;
      let translateX = 0;
      let translateY = 0;
      let isDragging = false;
      let hasDragged = false;
      let startX = 0;
      let startY = 0;
      let mouseDownTime = 0;

      function updateTransform() {
        img.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`;
      }

      function resetZoom() {
        scale = 1;
        translateX = 0;
        translateY = 0;
        img.classList.remove("zoomed");
        img.style.cursor = "zoom-in";
        updateTransform();
      }

      function zoomToPoint(mouseX, mouseY, zoomFactor) {
        const containerRect = container.getBoundingClientRect();
        const imgRect = img.getBoundingClientRect();

        // Position de la souris relative au conteneur
        const mouseXInContainer = mouseX - containerRect.left;
        const mouseYInContainer = mouseY - containerRect.top;

        // Position de la souris relative √† l'image actuelle (en tenant compte des transformations)
        const currentImgX = imgRect.left - containerRect.left;
        const currentImgY = imgRect.top - containerRect.top;

        // Point de focus dans l'image (entre 0 et 1)
        const focusX = (mouseXInContainer - currentImgX) / imgRect.width;
        const focusY = (mouseYInContainer - currentImgY) / imgRect.height;

        // Calculer le nouveau scale
        const oldScale = scale;
        const newScale = Math.min(Math.max(scale * zoomFactor, 1), 5);

        if (newScale === 1) {
          resetZoom();
          return;
        }

        // Calculer les nouvelles translations
        const scaleDelta = newScale - oldScale;
        const imgNaturalWidth = container.offsetWidth;
        const imgNaturalHeight = container.offsetHeight;

        // Ajuster la translation pour que le zoom se fasse vers le point de focus
        translateX -= (focusX - 0.5) * imgNaturalWidth * scaleDelta;
        translateY -= (focusY - 0.5) * imgNaturalHeight * scaleDelta;

        scale = newScale;
        img.classList.add("zoomed");
        img.style.cursor = scale > 1 ? "grab" : "zoom-in";
        updateTransform();
      }

      // Clic pour zoomer √† la position de la souris
      img.addEventListener("click", function (e) {
        // Ne zoomer que si ce n'√©tait pas un glissement
        if (!hasDragged) {
          const zoomFactor = scale < 2 ? 2.5 : 0.4; // Zoom in ou zoom out
          zoomToPoint(e.clientX, e.clientY, zoomFactor);
        }
      });

      // Zoom avec la molette vers la position de la souris
      container.addEventListener("wheel", function (e) {
        e.preventDefault();
        const zoomFactor = e.deltaY > 0 ? 0.9 : 1.1;
        zoomToPoint(e.clientX, e.clientY, zoomFactor);
      });

      // Navigation par clic et glissement
      img.addEventListener("mousedown", function (e) {
        if (scale > 1) {
          isDragging = true;
          hasDragged = false;
          mouseDownTime = Date.now();
          startX = e.clientX - translateX;
          startY = e.clientY - translateY;
          img.style.cursor = "grabbing";
          e.preventDefault();
        }
      });

      document.addEventListener("mousemove", function (e) {
        if (isDragging && scale > 1) {
          // Marquer qu'on a boug√© la souris (donc c'est un glissement, pas un clic)
          const moveDistance =
            Math.abs(e.clientX - (startX + translateX)) +
            Math.abs(e.clientY - (startY + translateY));
          if (moveDistance > 5) {
            // Seuil de 5px pour consid√©rer que c'est un glissement
            hasDragged = true;
          }

          translateX = e.clientX - startX;
          translateY = e.clientY - startY;
          updateTransform();
        }
      });

      document.addEventListener("mouseup", function () {
        if (isDragging) {
          isDragging = false;
          img.style.cursor = scale > 1 ? "grab" : "zoom-in";

          // R√©initialiser hasDragged apr√®s un petit d√©lai pour √©viter le clic imm√©diat
          setTimeout(() => {
            hasDragged = false;
          }, 50);
        }
      });

      // Double-clic pour zoom rapide
      img.addEventListener("dblclick", function (e) {
        e.preventDefault();
        if (scale === 1) {
          zoomToPoint(e.clientX, e.clientY, 3);
        } else {
          resetZoom();
        }
      });

      // R√©initialiser quand la modal se ferme
      const modal = container.closest(".modal");
      if (modal) {
        modal.addEventListener("close", resetZoom);

        // Observer pour d√©tecter quand la modal est ferm√©e
        const observer = new MutationObserver(function (mutations) {
          mutations.forEach(function (mutation) {
            if (
              mutation.type === "attributes" &&
              mutation.attributeName === "open"
            ) {
              if (!modal.hasAttribute("open")) {
                resetZoom();
              }
            }
          });
        });
        observer.observe(modal, { attributes: true });
      }
    });
  }

  // Initialiser quand le DOM est pr√™t
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initPhotoZoom);
  } else {
    initPhotoZoom();
  }

  // Gestion du bouton de fermeture pour qu'il disparaisse imm√©diatement
  function initCloseButtons() {
    const closeButtons = document.querySelectorAll(".close-modal-btn");
    closeButtons.forEach((button) => {
      button.addEventListener("click", function () {
        // Cacher imm√©diatement le bouton
        this.style.display = "none";

        // Le restaurer apr√®s un court d√©lai au cas o√π la modale ne se fermerait pas
        setTimeout(() => {
          this.style.display = "flex";
        }, 500);
      });
    });
  }

  // Initialiser les boutons de fermeture
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initCloseButtons);
  } else {
    initCloseButtons();
  }
</script> <div data-vertical="false" data-astro-cid-udcgyguv> <button onclick="document.getElementById('modal_romains_sdb-3_jpg').showModal()" data-astro-cid-udcgyguv> <img src="/coloc/romains/photos/img/sdb-3.jpg" alt="Photo de romains - sdb-3.jpg" data-astro-cid-udcgyguv> </button> </div> <!-- Modal DaisyUI --> <dialog id="modal_romains_sdb-3_jpg" class="modal" data-astro-cid-udcgyguv> <div class="modal-container" data-astro-cid-udcgyguv> <form method="dialog" data-astro-cid-udcgyguv> <button class="close-modal-btn absolute right-4 top-4 z-20" style="width: 40px; height: 40px; border-radius: 50%; background-color: rgba(0, 0, 0, 0.9); color: white; border: 2px solid rgba(255, 255, 255, 0.5); display: flex; align-items: center; justify-content: center; font-size: 1.25rem; font-weight: bold; line-height: 1; padding: 0; margin: 0; padding-top: 2px;" data-astro-cid-udcgyguv>
‚úï
</button> </form> <div class="photo-zoom-container w-full h-full overflow-hidden cursor-zoom-in" id="zoom_modal_romains_sdb-3_jpg" data-astro-cid-udcgyguv> <img src="/coloc/romains/photos/hd/sdb-3.jpg" alt="Photo HD de romains - sdb-3.jpg" class="photo-zoomable w-full h-full transition-transform duration-500 ease-out horizontal-image" id="img_modal_romains_sdb-3_jpg" data-astro-cid-udcgyguv> </div> </div> <form method="dialog" class="modal-backdrop" data-astro-cid-udcgyguv> <button data-astro-cid-udcgyguv>close</button> </form> </dialog>  <script>
  function initPhotoZoom() {
    // Gestion du zoom pour toutes les images zoomables
    const zoomContainers = document.querySelectorAll(".photo-zoom-container");

    zoomContainers.forEach((container) => {
      const img = container.querySelector(".photo-zoomable");
      if (!img) return;

      let scale = 1;
      let translateX = 0;
      let translateY = 0;
      let isDragging = false;
      let hasDragged = false;
      let startX = 0;
      let startY = 0;
      let mouseDownTime = 0;

      function updateTransform() {
        img.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`;
      }

      function resetZoom() {
        scale = 1;
        translateX = 0;
        translateY = 0;
        img.classList.remove("zoomed");
        img.style.cursor = "zoom-in";
        updateTransform();
      }

      function zoomToPoint(mouseX, mouseY, zoomFactor) {
        const containerRect = container.getBoundingClientRect();
        const imgRect = img.getBoundingClientRect();

        // Position de la souris relative au conteneur
        const mouseXInContainer = mouseX - containerRect.left;
        const mouseYInContainer = mouseY - containerRect.top;

        // Position de la souris relative √† l'image actuelle (en tenant compte des transformations)
        const currentImgX = imgRect.left - containerRect.left;
        const currentImgY = imgRect.top - containerRect.top;

        // Point de focus dans l'image (entre 0 et 1)
        const focusX = (mouseXInContainer - currentImgX) / imgRect.width;
        const focusY = (mouseYInContainer - currentImgY) / imgRect.height;

        // Calculer le nouveau scale
        const oldScale = scale;
        const newScale = Math.min(Math.max(scale * zoomFactor, 1), 5);

        if (newScale === 1) {
          resetZoom();
          return;
        }

        // Calculer les nouvelles translations
        const scaleDelta = newScale - oldScale;
        const imgNaturalWidth = container.offsetWidth;
        const imgNaturalHeight = container.offsetHeight;

        // Ajuster la translation pour que le zoom se fasse vers le point de focus
        translateX -= (focusX - 0.5) * imgNaturalWidth * scaleDelta;
        translateY -= (focusY - 0.5) * imgNaturalHeight * scaleDelta;

        scale = newScale;
        img.classList.add("zoomed");
        img.style.cursor = scale > 1 ? "grab" : "zoom-in";
        updateTransform();
      }

      // Clic pour zoomer √† la position de la souris
      img.addEventListener("click", function (e) {
        // Ne zoomer que si ce n'√©tait pas un glissement
        if (!hasDragged) {
          const zoomFactor = scale < 2 ? 2.5 : 0.4; // Zoom in ou zoom out
          zoomToPoint(e.clientX, e.clientY, zoomFactor);
        }
      });

      // Zoom avec la molette vers la position de la souris
      container.addEventListener("wheel", function (e) {
        e.preventDefault();
        const zoomFactor = e.deltaY > 0 ? 0.9 : 1.1;
        zoomToPoint(e.clientX, e.clientY, zoomFactor);
      });

      // Navigation par clic et glissement
      img.addEventListener("mousedown", function (e) {
        if (scale > 1) {
          isDragging = true;
          hasDragged = false;
          mouseDownTime = Date.now();
          startX = e.clientX - translateX;
          startY = e.clientY - translateY;
          img.style.cursor = "grabbing";
          e.preventDefault();
        }
      });

      document.addEventListener("mousemove", function (e) {
        if (isDragging && scale > 1) {
          // Marquer qu'on a boug√© la souris (donc c'est un glissement, pas un clic)
          const moveDistance =
            Math.abs(e.clientX - (startX + translateX)) +
            Math.abs(e.clientY - (startY + translateY));
          if (moveDistance > 5) {
            // Seuil de 5px pour consid√©rer que c'est un glissement
            hasDragged = true;
          }

          translateX = e.clientX - startX;
          translateY = e.clientY - startY;
          updateTransform();
        }
      });

      document.addEventListener("mouseup", function () {
        if (isDragging) {
          isDragging = false;
          img.style.cursor = scale > 1 ? "grab" : "zoom-in";

          // R√©initialiser hasDragged apr√®s un petit d√©lai pour √©viter le clic imm√©diat
          setTimeout(() => {
            hasDragged = false;
          }, 50);
        }
      });

      // Double-clic pour zoom rapide
      img.addEventListener("dblclick", function (e) {
        e.preventDefault();
        if (scale === 1) {
          zoomToPoint(e.clientX, e.clientY, 3);
        } else {
          resetZoom();
        }
      });

      // R√©initialiser quand la modal se ferme
      const modal = container.closest(".modal");
      if (modal) {
        modal.addEventListener("close", resetZoom);

        // Observer pour d√©tecter quand la modal est ferm√©e
        const observer = new MutationObserver(function (mutations) {
          mutations.forEach(function (mutation) {
            if (
              mutation.type === "attributes" &&
              mutation.attributeName === "open"
            ) {
              if (!modal.hasAttribute("open")) {
                resetZoom();
              }
            }
          });
        });
        observer.observe(modal, { attributes: true });
      }
    });
  }

  // Initialiser quand le DOM est pr√™t
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initPhotoZoom);
  } else {
    initPhotoZoom();
  }

  // Gestion du bouton de fermeture pour qu'il disparaisse imm√©diatement
  function initCloseButtons() {
    const closeButtons = document.querySelectorAll(".close-modal-btn");
    closeButtons.forEach((button) => {
      button.addEventListener("click", function () {
        // Cacher imm√©diatement le bouton
        this.style.display = "none";

        // Le restaurer apr√®s un court d√©lai au cas o√π la modale ne se fermerait pas
        setTimeout(() => {
          this.style.display = "flex";
        }, 500);
      });
    });
  }

  // Initialiser les boutons de fermeture
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initCloseButtons);
  } else {
    initCloseButtons();
  }
</script> <div data-vertical="false" data-astro-cid-udcgyguv> <button onclick="document.getElementById('modal_romains_sdb-4_jpg').showModal()" data-astro-cid-udcgyguv> <img src="/coloc/romains/photos/img/sdb-4.jpg" alt="Photo de romains - sdb-4.jpg" data-astro-cid-udcgyguv> </button> </div> <!-- Modal DaisyUI --> <dialog id="modal_romains_sdb-4_jpg" class="modal" data-astro-cid-udcgyguv> <div class="modal-container" data-astro-cid-udcgyguv> <form method="dialog" data-astro-cid-udcgyguv> <button class="close-modal-btn absolute right-4 top-4 z-20" style="width: 40px; height: 40px; border-radius: 50%; background-color: rgba(0, 0, 0, 0.9); color: white; border: 2px solid rgba(255, 255, 255, 0.5); display: flex; align-items: center; justify-content: center; font-size: 1.25rem; font-weight: bold; line-height: 1; padding: 0; margin: 0; padding-top: 2px;" data-astro-cid-udcgyguv>
‚úï
</button> </form> <div class="photo-zoom-container w-full h-full overflow-hidden cursor-zoom-in" id="zoom_modal_romains_sdb-4_jpg" data-astro-cid-udcgyguv> <img src="/coloc/romains/photos/hd/sdb-4.jpg" alt="Photo HD de romains - sdb-4.jpg" class="photo-zoomable w-full h-full transition-transform duration-500 ease-out horizontal-image" id="img_modal_romains_sdb-4_jpg" data-astro-cid-udcgyguv> </div> </div> <form method="dialog" class="modal-backdrop" data-astro-cid-udcgyguv> <button data-astro-cid-udcgyguv>close</button> </form> </dialog>  <script>
  function initPhotoZoom() {
    // Gestion du zoom pour toutes les images zoomables
    const zoomContainers = document.querySelectorAll(".photo-zoom-container");

    zoomContainers.forEach((container) => {
      const img = container.querySelector(".photo-zoomable");
      if (!img) return;

      let scale = 1;
      let translateX = 0;
      let translateY = 0;
      let isDragging = false;
      let hasDragged = false;
      let startX = 0;
      let startY = 0;
      let mouseDownTime = 0;

      function updateTransform() {
        img.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`;
      }

      function resetZoom() {
        scale = 1;
        translateX = 0;
        translateY = 0;
        img.classList.remove("zoomed");
        img.style.cursor = "zoom-in";
        updateTransform();
      }

      function zoomToPoint(mouseX, mouseY, zoomFactor) {
        const containerRect = container.getBoundingClientRect();
        const imgRect = img.getBoundingClientRect();

        // Position de la souris relative au conteneur
        const mouseXInContainer = mouseX - containerRect.left;
        const mouseYInContainer = mouseY - containerRect.top;

        // Position de la souris relative √† l'image actuelle (en tenant compte des transformations)
        const currentImgX = imgRect.left - containerRect.left;
        const currentImgY = imgRect.top - containerRect.top;

        // Point de focus dans l'image (entre 0 et 1)
        const focusX = (mouseXInContainer - currentImgX) / imgRect.width;
        const focusY = (mouseYInContainer - currentImgY) / imgRect.height;

        // Calculer le nouveau scale
        const oldScale = scale;
        const newScale = Math.min(Math.max(scale * zoomFactor, 1), 5);

        if (newScale === 1) {
          resetZoom();
          return;
        }

        // Calculer les nouvelles translations
        const scaleDelta = newScale - oldScale;
        const imgNaturalWidth = container.offsetWidth;
        const imgNaturalHeight = container.offsetHeight;

        // Ajuster la translation pour que le zoom se fasse vers le point de focus
        translateX -= (focusX - 0.5) * imgNaturalWidth * scaleDelta;
        translateY -= (focusY - 0.5) * imgNaturalHeight * scaleDelta;

        scale = newScale;
        img.classList.add("zoomed");
        img.style.cursor = scale > 1 ? "grab" : "zoom-in";
        updateTransform();
      }

      // Clic pour zoomer √† la position de la souris
      img.addEventListener("click", function (e) {
        // Ne zoomer que si ce n'√©tait pas un glissement
        if (!hasDragged) {
          const zoomFactor = scale < 2 ? 2.5 : 0.4; // Zoom in ou zoom out
          zoomToPoint(e.clientX, e.clientY, zoomFactor);
        }
      });

      // Zoom avec la molette vers la position de la souris
      container.addEventListener("wheel", function (e) {
        e.preventDefault();
        const zoomFactor = e.deltaY > 0 ? 0.9 : 1.1;
        zoomToPoint(e.clientX, e.clientY, zoomFactor);
      });

      // Navigation par clic et glissement
      img.addEventListener("mousedown", function (e) {
        if (scale > 1) {
          isDragging = true;
          hasDragged = false;
          mouseDownTime = Date.now();
          startX = e.clientX - translateX;
          startY = e.clientY - translateY;
          img.style.cursor = "grabbing";
          e.preventDefault();
        }
      });

      document.addEventListener("mousemove", function (e) {
        if (isDragging && scale > 1) {
          // Marquer qu'on a boug√© la souris (donc c'est un glissement, pas un clic)
          const moveDistance =
            Math.abs(e.clientX - (startX + translateX)) +
            Math.abs(e.clientY - (startY + translateY));
          if (moveDistance > 5) {
            // Seuil de 5px pour consid√©rer que c'est un glissement
            hasDragged = true;
          }

          translateX = e.clientX - startX;
          translateY = e.clientY - startY;
          updateTransform();
        }
      });

      document.addEventListener("mouseup", function () {
        if (isDragging) {
          isDragging = false;
          img.style.cursor = scale > 1 ? "grab" : "zoom-in";

          // R√©initialiser hasDragged apr√®s un petit d√©lai pour √©viter le clic imm√©diat
          setTimeout(() => {
            hasDragged = false;
          }, 50);
        }
      });

      // Double-clic pour zoom rapide
      img.addEventListener("dblclick", function (e) {
        e.preventDefault();
        if (scale === 1) {
          zoomToPoint(e.clientX, e.clientY, 3);
        } else {
          resetZoom();
        }
      });

      // R√©initialiser quand la modal se ferme
      const modal = container.closest(".modal");
      if (modal) {
        modal.addEventListener("close", resetZoom);

        // Observer pour d√©tecter quand la modal est ferm√©e
        const observer = new MutationObserver(function (mutations) {
          mutations.forEach(function (mutation) {
            if (
              mutation.type === "attributes" &&
              mutation.attributeName === "open"
            ) {
              if (!modal.hasAttribute("open")) {
                resetZoom();
              }
            }
          });
        });
        observer.observe(modal, { attributes: true });
      }
    });
  }

  // Initialiser quand le DOM est pr√™t
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initPhotoZoom);
  } else {
    initPhotoZoom();
  }

  // Gestion du bouton de fermeture pour qu'il disparaisse imm√©diatement
  function initCloseButtons() {
    const closeButtons = document.querySelectorAll(".close-modal-btn");
    closeButtons.forEach((button) => {
      button.addEventListener("click", function () {
        // Cacher imm√©diatement le bouton
        this.style.display = "none";

        // Le restaurer apr√®s un court d√©lai au cas o√π la modale ne se fermerait pas
        setTimeout(() => {
          this.style.display = "flex";
        }, 500);
      });
    });
  }

  // Initialiser les boutons de fermeture
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initCloseButtons);
  } else {
    initCloseButtons();
  }
</script> <div class="title-container" data-astro-cid-wve2jxay> <h2 class="fixed-title " data-astro-cid-wve2jxay="true"> <span class="fr">üöø Salle de douche (2/2)</span><span class="en">üöø Shower Room (2/2)</span><span class="de">üöø Duschbad (2/2)</span><span class="es">üöø Sala de ducha (2/2)</span><span class="it">üöø Bagno con doccia (2/2)</span> </h2> </div> <div class="scroll-target" data-section-id="salle-douche" data-astro-cid-wve2jxay></div>  <div data-vertical="true" data-astro-cid-udcgyguv> <button onclick="document.getElementById('modal_romains_sdd-1_jpg').showModal()" data-astro-cid-udcgyguv> <img src="/coloc/romains/photos/img/sdd-1.jpg" alt="Photo de romains - sdd-1.jpg" data-astro-cid-udcgyguv> </button> </div> <!-- Modal DaisyUI --> <dialog id="modal_romains_sdd-1_jpg" class="modal" data-astro-cid-udcgyguv> <div class="modal-container" data-astro-cid-udcgyguv> <form method="dialog" data-astro-cid-udcgyguv> <button class="close-modal-btn absolute right-4 top-4 z-20" style="width: 40px; height: 40px; border-radius: 50%; background-color: rgba(0, 0, 0, 0.9); color: white; border: 2px solid rgba(255, 255, 255, 0.5); display: flex; align-items: center; justify-content: center; font-size: 1.25rem; font-weight: bold; line-height: 1; padding: 0; margin: 0; padding-top: 2px;" data-astro-cid-udcgyguv>
‚úï
</button> </form> <div class="photo-zoom-container w-full h-full overflow-hidden cursor-zoom-in" id="zoom_modal_romains_sdd-1_jpg" data-astro-cid-udcgyguv> <img src="/coloc/romains/photos/hd/sdd-1.jpg" alt="Photo HD de romains - sdd-1.jpg" class="photo-zoomable w-full h-full transition-transform duration-500 ease-out vertical-image" id="img_modal_romains_sdd-1_jpg" data-astro-cid-udcgyguv> </div> </div> <form method="dialog" class="modal-backdrop" data-astro-cid-udcgyguv> <button data-astro-cid-udcgyguv>close</button> </form> </dialog>  <script>
  function initPhotoZoom() {
    // Gestion du zoom pour toutes les images zoomables
    const zoomContainers = document.querySelectorAll(".photo-zoom-container");

    zoomContainers.forEach((container) => {
      const img = container.querySelector(".photo-zoomable");
      if (!img) return;

      let scale = 1;
      let translateX = 0;
      let translateY = 0;
      let isDragging = false;
      let hasDragged = false;
      let startX = 0;
      let startY = 0;
      let mouseDownTime = 0;

      function updateTransform() {
        img.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`;
      }

      function resetZoom() {
        scale = 1;
        translateX = 0;
        translateY = 0;
        img.classList.remove("zoomed");
        img.style.cursor = "zoom-in";
        updateTransform();
      }

      function zoomToPoint(mouseX, mouseY, zoomFactor) {
        const containerRect = container.getBoundingClientRect();
        const imgRect = img.getBoundingClientRect();

        // Position de la souris relative au conteneur
        const mouseXInContainer = mouseX - containerRect.left;
        const mouseYInContainer = mouseY - containerRect.top;

        // Position de la souris relative √† l'image actuelle (en tenant compte des transformations)
        const currentImgX = imgRect.left - containerRect.left;
        const currentImgY = imgRect.top - containerRect.top;

        // Point de focus dans l'image (entre 0 et 1)
        const focusX = (mouseXInContainer - currentImgX) / imgRect.width;
        const focusY = (mouseYInContainer - currentImgY) / imgRect.height;

        // Calculer le nouveau scale
        const oldScale = scale;
        const newScale = Math.min(Math.max(scale * zoomFactor, 1), 5);

        if (newScale === 1) {
          resetZoom();
          return;
        }

        // Calculer les nouvelles translations
        const scaleDelta = newScale - oldScale;
        const imgNaturalWidth = container.offsetWidth;
        const imgNaturalHeight = container.offsetHeight;

        // Ajuster la translation pour que le zoom se fasse vers le point de focus
        translateX -= (focusX - 0.5) * imgNaturalWidth * scaleDelta;
        translateY -= (focusY - 0.5) * imgNaturalHeight * scaleDelta;

        scale = newScale;
        img.classList.add("zoomed");
        img.style.cursor = scale > 1 ? "grab" : "zoom-in";
        updateTransform();
      }

      // Clic pour zoomer √† la position de la souris
      img.addEventListener("click", function (e) {
        // Ne zoomer que si ce n'√©tait pas un glissement
        if (!hasDragged) {
          const zoomFactor = scale < 2 ? 2.5 : 0.4; // Zoom in ou zoom out
          zoomToPoint(e.clientX, e.clientY, zoomFactor);
        }
      });

      // Zoom avec la molette vers la position de la souris
      container.addEventListener("wheel", function (e) {
        e.preventDefault();
        const zoomFactor = e.deltaY > 0 ? 0.9 : 1.1;
        zoomToPoint(e.clientX, e.clientY, zoomFactor);
      });

      // Navigation par clic et glissement
      img.addEventListener("mousedown", function (e) {
        if (scale > 1) {
          isDragging = true;
          hasDragged = false;
          mouseDownTime = Date.now();
          startX = e.clientX - translateX;
          startY = e.clientY - translateY;
          img.style.cursor = "grabbing";
          e.preventDefault();
        }
      });

      document.addEventListener("mousemove", function (e) {
        if (isDragging && scale > 1) {
          // Marquer qu'on a boug√© la souris (donc c'est un glissement, pas un clic)
          const moveDistance =
            Math.abs(e.clientX - (startX + translateX)) +
            Math.abs(e.clientY - (startY + translateY));
          if (moveDistance > 5) {
            // Seuil de 5px pour consid√©rer que c'est un glissement
            hasDragged = true;
          }

          translateX = e.clientX - startX;
          translateY = e.clientY - startY;
          updateTransform();
        }
      });

      document.addEventListener("mouseup", function () {
        if (isDragging) {
          isDragging = false;
          img.style.cursor = scale > 1 ? "grab" : "zoom-in";

          // R√©initialiser hasDragged apr√®s un petit d√©lai pour √©viter le clic imm√©diat
          setTimeout(() => {
            hasDragged = false;
          }, 50);
        }
      });

      // Double-clic pour zoom rapide
      img.addEventListener("dblclick", function (e) {
        e.preventDefault();
        if (scale === 1) {
          zoomToPoint(e.clientX, e.clientY, 3);
        } else {
          resetZoom();
        }
      });

      // R√©initialiser quand la modal se ferme
      const modal = container.closest(".modal");
      if (modal) {
        modal.addEventListener("close", resetZoom);

        // Observer pour d√©tecter quand la modal est ferm√©e
        const observer = new MutationObserver(function (mutations) {
          mutations.forEach(function (mutation) {
            if (
              mutation.type === "attributes" &&
              mutation.attributeName === "open"
            ) {
              if (!modal.hasAttribute("open")) {
                resetZoom();
              }
            }
          });
        });
        observer.observe(modal, { attributes: true });
      }
    });
  }

  // Initialiser quand le DOM est pr√™t
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initPhotoZoom);
  } else {
    initPhotoZoom();
  }

  // Gestion du bouton de fermeture pour qu'il disparaisse imm√©diatement
  function initCloseButtons() {
    const closeButtons = document.querySelectorAll(".close-modal-btn");
    closeButtons.forEach((button) => {
      button.addEventListener("click", function () {
        // Cacher imm√©diatement le bouton
        this.style.display = "none";

        // Le restaurer apr√®s un court d√©lai au cas o√π la modale ne se fermerait pas
        setTimeout(() => {
          this.style.display = "flex";
        }, 500);
      });
    });
  }

  // Initialiser les boutons de fermeture
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initCloseButtons);
  } else {
    initCloseButtons();
  }
</script> <div class="title-container" data-astro-cid-wve2jxay> <h2 class="fixed-title " data-astro-cid-wve2jxay="true"> <span class="fr">üõèÔ∏è Chambre Ouest - 9m¬≤</span><span class="en">üõèÔ∏è Cellier Bedroom - 9m¬≤</span><span class="de">üõèÔ∏è Cellier Zimmer - 9m¬≤</span><span class="es">üõèÔ∏è Habitaci√≥n Cellier - 9m¬≤</span><span class="it">üõèÔ∏è Camera Cellier - 9m¬≤</span> </h2> </div> <div class="scroll-target" data-section-id="romains-chambre-cellier" data-astro-cid-wve2jxay></div>  <div data-vertical="false" data-astro-cid-udcgyguv> <button onclick="document.getElementById('modal_romains_c-cellier-1_jpg').showModal()" data-astro-cid-udcgyguv> <img src="/coloc/romains/photos/img/c-cellier-1.jpg" alt="Photo de romains - c-cellier-1.jpg" data-astro-cid-udcgyguv> </button> </div> <!-- Modal DaisyUI --> <dialog id="modal_romains_c-cellier-1_jpg" class="modal" data-astro-cid-udcgyguv> <div class="modal-container" data-astro-cid-udcgyguv> <form method="dialog" data-astro-cid-udcgyguv> <button class="close-modal-btn absolute right-4 top-4 z-20" style="width: 40px; height: 40px; border-radius: 50%; background-color: rgba(0, 0, 0, 0.9); color: white; border: 2px solid rgba(255, 255, 255, 0.5); display: flex; align-items: center; justify-content: center; font-size: 1.25rem; font-weight: bold; line-height: 1; padding: 0; margin: 0; padding-top: 2px;" data-astro-cid-udcgyguv>
‚úï
</button> </form> <div class="photo-zoom-container w-full h-full overflow-hidden cursor-zoom-in" id="zoom_modal_romains_c-cellier-1_jpg" data-astro-cid-udcgyguv> <img src="/coloc/romains/photos/hd/c-cellier-1.jpg" alt="Photo HD de romains - c-cellier-1.jpg" class="photo-zoomable w-full h-full transition-transform duration-500 ease-out horizontal-image" id="img_modal_romains_c-cellier-1_jpg" data-astro-cid-udcgyguv> </div> </div> <form method="dialog" class="modal-backdrop" data-astro-cid-udcgyguv> <button data-astro-cid-udcgyguv>close</button> </form> </dialog>  <script>
  function initPhotoZoom() {
    // Gestion du zoom pour toutes les images zoomables
    const zoomContainers = document.querySelectorAll(".photo-zoom-container");

    zoomContainers.forEach((container) => {
      const img = container.querySelector(".photo-zoomable");
      if (!img) return;

      let scale = 1;
      let translateX = 0;
      let translateY = 0;
      let isDragging = false;
      let hasDragged = false;
      let startX = 0;
      let startY = 0;
      let mouseDownTime = 0;

      function updateTransform() {
        img.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`;
      }

      function resetZoom() {
        scale = 1;
        translateX = 0;
        translateY = 0;
        img.classList.remove("zoomed");
        img.style.cursor = "zoom-in";
        updateTransform();
      }

      function zoomToPoint(mouseX, mouseY, zoomFactor) {
        const containerRect = container.getBoundingClientRect();
        const imgRect = img.getBoundingClientRect();

        // Position de la souris relative au conteneur
        const mouseXInContainer = mouseX - containerRect.left;
        const mouseYInContainer = mouseY - containerRect.top;

        // Position de la souris relative √† l'image actuelle (en tenant compte des transformations)
        const currentImgX = imgRect.left - containerRect.left;
        const currentImgY = imgRect.top - containerRect.top;

        // Point de focus dans l'image (entre 0 et 1)
        const focusX = (mouseXInContainer - currentImgX) / imgRect.width;
        const focusY = (mouseYInContainer - currentImgY) / imgRect.height;

        // Calculer le nouveau scale
        const oldScale = scale;
        const newScale = Math.min(Math.max(scale * zoomFactor, 1), 5);

        if (newScale === 1) {
          resetZoom();
          return;
        }

        // Calculer les nouvelles translations
        const scaleDelta = newScale - oldScale;
        const imgNaturalWidth = container.offsetWidth;
        const imgNaturalHeight = container.offsetHeight;

        // Ajuster la translation pour que le zoom se fasse vers le point de focus
        translateX -= (focusX - 0.5) * imgNaturalWidth * scaleDelta;
        translateY -= (focusY - 0.5) * imgNaturalHeight * scaleDelta;

        scale = newScale;
        img.classList.add("zoomed");
        img.style.cursor = scale > 1 ? "grab" : "zoom-in";
        updateTransform();
      }

      // Clic pour zoomer √† la position de la souris
      img.addEventListener("click", function (e) {
        // Ne zoomer que si ce n'√©tait pas un glissement
        if (!hasDragged) {
          const zoomFactor = scale < 2 ? 2.5 : 0.4; // Zoom in ou zoom out
          zoomToPoint(e.clientX, e.clientY, zoomFactor);
        }
      });

      // Zoom avec la molette vers la position de la souris
      container.addEventListener("wheel", function (e) {
        e.preventDefault();
        const zoomFactor = e.deltaY > 0 ? 0.9 : 1.1;
        zoomToPoint(e.clientX, e.clientY, zoomFactor);
      });

      // Navigation par clic et glissement
      img.addEventListener("mousedown", function (e) {
        if (scale > 1) {
          isDragging = true;
          hasDragged = false;
          mouseDownTime = Date.now();
          startX = e.clientX - translateX;
          startY = e.clientY - translateY;
          img.style.cursor = "grabbing";
          e.preventDefault();
        }
      });

      document.addEventListener("mousemove", function (e) {
        if (isDragging && scale > 1) {
          // Marquer qu'on a boug√© la souris (donc c'est un glissement, pas un clic)
          const moveDistance =
            Math.abs(e.clientX - (startX + translateX)) +
            Math.abs(e.clientY - (startY + translateY));
          if (moveDistance > 5) {
            // Seuil de 5px pour consid√©rer que c'est un glissement
            hasDragged = true;
          }

          translateX = e.clientX - startX;
          translateY = e.clientY - startY;
          updateTransform();
        }
      });

      document.addEventListener("mouseup", function () {
        if (isDragging) {
          isDragging = false;
          img.style.cursor = scale > 1 ? "grab" : "zoom-in";

          // R√©initialiser hasDragged apr√®s un petit d√©lai pour √©viter le clic imm√©diat
          setTimeout(() => {
            hasDragged = false;
          }, 50);
        }
      });

      // Double-clic pour zoom rapide
      img.addEventListener("dblclick", function (e) {
        e.preventDefault();
        if (scale === 1) {
          zoomToPoint(e.clientX, e.clientY, 3);
        } else {
          resetZoom();
        }
      });

      // R√©initialiser quand la modal se ferme
      const modal = container.closest(".modal");
      if (modal) {
        modal.addEventListener("close", resetZoom);

        // Observer pour d√©tecter quand la modal est ferm√©e
        const observer = new MutationObserver(function (mutations) {
          mutations.forEach(function (mutation) {
            if (
              mutation.type === "attributes" &&
              mutation.attributeName === "open"
            ) {
              if (!modal.hasAttribute("open")) {
                resetZoom();
              }
            }
          });
        });
        observer.observe(modal, { attributes: true });
      }
    });
  }

  // Initialiser quand le DOM est pr√™t
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initPhotoZoom);
  } else {
    initPhotoZoom();
  }

  // Gestion du bouton de fermeture pour qu'il disparaisse imm√©diatement
  function initCloseButtons() {
    const closeButtons = document.querySelectorAll(".close-modal-btn");
    closeButtons.forEach((button) => {
      button.addEventListener("click", function () {
        // Cacher imm√©diatement le bouton
        this.style.display = "none";

        // Le restaurer apr√®s un court d√©lai au cas o√π la modale ne se fermerait pas
        setTimeout(() => {
          this.style.display = "flex";
        }, 500);
      });
    });
  }

  // Initialiser les boutons de fermeture
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initCloseButtons);
  } else {
    initCloseButtons();
  }
</script> <div data-vertical="false" data-astro-cid-udcgyguv> <button onclick="document.getElementById('modal_romains_c-cellier-2_jpg').showModal()" data-astro-cid-udcgyguv> <img src="/coloc/romains/photos/img/c-cellier-2.jpg" alt="Photo de romains - c-cellier-2.jpg" data-astro-cid-udcgyguv> </button> </div> <!-- Modal DaisyUI --> <dialog id="modal_romains_c-cellier-2_jpg" class="modal" data-astro-cid-udcgyguv> <div class="modal-container" data-astro-cid-udcgyguv> <form method="dialog" data-astro-cid-udcgyguv> <button class="close-modal-btn absolute right-4 top-4 z-20" style="width: 40px; height: 40px; border-radius: 50%; background-color: rgba(0, 0, 0, 0.9); color: white; border: 2px solid rgba(255, 255, 255, 0.5); display: flex; align-items: center; justify-content: center; font-size: 1.25rem; font-weight: bold; line-height: 1; padding: 0; margin: 0; padding-top: 2px;" data-astro-cid-udcgyguv>
‚úï
</button> </form> <div class="photo-zoom-container w-full h-full overflow-hidden cursor-zoom-in" id="zoom_modal_romains_c-cellier-2_jpg" data-astro-cid-udcgyguv> <img src="/coloc/romains/photos/hd/c-cellier-2.jpg" alt="Photo HD de romains - c-cellier-2.jpg" class="photo-zoomable w-full h-full transition-transform duration-500 ease-out horizontal-image" id="img_modal_romains_c-cellier-2_jpg" data-astro-cid-udcgyguv> </div> </div> <form method="dialog" class="modal-backdrop" data-astro-cid-udcgyguv> <button data-astro-cid-udcgyguv>close</button> </form> </dialog>  <script>
  function initPhotoZoom() {
    // Gestion du zoom pour toutes les images zoomables
    const zoomContainers = document.querySelectorAll(".photo-zoom-container");

    zoomContainers.forEach((container) => {
      const img = container.querySelector(".photo-zoomable");
      if (!img) return;

      let scale = 1;
      let translateX = 0;
      let translateY = 0;
      let isDragging = false;
      let hasDragged = false;
      let startX = 0;
      let startY = 0;
      let mouseDownTime = 0;

      function updateTransform() {
        img.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`;
      }

      function resetZoom() {
        scale = 1;
        translateX = 0;
        translateY = 0;
        img.classList.remove("zoomed");
        img.style.cursor = "zoom-in";
        updateTransform();
      }

      function zoomToPoint(mouseX, mouseY, zoomFactor) {
        const containerRect = container.getBoundingClientRect();
        const imgRect = img.getBoundingClientRect();

        // Position de la souris relative au conteneur
        const mouseXInContainer = mouseX - containerRect.left;
        const mouseYInContainer = mouseY - containerRect.top;

        // Position de la souris relative √† l'image actuelle (en tenant compte des transformations)
        const currentImgX = imgRect.left - containerRect.left;
        const currentImgY = imgRect.top - containerRect.top;

        // Point de focus dans l'image (entre 0 et 1)
        const focusX = (mouseXInContainer - currentImgX) / imgRect.width;
        const focusY = (mouseYInContainer - currentImgY) / imgRect.height;

        // Calculer le nouveau scale
        const oldScale = scale;
        const newScale = Math.min(Math.max(scale * zoomFactor, 1), 5);

        if (newScale === 1) {
          resetZoom();
          return;
        }

        // Calculer les nouvelles translations
        const scaleDelta = newScale - oldScale;
        const imgNaturalWidth = container.offsetWidth;
        const imgNaturalHeight = container.offsetHeight;

        // Ajuster la translation pour que le zoom se fasse vers le point de focus
        translateX -= (focusX - 0.5) * imgNaturalWidth * scaleDelta;
        translateY -= (focusY - 0.5) * imgNaturalHeight * scaleDelta;

        scale = newScale;
        img.classList.add("zoomed");
        img.style.cursor = scale > 1 ? "grab" : "zoom-in";
        updateTransform();
      }

      // Clic pour zoomer √† la position de la souris
      img.addEventListener("click", function (e) {
        // Ne zoomer que si ce n'√©tait pas un glissement
        if (!hasDragged) {
          const zoomFactor = scale < 2 ? 2.5 : 0.4; // Zoom in ou zoom out
          zoomToPoint(e.clientX, e.clientY, zoomFactor);
        }
      });

      // Zoom avec la molette vers la position de la souris
      container.addEventListener("wheel", function (e) {
        e.preventDefault();
        const zoomFactor = e.deltaY > 0 ? 0.9 : 1.1;
        zoomToPoint(e.clientX, e.clientY, zoomFactor);
      });

      // Navigation par clic et glissement
      img.addEventListener("mousedown", function (e) {
        if (scale > 1) {
          isDragging = true;
          hasDragged = false;
          mouseDownTime = Date.now();
          startX = e.clientX - translateX;
          startY = e.clientY - translateY;
          img.style.cursor = "grabbing";
          e.preventDefault();
        }
      });

      document.addEventListener("mousemove", function (e) {
        if (isDragging && scale > 1) {
          // Marquer qu'on a boug√© la souris (donc c'est un glissement, pas un clic)
          const moveDistance =
            Math.abs(e.clientX - (startX + translateX)) +
            Math.abs(e.clientY - (startY + translateY));
          if (moveDistance > 5) {
            // Seuil de 5px pour consid√©rer que c'est un glissement
            hasDragged = true;
          }

          translateX = e.clientX - startX;
          translateY = e.clientY - startY;
          updateTransform();
        }
      });

      document.addEventListener("mouseup", function () {
        if (isDragging) {
          isDragging = false;
          img.style.cursor = scale > 1 ? "grab" : "zoom-in";

          // R√©initialiser hasDragged apr√®s un petit d√©lai pour √©viter le clic imm√©diat
          setTimeout(() => {
            hasDragged = false;
          }, 50);
        }
      });

      // Double-clic pour zoom rapide
      img.addEventListener("dblclick", function (e) {
        e.preventDefault();
        if (scale === 1) {
          zoomToPoint(e.clientX, e.clientY, 3);
        } else {
          resetZoom();
        }
      });

      // R√©initialiser quand la modal se ferme
      const modal = container.closest(".modal");
      if (modal) {
        modal.addEventListener("close", resetZoom);

        // Observer pour d√©tecter quand la modal est ferm√©e
        const observer = new MutationObserver(function (mutations) {
          mutations.forEach(function (mutation) {
            if (
              mutation.type === "attributes" &&
              mutation.attributeName === "open"
            ) {
              if (!modal.hasAttribute("open")) {
                resetZoom();
              }
            }
          });
        });
        observer.observe(modal, { attributes: true });
      }
    });
  }

  // Initialiser quand le DOM est pr√™t
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initPhotoZoom);
  } else {
    initPhotoZoom();
  }

  // Gestion du bouton de fermeture pour qu'il disparaisse imm√©diatement
  function initCloseButtons() {
    const closeButtons = document.querySelectorAll(".close-modal-btn");
    closeButtons.forEach((button) => {
      button.addEventListener("click", function () {
        // Cacher imm√©diatement le bouton
        this.style.display = "none";

        // Le restaurer apr√®s un court d√©lai au cas o√π la modale ne se fermerait pas
        setTimeout(() => {
          this.style.display = "flex";
        }, 500);
      });
    });
  }

  // Initialiser les boutons de fermeture
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initCloseButtons);
  } else {
    initCloseButtons();
  }
</script> <div class="title-container" data-astro-cid-wve2jxay> <h2 class="fixed-title " data-astro-cid-wve2jxay="true"> <span class="fr">üõèÔ∏è Chambre Ouest + Balcon - 9m¬≤</span><span class="en">üõèÔ∏è Balcony Bedroom - 9m¬≤</span><span class="de">üõèÔ∏è Balkonzimmer - 9m¬≤</span><span class="es">üõèÔ∏è Habitaci√≥n Balc√≥n - 9m¬≤</span><span class="it">üõèÔ∏è Camera Balcone - 9m¬≤</span> </h2> </div> <div class="scroll-target" data-section-id="romains-chambre-balcon" data-astro-cid-wve2jxay></div>  <div data-vertical="false" data-astro-cid-udcgyguv> <button onclick="document.getElementById('modal_romains_c-balcon-1_jpg').showModal()" data-astro-cid-udcgyguv> <img src="/coloc/romains/photos/img/c-balcon-1.jpg" alt="Photo de romains - c-balcon-1.jpg" data-astro-cid-udcgyguv> </button> </div> <!-- Modal DaisyUI --> <dialog id="modal_romains_c-balcon-1_jpg" class="modal" data-astro-cid-udcgyguv> <div class="modal-container" data-astro-cid-udcgyguv> <form method="dialog" data-astro-cid-udcgyguv> <button class="close-modal-btn absolute right-4 top-4 z-20" style="width: 40px; height: 40px; border-radius: 50%; background-color: rgba(0, 0, 0, 0.9); color: white; border: 2px solid rgba(255, 255, 255, 0.5); display: flex; align-items: center; justify-content: center; font-size: 1.25rem; font-weight: bold; line-height: 1; padding: 0; margin: 0; padding-top: 2px;" data-astro-cid-udcgyguv>
‚úï
</button> </form> <div class="photo-zoom-container w-full h-full overflow-hidden cursor-zoom-in" id="zoom_modal_romains_c-balcon-1_jpg" data-astro-cid-udcgyguv> <img src="/coloc/romains/photos/hd/c-balcon-1.jpg" alt="Photo HD de romains - c-balcon-1.jpg" class="photo-zoomable w-full h-full transition-transform duration-500 ease-out horizontal-image" id="img_modal_romains_c-balcon-1_jpg" data-astro-cid-udcgyguv> </div> </div> <form method="dialog" class="modal-backdrop" data-astro-cid-udcgyguv> <button data-astro-cid-udcgyguv>close</button> </form> </dialog>  <script>
  function initPhotoZoom() {
    // Gestion du zoom pour toutes les images zoomables
    const zoomContainers = document.querySelectorAll(".photo-zoom-container");

    zoomContainers.forEach((container) => {
      const img = container.querySelector(".photo-zoomable");
      if (!img) return;

      let scale = 1;
      let translateX = 0;
      let translateY = 0;
      let isDragging = false;
      let hasDragged = false;
      let startX = 0;
      let startY = 0;
      let mouseDownTime = 0;

      function updateTransform() {
        img.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`;
      }

      function resetZoom() {
        scale = 1;
        translateX = 0;
        translateY = 0;
        img.classList.remove("zoomed");
        img.style.cursor = "zoom-in";
        updateTransform();
      }

      function zoomToPoint(mouseX, mouseY, zoomFactor) {
        const containerRect = container.getBoundingClientRect();
        const imgRect = img.getBoundingClientRect();

        // Position de la souris relative au conteneur
        const mouseXInContainer = mouseX - containerRect.left;
        const mouseYInContainer = mouseY - containerRect.top;

        // Position de la souris relative √† l'image actuelle (en tenant compte des transformations)
        const currentImgX = imgRect.left - containerRect.left;
        const currentImgY = imgRect.top - containerRect.top;

        // Point de focus dans l'image (entre 0 et 1)
        const focusX = (mouseXInContainer - currentImgX) / imgRect.width;
        const focusY = (mouseYInContainer - currentImgY) / imgRect.height;

        // Calculer le nouveau scale
        const oldScale = scale;
        const newScale = Math.min(Math.max(scale * zoomFactor, 1), 5);

        if (newScale === 1) {
          resetZoom();
          return;
        }

        // Calculer les nouvelles translations
        const scaleDelta = newScale - oldScale;
        const imgNaturalWidth = container.offsetWidth;
        const imgNaturalHeight = container.offsetHeight;

        // Ajuster la translation pour que le zoom se fasse vers le point de focus
        translateX -= (focusX - 0.5) * imgNaturalWidth * scaleDelta;
        translateY -= (focusY - 0.5) * imgNaturalHeight * scaleDelta;

        scale = newScale;
        img.classList.add("zoomed");
        img.style.cursor = scale > 1 ? "grab" : "zoom-in";
        updateTransform();
      }

      // Clic pour zoomer √† la position de la souris
      img.addEventListener("click", function (e) {
        // Ne zoomer que si ce n'√©tait pas un glissement
        if (!hasDragged) {
          const zoomFactor = scale < 2 ? 2.5 : 0.4; // Zoom in ou zoom out
          zoomToPoint(e.clientX, e.clientY, zoomFactor);
        }
      });

      // Zoom avec la molette vers la position de la souris
      container.addEventListener("wheel", function (e) {
        e.preventDefault();
        const zoomFactor = e.deltaY > 0 ? 0.9 : 1.1;
        zoomToPoint(e.clientX, e.clientY, zoomFactor);
      });

      // Navigation par clic et glissement
      img.addEventListener("mousedown", function (e) {
        if (scale > 1) {
          isDragging = true;
          hasDragged = false;
          mouseDownTime = Date.now();
          startX = e.clientX - translateX;
          startY = e.clientY - translateY;
          img.style.cursor = "grabbing";
          e.preventDefault();
        }
      });

      document.addEventListener("mousemove", function (e) {
        if (isDragging && scale > 1) {
          // Marquer qu'on a boug√© la souris (donc c'est un glissement, pas un clic)
          const moveDistance =
            Math.abs(e.clientX - (startX + translateX)) +
            Math.abs(e.clientY - (startY + translateY));
          if (moveDistance > 5) {
            // Seuil de 5px pour consid√©rer que c'est un glissement
            hasDragged = true;
          }

          translateX = e.clientX - startX;
          translateY = e.clientY - startY;
          updateTransform();
        }
      });

      document.addEventListener("mouseup", function () {
        if (isDragging) {
          isDragging = false;
          img.style.cursor = scale > 1 ? "grab" : "zoom-in";

          // R√©initialiser hasDragged apr√®s un petit d√©lai pour √©viter le clic imm√©diat
          setTimeout(() => {
            hasDragged = false;
          }, 50);
        }
      });

      // Double-clic pour zoom rapide
      img.addEventListener("dblclick", function (e) {
        e.preventDefault();
        if (scale === 1) {
          zoomToPoint(e.clientX, e.clientY, 3);
        } else {
          resetZoom();
        }
      });

      // R√©initialiser quand la modal se ferme
      const modal = container.closest(".modal");
      if (modal) {
        modal.addEventListener("close", resetZoom);

        // Observer pour d√©tecter quand la modal est ferm√©e
        const observer = new MutationObserver(function (mutations) {
          mutations.forEach(function (mutation) {
            if (
              mutation.type === "attributes" &&
              mutation.attributeName === "open"
            ) {
              if (!modal.hasAttribute("open")) {
                resetZoom();
              }
            }
          });
        });
        observer.observe(modal, { attributes: true });
      }
    });
  }

  // Initialiser quand le DOM est pr√™t
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initPhotoZoom);
  } else {
    initPhotoZoom();
  }

  // Gestion du bouton de fermeture pour qu'il disparaisse imm√©diatement
  function initCloseButtons() {
    const closeButtons = document.querySelectorAll(".close-modal-btn");
    closeButtons.forEach((button) => {
      button.addEventListener("click", function () {
        // Cacher imm√©diatement le bouton
        this.style.display = "none";

        // Le restaurer apr√®s un court d√©lai au cas o√π la modale ne se fermerait pas
        setTimeout(() => {
          this.style.display = "flex";
        }, 500);
      });
    });
  }

  // Initialiser les boutons de fermeture
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initCloseButtons);
  } else {
    initCloseButtons();
  }
</script> <div data-vertical="false" data-astro-cid-udcgyguv> <button onclick="document.getElementById('modal_romains_c-balcon-2_jpg').showModal()" data-astro-cid-udcgyguv> <img src="/coloc/romains/photos/img/c-balcon-2.jpg" alt="Photo de romains - c-balcon-2.jpg" data-astro-cid-udcgyguv> </button> </div> <!-- Modal DaisyUI --> <dialog id="modal_romains_c-balcon-2_jpg" class="modal" data-astro-cid-udcgyguv> <div class="modal-container" data-astro-cid-udcgyguv> <form method="dialog" data-astro-cid-udcgyguv> <button class="close-modal-btn absolute right-4 top-4 z-20" style="width: 40px; height: 40px; border-radius: 50%; background-color: rgba(0, 0, 0, 0.9); color: white; border: 2px solid rgba(255, 255, 255, 0.5); display: flex; align-items: center; justify-content: center; font-size: 1.25rem; font-weight: bold; line-height: 1; padding: 0; margin: 0; padding-top: 2px;" data-astro-cid-udcgyguv>
‚úï
</button> </form> <div class="photo-zoom-container w-full h-full overflow-hidden cursor-zoom-in" id="zoom_modal_romains_c-balcon-2_jpg" data-astro-cid-udcgyguv> <img src="/coloc/romains/photos/hd/c-balcon-2.jpg" alt="Photo HD de romains - c-balcon-2.jpg" class="photo-zoomable w-full h-full transition-transform duration-500 ease-out horizontal-image" id="img_modal_romains_c-balcon-2_jpg" data-astro-cid-udcgyguv> </div> </div> <form method="dialog" class="modal-backdrop" data-astro-cid-udcgyguv> <button data-astro-cid-udcgyguv>close</button> </form> </dialog>  <script>
  function initPhotoZoom() {
    // Gestion du zoom pour toutes les images zoomables
    const zoomContainers = document.querySelectorAll(".photo-zoom-container");

    zoomContainers.forEach((container) => {
      const img = container.querySelector(".photo-zoomable");
      if (!img) return;

      let scale = 1;
      let translateX = 0;
      let translateY = 0;
      let isDragging = false;
      let hasDragged = false;
      let startX = 0;
      let startY = 0;
      let mouseDownTime = 0;

      function updateTransform() {
        img.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`;
      }

      function resetZoom() {
        scale = 1;
        translateX = 0;
        translateY = 0;
        img.classList.remove("zoomed");
        img.style.cursor = "zoom-in";
        updateTransform();
      }

      function zoomToPoint(mouseX, mouseY, zoomFactor) {
        const containerRect = container.getBoundingClientRect();
        const imgRect = img.getBoundingClientRect();

        // Position de la souris relative au conteneur
        const mouseXInContainer = mouseX - containerRect.left;
        const mouseYInContainer = mouseY - containerRect.top;

        // Position de la souris relative √† l'image actuelle (en tenant compte des transformations)
        const currentImgX = imgRect.left - containerRect.left;
        const currentImgY = imgRect.top - containerRect.top;

        // Point de focus dans l'image (entre 0 et 1)
        const focusX = (mouseXInContainer - currentImgX) / imgRect.width;
        const focusY = (mouseYInContainer - currentImgY) / imgRect.height;

        // Calculer le nouveau scale
        const oldScale = scale;
        const newScale = Math.min(Math.max(scale * zoomFactor, 1), 5);

        if (newScale === 1) {
          resetZoom();
          return;
        }

        // Calculer les nouvelles translations
        const scaleDelta = newScale - oldScale;
        const imgNaturalWidth = container.offsetWidth;
        const imgNaturalHeight = container.offsetHeight;

        // Ajuster la translation pour que le zoom se fasse vers le point de focus
        translateX -= (focusX - 0.5) * imgNaturalWidth * scaleDelta;
        translateY -= (focusY - 0.5) * imgNaturalHeight * scaleDelta;

        scale = newScale;
        img.classList.add("zoomed");
        img.style.cursor = scale > 1 ? "grab" : "zoom-in";
        updateTransform();
      }

      // Clic pour zoomer √† la position de la souris
      img.addEventListener("click", function (e) {
        // Ne zoomer que si ce n'√©tait pas un glissement
        if (!hasDragged) {
          const zoomFactor = scale < 2 ? 2.5 : 0.4; // Zoom in ou zoom out
          zoomToPoint(e.clientX, e.clientY, zoomFactor);
        }
      });

      // Zoom avec la molette vers la position de la souris
      container.addEventListener("wheel", function (e) {
        e.preventDefault();
        const zoomFactor = e.deltaY > 0 ? 0.9 : 1.1;
        zoomToPoint(e.clientX, e.clientY, zoomFactor);
      });

      // Navigation par clic et glissement
      img.addEventListener("mousedown", function (e) {
        if (scale > 1) {
          isDragging = true;
          hasDragged = false;
          mouseDownTime = Date.now();
          startX = e.clientX - translateX;
          startY = e.clientY - translateY;
          img.style.cursor = "grabbing";
          e.preventDefault();
        }
      });

      document.addEventListener("mousemove", function (e) {
        if (isDragging && scale > 1) {
          // Marquer qu'on a boug√© la souris (donc c'est un glissement, pas un clic)
          const moveDistance =
            Math.abs(e.clientX - (startX + translateX)) +
            Math.abs(e.clientY - (startY + translateY));
          if (moveDistance > 5) {
            // Seuil de 5px pour consid√©rer que c'est un glissement
            hasDragged = true;
          }

          translateX = e.clientX - startX;
          translateY = e.clientY - startY;
          updateTransform();
        }
      });

      document.addEventListener("mouseup", function () {
        if (isDragging) {
          isDragging = false;
          img.style.cursor = scale > 1 ? "grab" : "zoom-in";

          // R√©initialiser hasDragged apr√®s un petit d√©lai pour √©viter le clic imm√©diat
          setTimeout(() => {
            hasDragged = false;
          }, 50);
        }
      });

      // Double-clic pour zoom rapide
      img.addEventListener("dblclick", function (e) {
        e.preventDefault();
        if (scale === 1) {
          zoomToPoint(e.clientX, e.clientY, 3);
        } else {
          resetZoom();
        }
      });

      // R√©initialiser quand la modal se ferme
      const modal = container.closest(".modal");
      if (modal) {
        modal.addEventListener("close", resetZoom);

        // Observer pour d√©tecter quand la modal est ferm√©e
        const observer = new MutationObserver(function (mutations) {
          mutations.forEach(function (mutation) {
            if (
              mutation.type === "attributes" &&
              mutation.attributeName === "open"
            ) {
              if (!modal.hasAttribute("open")) {
                resetZoom();
              }
            }
          });
        });
        observer.observe(modal, { attributes: true });
      }
    });
  }

  // Initialiser quand le DOM est pr√™t
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initPhotoZoom);
  } else {
    initPhotoZoom();
  }

  // Gestion du bouton de fermeture pour qu'il disparaisse imm√©diatement
  function initCloseButtons() {
    const closeButtons = document.querySelectorAll(".close-modal-btn");
    closeButtons.forEach((button) => {
      button.addEventListener("click", function () {
        // Cacher imm√©diatement le bouton
        this.style.display = "none";

        // Le restaurer apr√®s un court d√©lai au cas o√π la modale ne se fermerait pas
        setTimeout(() => {
          this.style.display = "flex";
        }, 500);
      });
    });
  }

  // Initialiser les boutons de fermeture
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initCloseButtons);
  } else {
    initCloseButtons();
  }
</script> <div data-vertical="false" data-astro-cid-udcgyguv> <button onclick="document.getElementById('modal_romains_c-balcon-3_jpg').showModal()" data-astro-cid-udcgyguv> <img src="/coloc/romains/photos/img/c-balcon-3.jpg" alt="Photo de romains - c-balcon-3.jpg" data-astro-cid-udcgyguv> </button> </div> <!-- Modal DaisyUI --> <dialog id="modal_romains_c-balcon-3_jpg" class="modal" data-astro-cid-udcgyguv> <div class="modal-container" data-astro-cid-udcgyguv> <form method="dialog" data-astro-cid-udcgyguv> <button class="close-modal-btn absolute right-4 top-4 z-20" style="width: 40px; height: 40px; border-radius: 50%; background-color: rgba(0, 0, 0, 0.9); color: white; border: 2px solid rgba(255, 255, 255, 0.5); display: flex; align-items: center; justify-content: center; font-size: 1.25rem; font-weight: bold; line-height: 1; padding: 0; margin: 0; padding-top: 2px;" data-astro-cid-udcgyguv>
‚úï
</button> </form> <div class="photo-zoom-container w-full h-full overflow-hidden cursor-zoom-in" id="zoom_modal_romains_c-balcon-3_jpg" data-astro-cid-udcgyguv> <img src="/coloc/romains/photos/hd/c-balcon-3.jpg" alt="Photo HD de romains - c-balcon-3.jpg" class="photo-zoomable w-full h-full transition-transform duration-500 ease-out horizontal-image" id="img_modal_romains_c-balcon-3_jpg" data-astro-cid-udcgyguv> </div> </div> <form method="dialog" class="modal-backdrop" data-astro-cid-udcgyguv> <button data-astro-cid-udcgyguv>close</button> </form> </dialog>  <script>
  function initPhotoZoom() {
    // Gestion du zoom pour toutes les images zoomables
    const zoomContainers = document.querySelectorAll(".photo-zoom-container");

    zoomContainers.forEach((container) => {
      const img = container.querySelector(".photo-zoomable");
      if (!img) return;

      let scale = 1;
      let translateX = 0;
      let translateY = 0;
      let isDragging = false;
      let hasDragged = false;
      let startX = 0;
      let startY = 0;
      let mouseDownTime = 0;

      function updateTransform() {
        img.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`;
      }

      function resetZoom() {
        scale = 1;
        translateX = 0;
        translateY = 0;
        img.classList.remove("zoomed");
        img.style.cursor = "zoom-in";
        updateTransform();
      }

      function zoomToPoint(mouseX, mouseY, zoomFactor) {
        const containerRect = container.getBoundingClientRect();
        const imgRect = img.getBoundingClientRect();

        // Position de la souris relative au conteneur
        const mouseXInContainer = mouseX - containerRect.left;
        const mouseYInContainer = mouseY - containerRect.top;

        // Position de la souris relative √† l'image actuelle (en tenant compte des transformations)
        const currentImgX = imgRect.left - containerRect.left;
        const currentImgY = imgRect.top - containerRect.top;

        // Point de focus dans l'image (entre 0 et 1)
        const focusX = (mouseXInContainer - currentImgX) / imgRect.width;
        const focusY = (mouseYInContainer - currentImgY) / imgRect.height;

        // Calculer le nouveau scale
        const oldScale = scale;
        const newScale = Math.min(Math.max(scale * zoomFactor, 1), 5);

        if (newScale === 1) {
          resetZoom();
          return;
        }

        // Calculer les nouvelles translations
        const scaleDelta = newScale - oldScale;
        const imgNaturalWidth = container.offsetWidth;
        const imgNaturalHeight = container.offsetHeight;

        // Ajuster la translation pour que le zoom se fasse vers le point de focus
        translateX -= (focusX - 0.5) * imgNaturalWidth * scaleDelta;
        translateY -= (focusY - 0.5) * imgNaturalHeight * scaleDelta;

        scale = newScale;
        img.classList.add("zoomed");
        img.style.cursor = scale > 1 ? "grab" : "zoom-in";
        updateTransform();
      }

      // Clic pour zoomer √† la position de la souris
      img.addEventListener("click", function (e) {
        // Ne zoomer que si ce n'√©tait pas un glissement
        if (!hasDragged) {
          const zoomFactor = scale < 2 ? 2.5 : 0.4; // Zoom in ou zoom out
          zoomToPoint(e.clientX, e.clientY, zoomFactor);
        }
      });

      // Zoom avec la molette vers la position de la souris
      container.addEventListener("wheel", function (e) {
        e.preventDefault();
        const zoomFactor = e.deltaY > 0 ? 0.9 : 1.1;
        zoomToPoint(e.clientX, e.clientY, zoomFactor);
      });

      // Navigation par clic et glissement
      img.addEventListener("mousedown", function (e) {
        if (scale > 1) {
          isDragging = true;
          hasDragged = false;
          mouseDownTime = Date.now();
          startX = e.clientX - translateX;
          startY = e.clientY - translateY;
          img.style.cursor = "grabbing";
          e.preventDefault();
        }
      });

      document.addEventListener("mousemove", function (e) {
        if (isDragging && scale > 1) {
          // Marquer qu'on a boug√© la souris (donc c'est un glissement, pas un clic)
          const moveDistance =
            Math.abs(e.clientX - (startX + translateX)) +
            Math.abs(e.clientY - (startY + translateY));
          if (moveDistance > 5) {
            // Seuil de 5px pour consid√©rer que c'est un glissement
            hasDragged = true;
          }

          translateX = e.clientX - startX;
          translateY = e.clientY - startY;
          updateTransform();
        }
      });

      document.addEventListener("mouseup", function () {
        if (isDragging) {
          isDragging = false;
          img.style.cursor = scale > 1 ? "grab" : "zoom-in";

          // R√©initialiser hasDragged apr√®s un petit d√©lai pour √©viter le clic imm√©diat
          setTimeout(() => {
            hasDragged = false;
          }, 50);
        }
      });

      // Double-clic pour zoom rapide
      img.addEventListener("dblclick", function (e) {
        e.preventDefault();
        if (scale === 1) {
          zoomToPoint(e.clientX, e.clientY, 3);
        } else {
          resetZoom();
        }
      });

      // R√©initialiser quand la modal se ferme
      const modal = container.closest(".modal");
      if (modal) {
        modal.addEventListener("close", resetZoom);

        // Observer pour d√©tecter quand la modal est ferm√©e
        const observer = new MutationObserver(function (mutations) {
          mutations.forEach(function (mutation) {
            if (
              mutation.type === "attributes" &&
              mutation.attributeName === "open"
            ) {
              if (!modal.hasAttribute("open")) {
                resetZoom();
              }
            }
          });
        });
        observer.observe(modal, { attributes: true });
      }
    });
  }

  // Initialiser quand le DOM est pr√™t
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initPhotoZoom);
  } else {
    initPhotoZoom();
  }

  // Gestion du bouton de fermeture pour qu'il disparaisse imm√©diatement
  function initCloseButtons() {
    const closeButtons = document.querySelectorAll(".close-modal-btn");
    closeButtons.forEach((button) => {
      button.addEventListener("click", function () {
        // Cacher imm√©diatement le bouton
        this.style.display = "none";

        // Le restaurer apr√®s un court d√©lai au cas o√π la modale ne se fermerait pas
        setTimeout(() => {
          this.style.display = "flex";
        }, 500);
      });
    });
  }

  // Initialiser les boutons de fermeture
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initCloseButtons);
  } else {
    initCloseButtons();
  }
</script> <div class="title-container" data-astro-cid-wve2jxay> <h2 class="fixed-title " data-astro-cid-wve2jxay="true"> <span class="fr">üõèÔ∏è Chambre Est - 9m¬≤</span><span class="en">üõèÔ∏è Kitchen Bedroom - 9m¬≤</span><span class="de">üõèÔ∏è K√ºchenzimmer - 9m¬≤</span><span class="es">üõèÔ∏è Habitaci√≥n Cocina - 9m¬≤</span><span class="it">üõèÔ∏è Camera Cucina - 9m¬≤</span> </h2> </div> <div class="scroll-target" data-section-id="romains-chambre-cuisine" data-astro-cid-wve2jxay></div>  <div data-vertical="false" data-astro-cid-udcgyguv> <button onclick="document.getElementById('modal_romains_c-cuisine-1_jpg').showModal()" data-astro-cid-udcgyguv> <img src="/coloc/romains/photos/img/c-cuisine-1.jpg" alt="Photo de romains - c-cuisine-1.jpg" data-astro-cid-udcgyguv> </button> </div> <!-- Modal DaisyUI --> <dialog id="modal_romains_c-cuisine-1_jpg" class="modal" data-astro-cid-udcgyguv> <div class="modal-container" data-astro-cid-udcgyguv> <form method="dialog" data-astro-cid-udcgyguv> <button class="close-modal-btn absolute right-4 top-4 z-20" style="width: 40px; height: 40px; border-radius: 50%; background-color: rgba(0, 0, 0, 0.9); color: white; border: 2px solid rgba(255, 255, 255, 0.5); display: flex; align-items: center; justify-content: center; font-size: 1.25rem; font-weight: bold; line-height: 1; padding: 0; margin: 0; padding-top: 2px;" data-astro-cid-udcgyguv>
‚úï
</button> </form> <div class="photo-zoom-container w-full h-full overflow-hidden cursor-zoom-in" id="zoom_modal_romains_c-cuisine-1_jpg" data-astro-cid-udcgyguv> <img src="/coloc/romains/photos/hd/c-cuisine-1.jpg" alt="Photo HD de romains - c-cuisine-1.jpg" class="photo-zoomable w-full h-full transition-transform duration-500 ease-out horizontal-image" id="img_modal_romains_c-cuisine-1_jpg" data-astro-cid-udcgyguv> </div> </div> <form method="dialog" class="modal-backdrop" data-astro-cid-udcgyguv> <button data-astro-cid-udcgyguv>close</button> </form> </dialog>  <script>
  function initPhotoZoom() {
    // Gestion du zoom pour toutes les images zoomables
    const zoomContainers = document.querySelectorAll(".photo-zoom-container");

    zoomContainers.forEach((container) => {
      const img = container.querySelector(".photo-zoomable");
      if (!img) return;

      let scale = 1;
      let translateX = 0;
      let translateY = 0;
      let isDragging = false;
      let hasDragged = false;
      let startX = 0;
      let startY = 0;
      let mouseDownTime = 0;

      function updateTransform() {
        img.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`;
      }

      function resetZoom() {
        scale = 1;
        translateX = 0;
        translateY = 0;
        img.classList.remove("zoomed");
        img.style.cursor = "zoom-in";
        updateTransform();
      }

      function zoomToPoint(mouseX, mouseY, zoomFactor) {
        const containerRect = container.getBoundingClientRect();
        const imgRect = img.getBoundingClientRect();

        // Position de la souris relative au conteneur
        const mouseXInContainer = mouseX - containerRect.left;
        const mouseYInContainer = mouseY - containerRect.top;

        // Position de la souris relative √† l'image actuelle (en tenant compte des transformations)
        const currentImgX = imgRect.left - containerRect.left;
        const currentImgY = imgRect.top - containerRect.top;

        // Point de focus dans l'image (entre 0 et 1)
        const focusX = (mouseXInContainer - currentImgX) / imgRect.width;
        const focusY = (mouseYInContainer - currentImgY) / imgRect.height;

        // Calculer le nouveau scale
        const oldScale = scale;
        const newScale = Math.min(Math.max(scale * zoomFactor, 1), 5);

        if (newScale === 1) {
          resetZoom();
          return;
        }

        // Calculer les nouvelles translations
        const scaleDelta = newScale - oldScale;
        const imgNaturalWidth = container.offsetWidth;
        const imgNaturalHeight = container.offsetHeight;

        // Ajuster la translation pour que le zoom se fasse vers le point de focus
        translateX -= (focusX - 0.5) * imgNaturalWidth * scaleDelta;
        translateY -= (focusY - 0.5) * imgNaturalHeight * scaleDelta;

        scale = newScale;
        img.classList.add("zoomed");
        img.style.cursor = scale > 1 ? "grab" : "zoom-in";
        updateTransform();
      }

      // Clic pour zoomer √† la position de la souris
      img.addEventListener("click", function (e) {
        // Ne zoomer que si ce n'√©tait pas un glissement
        if (!hasDragged) {
          const zoomFactor = scale < 2 ? 2.5 : 0.4; // Zoom in ou zoom out
          zoomToPoint(e.clientX, e.clientY, zoomFactor);
        }
      });

      // Zoom avec la molette vers la position de la souris
      container.addEventListener("wheel", function (e) {
        e.preventDefault();
        const zoomFactor = e.deltaY > 0 ? 0.9 : 1.1;
        zoomToPoint(e.clientX, e.clientY, zoomFactor);
      });

      // Navigation par clic et glissement
      img.addEventListener("mousedown", function (e) {
        if (scale > 1) {
          isDragging = true;
          hasDragged = false;
          mouseDownTime = Date.now();
          startX = e.clientX - translateX;
          startY = e.clientY - translateY;
          img.style.cursor = "grabbing";
          e.preventDefault();
        }
      });

      document.addEventListener("mousemove", function (e) {
        if (isDragging && scale > 1) {
          // Marquer qu'on a boug√© la souris (donc c'est un glissement, pas un clic)
          const moveDistance =
            Math.abs(e.clientX - (startX + translateX)) +
            Math.abs(e.clientY - (startY + translateY));
          if (moveDistance > 5) {
            // Seuil de 5px pour consid√©rer que c'est un glissement
            hasDragged = true;
          }

          translateX = e.clientX - startX;
          translateY = e.clientY - startY;
          updateTransform();
        }
      });

      document.addEventListener("mouseup", function () {
        if (isDragging) {
          isDragging = false;
          img.style.cursor = scale > 1 ? "grab" : "zoom-in";

          // R√©initialiser hasDragged apr√®s un petit d√©lai pour √©viter le clic imm√©diat
          setTimeout(() => {
            hasDragged = false;
          }, 50);
        }
      });

      // Double-clic pour zoom rapide
      img.addEventListener("dblclick", function (e) {
        e.preventDefault();
        if (scale === 1) {
          zoomToPoint(e.clientX, e.clientY, 3);
        } else {
          resetZoom();
        }
      });

      // R√©initialiser quand la modal se ferme
      const modal = container.closest(".modal");
      if (modal) {
        modal.addEventListener("close", resetZoom);

        // Observer pour d√©tecter quand la modal est ferm√©e
        const observer = new MutationObserver(function (mutations) {
          mutations.forEach(function (mutation) {
            if (
              mutation.type === "attributes" &&
              mutation.attributeName === "open"
            ) {
              if (!modal.hasAttribute("open")) {
                resetZoom();
              }
            }
          });
        });
        observer.observe(modal, { attributes: true });
      }
    });
  }

  // Initialiser quand le DOM est pr√™t
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initPhotoZoom);
  } else {
    initPhotoZoom();
  }

  // Gestion du bouton de fermeture pour qu'il disparaisse imm√©diatement
  function initCloseButtons() {
    const closeButtons = document.querySelectorAll(".close-modal-btn");
    closeButtons.forEach((button) => {
      button.addEventListener("click", function () {
        // Cacher imm√©diatement le bouton
        this.style.display = "none";

        // Le restaurer apr√®s un court d√©lai au cas o√π la modale ne se fermerait pas
        setTimeout(() => {
          this.style.display = "flex";
        }, 500);
      });
    });
  }

  // Initialiser les boutons de fermeture
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initCloseButtons);
  } else {
    initCloseButtons();
  }
</script> <div data-vertical="false" data-astro-cid-udcgyguv> <button onclick="document.getElementById('modal_romains_c-cuisine-3_jpg').showModal()" data-astro-cid-udcgyguv> <img src="/coloc/romains/photos/img/c-cuisine-3.jpg" alt="Photo de romains - c-cuisine-3.jpg" data-astro-cid-udcgyguv> </button> </div> <!-- Modal DaisyUI --> <dialog id="modal_romains_c-cuisine-3_jpg" class="modal" data-astro-cid-udcgyguv> <div class="modal-container" data-astro-cid-udcgyguv> <form method="dialog" data-astro-cid-udcgyguv> <button class="close-modal-btn absolute right-4 top-4 z-20" style="width: 40px; height: 40px; border-radius: 50%; background-color: rgba(0, 0, 0, 0.9); color: white; border: 2px solid rgba(255, 255, 255, 0.5); display: flex; align-items: center; justify-content: center; font-size: 1.25rem; font-weight: bold; line-height: 1; padding: 0; margin: 0; padding-top: 2px;" data-astro-cid-udcgyguv>
‚úï
</button> </form> <div class="photo-zoom-container w-full h-full overflow-hidden cursor-zoom-in" id="zoom_modal_romains_c-cuisine-3_jpg" data-astro-cid-udcgyguv> <img src="/coloc/romains/photos/hd/c-cuisine-3.jpg" alt="Photo HD de romains - c-cuisine-3.jpg" class="photo-zoomable w-full h-full transition-transform duration-500 ease-out horizontal-image" id="img_modal_romains_c-cuisine-3_jpg" data-astro-cid-udcgyguv> </div> </div> <form method="dialog" class="modal-backdrop" data-astro-cid-udcgyguv> <button data-astro-cid-udcgyguv>close</button> </form> </dialog>  <script>
  function initPhotoZoom() {
    // Gestion du zoom pour toutes les images zoomables
    const zoomContainers = document.querySelectorAll(".photo-zoom-container");

    zoomContainers.forEach((container) => {
      const img = container.querySelector(".photo-zoomable");
      if (!img) return;

      let scale = 1;
      let translateX = 0;
      let translateY = 0;
      let isDragging = false;
      let hasDragged = false;
      let startX = 0;
      let startY = 0;
      let mouseDownTime = 0;

      function updateTransform() {
        img.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`;
      }

      function resetZoom() {
        scale = 1;
        translateX = 0;
        translateY = 0;
        img.classList.remove("zoomed");
        img.style.cursor = "zoom-in";
        updateTransform();
      }

      function zoomToPoint(mouseX, mouseY, zoomFactor) {
        const containerRect = container.getBoundingClientRect();
        const imgRect = img.getBoundingClientRect();

        // Position de la souris relative au conteneur
        const mouseXInContainer = mouseX - containerRect.left;
        const mouseYInContainer = mouseY - containerRect.top;

        // Position de la souris relative √† l'image actuelle (en tenant compte des transformations)
        const currentImgX = imgRect.left - containerRect.left;
        const currentImgY = imgRect.top - containerRect.top;

        // Point de focus dans l'image (entre 0 et 1)
        const focusX = (mouseXInContainer - currentImgX) / imgRect.width;
        const focusY = (mouseYInContainer - currentImgY) / imgRect.height;

        // Calculer le nouveau scale
        const oldScale = scale;
        const newScale = Math.min(Math.max(scale * zoomFactor, 1), 5);

        if (newScale === 1) {
          resetZoom();
          return;
        }

        // Calculer les nouvelles translations
        const scaleDelta = newScale - oldScale;
        const imgNaturalWidth = container.offsetWidth;
        const imgNaturalHeight = container.offsetHeight;

        // Ajuster la translation pour que le zoom se fasse vers le point de focus
        translateX -= (focusX - 0.5) * imgNaturalWidth * scaleDelta;
        translateY -= (focusY - 0.5) * imgNaturalHeight * scaleDelta;

        scale = newScale;
        img.classList.add("zoomed");
        img.style.cursor = scale > 1 ? "grab" : "zoom-in";
        updateTransform();
      }

      // Clic pour zoomer √† la position de la souris
      img.addEventListener("click", function (e) {
        // Ne zoomer que si ce n'√©tait pas un glissement
        if (!hasDragged) {
          const zoomFactor = scale < 2 ? 2.5 : 0.4; // Zoom in ou zoom out
          zoomToPoint(e.clientX, e.clientY, zoomFactor);
        }
      });

      // Zoom avec la molette vers la position de la souris
      container.addEventListener("wheel", function (e) {
        e.preventDefault();
        const zoomFactor = e.deltaY > 0 ? 0.9 : 1.1;
        zoomToPoint(e.clientX, e.clientY, zoomFactor);
      });

      // Navigation par clic et glissement
      img.addEventListener("mousedown", function (e) {
        if (scale > 1) {
          isDragging = true;
          hasDragged = false;
          mouseDownTime = Date.now();
          startX = e.clientX - translateX;
          startY = e.clientY - translateY;
          img.style.cursor = "grabbing";
          e.preventDefault();
        }
      });

      document.addEventListener("mousemove", function (e) {
        if (isDragging && scale > 1) {
          // Marquer qu'on a boug√© la souris (donc c'est un glissement, pas un clic)
          const moveDistance =
            Math.abs(e.clientX - (startX + translateX)) +
            Math.abs(e.clientY - (startY + translateY));
          if (moveDistance > 5) {
            // Seuil de 5px pour consid√©rer que c'est un glissement
            hasDragged = true;
          }

          translateX = e.clientX - startX;
          translateY = e.clientY - startY;
          updateTransform();
        }
      });

      document.addEventListener("mouseup", function () {
        if (isDragging) {
          isDragging = false;
          img.style.cursor = scale > 1 ? "grab" : "zoom-in";

          // R√©initialiser hasDragged apr√®s un petit d√©lai pour √©viter le clic imm√©diat
          setTimeout(() => {
            hasDragged = false;
          }, 50);
        }
      });

      // Double-clic pour zoom rapide
      img.addEventListener("dblclick", function (e) {
        e.preventDefault();
        if (scale === 1) {
          zoomToPoint(e.clientX, e.clientY, 3);
        } else {
          resetZoom();
        }
      });

      // R√©initialiser quand la modal se ferme
      const modal = container.closest(".modal");
      if (modal) {
        modal.addEventListener("close", resetZoom);

        // Observer pour d√©tecter quand la modal est ferm√©e
        const observer = new MutationObserver(function (mutations) {
          mutations.forEach(function (mutation) {
            if (
              mutation.type === "attributes" &&
              mutation.attributeName === "open"
            ) {
              if (!modal.hasAttribute("open")) {
                resetZoom();
              }
            }
          });
        });
        observer.observe(modal, { attributes: true });
      }
    });
  }

  // Initialiser quand le DOM est pr√™t
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initPhotoZoom);
  } else {
    initPhotoZoom();
  }

  // Gestion du bouton de fermeture pour qu'il disparaisse imm√©diatement
  function initCloseButtons() {
    const closeButtons = document.querySelectorAll(".close-modal-btn");
    closeButtons.forEach((button) => {
      button.addEventListener("click", function () {
        // Cacher imm√©diatement le bouton
        this.style.display = "none";

        // Le restaurer apr√®s un court d√©lai au cas o√π la modale ne se fermerait pas
        setTimeout(() => {
          this.style.display = "flex";
        }, 500);
      });
    });
  }

  // Initialiser les boutons de fermeture
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initCloseButtons);
  } else {
    initCloseButtons();
  }
</script> <div class="title-container" data-astro-cid-wve2jxay> <h2 class="fixed-title " data-astro-cid-wve2jxay="true"> <span class="fr">üõèÔ∏è Chambre Nord Est - 11m¬≤</span><span class="en">üõèÔ∏è Left Bedroom - 11m¬≤</span><span class="de">üõèÔ∏è Linkes Zimmer - 11m¬≤</span><span class="es">üõèÔ∏è Habitaci√≥n Izquierda - 11m¬≤</span><span class="it">üõèÔ∏è Camera Sinistra - 11m¬≤</span> </h2> </div> <div class="scroll-target" data-section-id="romains-chambre-grandeG" data-astro-cid-wve2jxay></div>  <div data-vertical="false" data-astro-cid-udcgyguv> <button onclick="document.getElementById('modal_romains_c-droite-1_jpg').showModal()" data-astro-cid-udcgyguv> <img src="/coloc/romains/photos/img/c-droite-1.jpg" alt="Photo de romains - c-droite-1.jpg" data-astro-cid-udcgyguv> </button> </div> <!-- Modal DaisyUI --> <dialog id="modal_romains_c-droite-1_jpg" class="modal" data-astro-cid-udcgyguv> <div class="modal-container" data-astro-cid-udcgyguv> <form method="dialog" data-astro-cid-udcgyguv> <button class="close-modal-btn absolute right-4 top-4 z-20" style="width: 40px; height: 40px; border-radius: 50%; background-color: rgba(0, 0, 0, 0.9); color: white; border: 2px solid rgba(255, 255, 255, 0.5); display: flex; align-items: center; justify-content: center; font-size: 1.25rem; font-weight: bold; line-height: 1; padding: 0; margin: 0; padding-top: 2px;" data-astro-cid-udcgyguv>
‚úï
</button> </form> <div class="photo-zoom-container w-full h-full overflow-hidden cursor-zoom-in" id="zoom_modal_romains_c-droite-1_jpg" data-astro-cid-udcgyguv> <img src="/coloc/romains/photos/hd/c-droite-1.jpg" alt="Photo HD de romains - c-droite-1.jpg" class="photo-zoomable w-full h-full transition-transform duration-500 ease-out horizontal-image" id="img_modal_romains_c-droite-1_jpg" data-astro-cid-udcgyguv> </div> </div> <form method="dialog" class="modal-backdrop" data-astro-cid-udcgyguv> <button data-astro-cid-udcgyguv>close</button> </form> </dialog>  <script>
  function initPhotoZoom() {
    // Gestion du zoom pour toutes les images zoomables
    const zoomContainers = document.querySelectorAll(".photo-zoom-container");

    zoomContainers.forEach((container) => {
      const img = container.querySelector(".photo-zoomable");
      if (!img) return;

      let scale = 1;
      let translateX = 0;
      let translateY = 0;
      let isDragging = false;
      let hasDragged = false;
      let startX = 0;
      let startY = 0;
      let mouseDownTime = 0;

      function updateTransform() {
        img.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`;
      }

      function resetZoom() {
        scale = 1;
        translateX = 0;
        translateY = 0;
        img.classList.remove("zoomed");
        img.style.cursor = "zoom-in";
        updateTransform();
      }

      function zoomToPoint(mouseX, mouseY, zoomFactor) {
        const containerRect = container.getBoundingClientRect();
        const imgRect = img.getBoundingClientRect();

        // Position de la souris relative au conteneur
        const mouseXInContainer = mouseX - containerRect.left;
        const mouseYInContainer = mouseY - containerRect.top;

        // Position de la souris relative √† l'image actuelle (en tenant compte des transformations)
        const currentImgX = imgRect.left - containerRect.left;
        const currentImgY = imgRect.top - containerRect.top;

        // Point de focus dans l'image (entre 0 et 1)
        const focusX = (mouseXInContainer - currentImgX) / imgRect.width;
        const focusY = (mouseYInContainer - currentImgY) / imgRect.height;

        // Calculer le nouveau scale
        const oldScale = scale;
        const newScale = Math.min(Math.max(scale * zoomFactor, 1), 5);

        if (newScale === 1) {
          resetZoom();
          return;
        }

        // Calculer les nouvelles translations
        const scaleDelta = newScale - oldScale;
        const imgNaturalWidth = container.offsetWidth;
        const imgNaturalHeight = container.offsetHeight;

        // Ajuster la translation pour que le zoom se fasse vers le point de focus
        translateX -= (focusX - 0.5) * imgNaturalWidth * scaleDelta;
        translateY -= (focusY - 0.5) * imgNaturalHeight * scaleDelta;

        scale = newScale;
        img.classList.add("zoomed");
        img.style.cursor = scale > 1 ? "grab" : "zoom-in";
        updateTransform();
      }

      // Clic pour zoomer √† la position de la souris
      img.addEventListener("click", function (e) {
        // Ne zoomer que si ce n'√©tait pas un glissement
        if (!hasDragged) {
          const zoomFactor = scale < 2 ? 2.5 : 0.4; // Zoom in ou zoom out
          zoomToPoint(e.clientX, e.clientY, zoomFactor);
        }
      });

      // Zoom avec la molette vers la position de la souris
      container.addEventListener("wheel", function (e) {
        e.preventDefault();
        const zoomFactor = e.deltaY > 0 ? 0.9 : 1.1;
        zoomToPoint(e.clientX, e.clientY, zoomFactor);
      });

      // Navigation par clic et glissement
      img.addEventListener("mousedown", function (e) {
        if (scale > 1) {
          isDragging = true;
          hasDragged = false;
          mouseDownTime = Date.now();
          startX = e.clientX - translateX;
          startY = e.clientY - translateY;
          img.style.cursor = "grabbing";
          e.preventDefault();
        }
      });

      document.addEventListener("mousemove", function (e) {
        if (isDragging && scale > 1) {
          // Marquer qu'on a boug√© la souris (donc c'est un glissement, pas un clic)
          const moveDistance =
            Math.abs(e.clientX - (startX + translateX)) +
            Math.abs(e.clientY - (startY + translateY));
          if (moveDistance > 5) {
            // Seuil de 5px pour consid√©rer que c'est un glissement
            hasDragged = true;
          }

          translateX = e.clientX - startX;
          translateY = e.clientY - startY;
          updateTransform();
        }
      });

      document.addEventListener("mouseup", function () {
        if (isDragging) {
          isDragging = false;
          img.style.cursor = scale > 1 ? "grab" : "zoom-in";

          // R√©initialiser hasDragged apr√®s un petit d√©lai pour √©viter le clic imm√©diat
          setTimeout(() => {
            hasDragged = false;
          }, 50);
        }
      });

      // Double-clic pour zoom rapide
      img.addEventListener("dblclick", function (e) {
        e.preventDefault();
        if (scale === 1) {
          zoomToPoint(e.clientX, e.clientY, 3);
        } else {
          resetZoom();
        }
      });

      // R√©initialiser quand la modal se ferme
      const modal = container.closest(".modal");
      if (modal) {
        modal.addEventListener("close", resetZoom);

        // Observer pour d√©tecter quand la modal est ferm√©e
        const observer = new MutationObserver(function (mutations) {
          mutations.forEach(function (mutation) {
            if (
              mutation.type === "attributes" &&
              mutation.attributeName === "open"
            ) {
              if (!modal.hasAttribute("open")) {
                resetZoom();
              }
            }
          });
        });
        observer.observe(modal, { attributes: true });
      }
    });
  }

  // Initialiser quand le DOM est pr√™t
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initPhotoZoom);
  } else {
    initPhotoZoom();
  }

  // Gestion du bouton de fermeture pour qu'il disparaisse imm√©diatement
  function initCloseButtons() {
    const closeButtons = document.querySelectorAll(".close-modal-btn");
    closeButtons.forEach((button) => {
      button.addEventListener("click", function () {
        // Cacher imm√©diatement le bouton
        this.style.display = "none";

        // Le restaurer apr√®s un court d√©lai au cas o√π la modale ne se fermerait pas
        setTimeout(() => {
          this.style.display = "flex";
        }, 500);
      });
    });
  }

  // Initialiser les boutons de fermeture
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initCloseButtons);
  } else {
    initCloseButtons();
  }
</script> <div data-vertical="false" data-astro-cid-udcgyguv> <button onclick="document.getElementById('modal_romains_c-droite-2_jpg').showModal()" data-astro-cid-udcgyguv> <img src="/coloc/romains/photos/img/c-droite-2.jpg" alt="Photo de romains - c-droite-2.jpg" data-astro-cid-udcgyguv> </button> </div> <!-- Modal DaisyUI --> <dialog id="modal_romains_c-droite-2_jpg" class="modal" data-astro-cid-udcgyguv> <div class="modal-container" data-astro-cid-udcgyguv> <form method="dialog" data-astro-cid-udcgyguv> <button class="close-modal-btn absolute right-4 top-4 z-20" style="width: 40px; height: 40px; border-radius: 50%; background-color: rgba(0, 0, 0, 0.9); color: white; border: 2px solid rgba(255, 255, 255, 0.5); display: flex; align-items: center; justify-content: center; font-size: 1.25rem; font-weight: bold; line-height: 1; padding: 0; margin: 0; padding-top: 2px;" data-astro-cid-udcgyguv>
‚úï
</button> </form> <div class="photo-zoom-container w-full h-full overflow-hidden cursor-zoom-in" id="zoom_modal_romains_c-droite-2_jpg" data-astro-cid-udcgyguv> <img src="/coloc/romains/photos/hd/c-droite-2.jpg" alt="Photo HD de romains - c-droite-2.jpg" class="photo-zoomable w-full h-full transition-transform duration-500 ease-out horizontal-image" id="img_modal_romains_c-droite-2_jpg" data-astro-cid-udcgyguv> </div> </div> <form method="dialog" class="modal-backdrop" data-astro-cid-udcgyguv> <button data-astro-cid-udcgyguv>close</button> </form> </dialog>  <script>
  function initPhotoZoom() {
    // Gestion du zoom pour toutes les images zoomables
    const zoomContainers = document.querySelectorAll(".photo-zoom-container");

    zoomContainers.forEach((container) => {
      const img = container.querySelector(".photo-zoomable");
      if (!img) return;

      let scale = 1;
      let translateX = 0;
      let translateY = 0;
      let isDragging = false;
      let hasDragged = false;
      let startX = 0;
      let startY = 0;
      let mouseDownTime = 0;

      function updateTransform() {
        img.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`;
      }

      function resetZoom() {
        scale = 1;
        translateX = 0;
        translateY = 0;
        img.classList.remove("zoomed");
        img.style.cursor = "zoom-in";
        updateTransform();
      }

      function zoomToPoint(mouseX, mouseY, zoomFactor) {
        const containerRect = container.getBoundingClientRect();
        const imgRect = img.getBoundingClientRect();

        // Position de la souris relative au conteneur
        const mouseXInContainer = mouseX - containerRect.left;
        const mouseYInContainer = mouseY - containerRect.top;

        // Position de la souris relative √† l'image actuelle (en tenant compte des transformations)
        const currentImgX = imgRect.left - containerRect.left;
        const currentImgY = imgRect.top - containerRect.top;

        // Point de focus dans l'image (entre 0 et 1)
        const focusX = (mouseXInContainer - currentImgX) / imgRect.width;
        const focusY = (mouseYInContainer - currentImgY) / imgRect.height;

        // Calculer le nouveau scale
        const oldScale = scale;
        const newScale = Math.min(Math.max(scale * zoomFactor, 1), 5);

        if (newScale === 1) {
          resetZoom();
          return;
        }

        // Calculer les nouvelles translations
        const scaleDelta = newScale - oldScale;
        const imgNaturalWidth = container.offsetWidth;
        const imgNaturalHeight = container.offsetHeight;

        // Ajuster la translation pour que le zoom se fasse vers le point de focus
        translateX -= (focusX - 0.5) * imgNaturalWidth * scaleDelta;
        translateY -= (focusY - 0.5) * imgNaturalHeight * scaleDelta;

        scale = newScale;
        img.classList.add("zoomed");
        img.style.cursor = scale > 1 ? "grab" : "zoom-in";
        updateTransform();
      }

      // Clic pour zoomer √† la position de la souris
      img.addEventListener("click", function (e) {
        // Ne zoomer que si ce n'√©tait pas un glissement
        if (!hasDragged) {
          const zoomFactor = scale < 2 ? 2.5 : 0.4; // Zoom in ou zoom out
          zoomToPoint(e.clientX, e.clientY, zoomFactor);
        }
      });

      // Zoom avec la molette vers la position de la souris
      container.addEventListener("wheel", function (e) {
        e.preventDefault();
        const zoomFactor = e.deltaY > 0 ? 0.9 : 1.1;
        zoomToPoint(e.clientX, e.clientY, zoomFactor);
      });

      // Navigation par clic et glissement
      img.addEventListener("mousedown", function (e) {
        if (scale > 1) {
          isDragging = true;
          hasDragged = false;
          mouseDownTime = Date.now();
          startX = e.clientX - translateX;
          startY = e.clientY - translateY;
          img.style.cursor = "grabbing";
          e.preventDefault();
        }
      });

      document.addEventListener("mousemove", function (e) {
        if (isDragging && scale > 1) {
          // Marquer qu'on a boug√© la souris (donc c'est un glissement, pas un clic)
          const moveDistance =
            Math.abs(e.clientX - (startX + translateX)) +
            Math.abs(e.clientY - (startY + translateY));
          if (moveDistance > 5) {
            // Seuil de 5px pour consid√©rer que c'est un glissement
            hasDragged = true;
          }

          translateX = e.clientX - startX;
          translateY = e.clientY - startY;
          updateTransform();
        }
      });

      document.addEventListener("mouseup", function () {
        if (isDragging) {
          isDragging = false;
          img.style.cursor = scale > 1 ? "grab" : "zoom-in";

          // R√©initialiser hasDragged apr√®s un petit d√©lai pour √©viter le clic imm√©diat
          setTimeout(() => {
            hasDragged = false;
          }, 50);
        }
      });

      // Double-clic pour zoom rapide
      img.addEventListener("dblclick", function (e) {
        e.preventDefault();
        if (scale === 1) {
          zoomToPoint(e.clientX, e.clientY, 3);
        } else {
          resetZoom();
        }
      });

      // R√©initialiser quand la modal se ferme
      const modal = container.closest(".modal");
      if (modal) {
        modal.addEventListener("close", resetZoom);

        // Observer pour d√©tecter quand la modal est ferm√©e
        const observer = new MutationObserver(function (mutations) {
          mutations.forEach(function (mutation) {
            if (
              mutation.type === "attributes" &&
              mutation.attributeName === "open"
            ) {
              if (!modal.hasAttribute("open")) {
                resetZoom();
              }
            }
          });
        });
        observer.observe(modal, { attributes: true });
      }
    });
  }

  // Initialiser quand le DOM est pr√™t
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initPhotoZoom);
  } else {
    initPhotoZoom();
  }

  // Gestion du bouton de fermeture pour qu'il disparaisse imm√©diatement
  function initCloseButtons() {
    const closeButtons = document.querySelectorAll(".close-modal-btn");
    closeButtons.forEach((button) => {
      button.addEventListener("click", function () {
        // Cacher imm√©diatement le bouton
        this.style.display = "none";

        // Le restaurer apr√®s un court d√©lai au cas o√π la modale ne se fermerait pas
        setTimeout(() => {
          this.style.display = "flex";
        }, 500);
      });
    });
  }

  // Initialiser les boutons de fermeture
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initCloseButtons);
  } else {
    initCloseButtons();
  }
</script> <div class="title-container" data-astro-cid-wve2jxay> <h2 class="fixed-title " data-astro-cid-wve2jxay="true"> <span class="fr">üõèÔ∏è Chambre Nord Ouest - 11m¬≤</span><span class="en">üõèÔ∏è Right Bedroom - 11m¬≤</span><span class="de">üõèÔ∏è Rechtes Zimmer - 11m¬≤</span><span class="es">üõèÔ∏è Habitaci√≥n Derecha - 11m¬≤</span><span class="it">üõèÔ∏è Camera Destra - 11m¬≤</span> </h2> </div> <div class="scroll-target" data-section-id="romains-chambre-grandeD" data-astro-cid-wve2jxay></div>  <div data-vertical="false" data-astro-cid-udcgyguv> <button onclick="document.getElementById('modal_romains_c-gauche-1_jpg').showModal()" data-astro-cid-udcgyguv> <img src="/coloc/romains/photos/img/c-gauche-1.jpg" alt="Photo de romains - c-gauche-1.jpg" data-astro-cid-udcgyguv> </button> </div> <!-- Modal DaisyUI --> <dialog id="modal_romains_c-gauche-1_jpg" class="modal" data-astro-cid-udcgyguv> <div class="modal-container" data-astro-cid-udcgyguv> <form method="dialog" data-astro-cid-udcgyguv> <button class="close-modal-btn absolute right-4 top-4 z-20" style="width: 40px; height: 40px; border-radius: 50%; background-color: rgba(0, 0, 0, 0.9); color: white; border: 2px solid rgba(255, 255, 255, 0.5); display: flex; align-items: center; justify-content: center; font-size: 1.25rem; font-weight: bold; line-height: 1; padding: 0; margin: 0; padding-top: 2px;" data-astro-cid-udcgyguv>
‚úï
</button> </form> <div class="photo-zoom-container w-full h-full overflow-hidden cursor-zoom-in" id="zoom_modal_romains_c-gauche-1_jpg" data-astro-cid-udcgyguv> <img src="/coloc/romains/photos/hd/c-gauche-1.jpg" alt="Photo HD de romains - c-gauche-1.jpg" class="photo-zoomable w-full h-full transition-transform duration-500 ease-out horizontal-image" id="img_modal_romains_c-gauche-1_jpg" data-astro-cid-udcgyguv> </div> </div> <form method="dialog" class="modal-backdrop" data-astro-cid-udcgyguv> <button data-astro-cid-udcgyguv>close</button> </form> </dialog>  <script>
  function initPhotoZoom() {
    // Gestion du zoom pour toutes les images zoomables
    const zoomContainers = document.querySelectorAll(".photo-zoom-container");

    zoomContainers.forEach((container) => {
      const img = container.querySelector(".photo-zoomable");
      if (!img) return;

      let scale = 1;
      let translateX = 0;
      let translateY = 0;
      let isDragging = false;
      let hasDragged = false;
      let startX = 0;
      let startY = 0;
      let mouseDownTime = 0;

      function updateTransform() {
        img.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`;
      }

      function resetZoom() {
        scale = 1;
        translateX = 0;
        translateY = 0;
        img.classList.remove("zoomed");
        img.style.cursor = "zoom-in";
        updateTransform();
      }

      function zoomToPoint(mouseX, mouseY, zoomFactor) {
        const containerRect = container.getBoundingClientRect();
        const imgRect = img.getBoundingClientRect();

        // Position de la souris relative au conteneur
        const mouseXInContainer = mouseX - containerRect.left;
        const mouseYInContainer = mouseY - containerRect.top;

        // Position de la souris relative √† l'image actuelle (en tenant compte des transformations)
        const currentImgX = imgRect.left - containerRect.left;
        const currentImgY = imgRect.top - containerRect.top;

        // Point de focus dans l'image (entre 0 et 1)
        const focusX = (mouseXInContainer - currentImgX) / imgRect.width;
        const focusY = (mouseYInContainer - currentImgY) / imgRect.height;

        // Calculer le nouveau scale
        const oldScale = scale;
        const newScale = Math.min(Math.max(scale * zoomFactor, 1), 5);

        if (newScale === 1) {
          resetZoom();
          return;
        }

        // Calculer les nouvelles translations
        const scaleDelta = newScale - oldScale;
        const imgNaturalWidth = container.offsetWidth;
        const imgNaturalHeight = container.offsetHeight;

        // Ajuster la translation pour que le zoom se fasse vers le point de focus
        translateX -= (focusX - 0.5) * imgNaturalWidth * scaleDelta;
        translateY -= (focusY - 0.5) * imgNaturalHeight * scaleDelta;

        scale = newScale;
        img.classList.add("zoomed");
        img.style.cursor = scale > 1 ? "grab" : "zoom-in";
        updateTransform();
      }

      // Clic pour zoomer √† la position de la souris
      img.addEventListener("click", function (e) {
        // Ne zoomer que si ce n'√©tait pas un glissement
        if (!hasDragged) {
          const zoomFactor = scale < 2 ? 2.5 : 0.4; // Zoom in ou zoom out
          zoomToPoint(e.clientX, e.clientY, zoomFactor);
        }
      });

      // Zoom avec la molette vers la position de la souris
      container.addEventListener("wheel", function (e) {
        e.preventDefault();
        const zoomFactor = e.deltaY > 0 ? 0.9 : 1.1;
        zoomToPoint(e.clientX, e.clientY, zoomFactor);
      });

      // Navigation par clic et glissement
      img.addEventListener("mousedown", function (e) {
        if (scale > 1) {
          isDragging = true;
          hasDragged = false;
          mouseDownTime = Date.now();
          startX = e.clientX - translateX;
          startY = e.clientY - translateY;
          img.style.cursor = "grabbing";
          e.preventDefault();
        }
      });

      document.addEventListener("mousemove", function (e) {
        if (isDragging && scale > 1) {
          // Marquer qu'on a boug√© la souris (donc c'est un glissement, pas un clic)
          const moveDistance =
            Math.abs(e.clientX - (startX + translateX)) +
            Math.abs(e.clientY - (startY + translateY));
          if (moveDistance > 5) {
            // Seuil de 5px pour consid√©rer que c'est un glissement
            hasDragged = true;
          }

          translateX = e.clientX - startX;
          translateY = e.clientY - startY;
          updateTransform();
        }
      });

      document.addEventListener("mouseup", function () {
        if (isDragging) {
          isDragging = false;
          img.style.cursor = scale > 1 ? "grab" : "zoom-in";

          // R√©initialiser hasDragged apr√®s un petit d√©lai pour √©viter le clic imm√©diat
          setTimeout(() => {
            hasDragged = false;
          }, 50);
        }
      });

      // Double-clic pour zoom rapide
      img.addEventListener("dblclick", function (e) {
        e.preventDefault();
        if (scale === 1) {
          zoomToPoint(e.clientX, e.clientY, 3);
        } else {
          resetZoom();
        }
      });

      // R√©initialiser quand la modal se ferme
      const modal = container.closest(".modal");
      if (modal) {
        modal.addEventListener("close", resetZoom);

        // Observer pour d√©tecter quand la modal est ferm√©e
        const observer = new MutationObserver(function (mutations) {
          mutations.forEach(function (mutation) {
            if (
              mutation.type === "attributes" &&
              mutation.attributeName === "open"
            ) {
              if (!modal.hasAttribute("open")) {
                resetZoom();
              }
            }
          });
        });
        observer.observe(modal, { attributes: true });
      }
    });
  }

  // Initialiser quand le DOM est pr√™t
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initPhotoZoom);
  } else {
    initPhotoZoom();
  }

  // Gestion du bouton de fermeture pour qu'il disparaisse imm√©diatement
  function initCloseButtons() {
    const closeButtons = document.querySelectorAll(".close-modal-btn");
    closeButtons.forEach((button) => {
      button.addEventListener("click", function () {
        // Cacher imm√©diatement le bouton
        this.style.display = "none";

        // Le restaurer apr√®s un court d√©lai au cas o√π la modale ne se fermerait pas
        setTimeout(() => {
          this.style.display = "flex";
        }, 500);
      });
    });
  }

  // Initialiser les boutons de fermeture
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initCloseButtons);
  } else {
    initCloseButtons();
  }
</script> <div class="title-container" data-astro-cid-wve2jxay> <h2 class="fixed-title " data-astro-cid-wve2jxay="true"> <span class="fr">üó∫Ô∏è Plan 2D</span><span class="en">üó∫Ô∏è 2D Plan</span><span class="de">üó∫Ô∏è 2D-Plan</span><span class="es">üó∫Ô∏è Plan 2D</span><span class="it">üó∫Ô∏è Piano 2D</span> </h2> </div> <div class="scroll-target" data-section-id="plan-2d" data-astro-cid-wve2jxay></div>  <div data-vertical="true" data-astro-cid-udcgyguv> <button onclick="document.getElementById('modal_romains_plan_jpg').showModal()" data-astro-cid-udcgyguv> <img src="/coloc/romains/photos/img/plan.jpg" alt="Photo de romains - plan.jpg" data-astro-cid-udcgyguv> </button> </div> <!-- Modal DaisyUI --> <dialog id="modal_romains_plan_jpg" class="modal" data-astro-cid-udcgyguv> <div class="modal-container" data-astro-cid-udcgyguv> <form method="dialog" data-astro-cid-udcgyguv> <button class="close-modal-btn absolute right-4 top-4 z-20" style="width: 40px; height: 40px; border-radius: 50%; background-color: rgba(0, 0, 0, 0.9); color: white; border: 2px solid rgba(255, 255, 255, 0.5); display: flex; align-items: center; justify-content: center; font-size: 1.25rem; font-weight: bold; line-height: 1; padding: 0; margin: 0; padding-top: 2px;" data-astro-cid-udcgyguv>
‚úï
</button> </form> <div class="photo-zoom-container w-full h-full overflow-hidden cursor-zoom-in" id="zoom_modal_romains_plan_jpg" data-astro-cid-udcgyguv> <img src="/coloc/romains/photos/hd/plan.jpg" alt="Photo HD de romains - plan.jpg" class="photo-zoomable w-full h-full transition-transform duration-500 ease-out vertical-image" id="img_modal_romains_plan_jpg" data-astro-cid-udcgyguv> </div> </div> <form method="dialog" class="modal-backdrop" data-astro-cid-udcgyguv> <button data-astro-cid-udcgyguv>close</button> </form> </dialog>  <script>
  function initPhotoZoom() {
    // Gestion du zoom pour toutes les images zoomables
    const zoomContainers = document.querySelectorAll(".photo-zoom-container");

    zoomContainers.forEach((container) => {
      const img = container.querySelector(".photo-zoomable");
      if (!img) return;

      let scale = 1;
      let translateX = 0;
      let translateY = 0;
      let isDragging = false;
      let hasDragged = false;
      let startX = 0;
      let startY = 0;
      let mouseDownTime = 0;

      function updateTransform() {
        img.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`;
      }

      function resetZoom() {
        scale = 1;
        translateX = 0;
        translateY = 0;
        img.classList.remove("zoomed");
        img.style.cursor = "zoom-in";
        updateTransform();
      }

      function zoomToPoint(mouseX, mouseY, zoomFactor) {
        const containerRect = container.getBoundingClientRect();
        const imgRect = img.getBoundingClientRect();

        // Position de la souris relative au conteneur
        const mouseXInContainer = mouseX - containerRect.left;
        const mouseYInContainer = mouseY - containerRect.top;

        // Position de la souris relative √† l'image actuelle (en tenant compte des transformations)
        const currentImgX = imgRect.left - containerRect.left;
        const currentImgY = imgRect.top - containerRect.top;

        // Point de focus dans l'image (entre 0 et 1)
        const focusX = (mouseXInContainer - currentImgX) / imgRect.width;
        const focusY = (mouseYInContainer - currentImgY) / imgRect.height;

        // Calculer le nouveau scale
        const oldScale = scale;
        const newScale = Math.min(Math.max(scale * zoomFactor, 1), 5);

        if (newScale === 1) {
          resetZoom();
          return;
        }

        // Calculer les nouvelles translations
        const scaleDelta = newScale - oldScale;
        const imgNaturalWidth = container.offsetWidth;
        const imgNaturalHeight = container.offsetHeight;

        // Ajuster la translation pour que le zoom se fasse vers le point de focus
        translateX -= (focusX - 0.5) * imgNaturalWidth * scaleDelta;
        translateY -= (focusY - 0.5) * imgNaturalHeight * scaleDelta;

        scale = newScale;
        img.classList.add("zoomed");
        img.style.cursor = scale > 1 ? "grab" : "zoom-in";
        updateTransform();
      }

      // Clic pour zoomer √† la position de la souris
      img.addEventListener("click", function (e) {
        // Ne zoomer que si ce n'√©tait pas un glissement
        if (!hasDragged) {
          const zoomFactor = scale < 2 ? 2.5 : 0.4; // Zoom in ou zoom out
          zoomToPoint(e.clientX, e.clientY, zoomFactor);
        }
      });

      // Zoom avec la molette vers la position de la souris
      container.addEventListener("wheel", function (e) {
        e.preventDefault();
        const zoomFactor = e.deltaY > 0 ? 0.9 : 1.1;
        zoomToPoint(e.clientX, e.clientY, zoomFactor);
      });

      // Navigation par clic et glissement
      img.addEventListener("mousedown", function (e) {
        if (scale > 1) {
          isDragging = true;
          hasDragged = false;
          mouseDownTime = Date.now();
          startX = e.clientX - translateX;
          startY = e.clientY - translateY;
          img.style.cursor = "grabbing";
          e.preventDefault();
        }
      });

      document.addEventListener("mousemove", function (e) {
        if (isDragging && scale > 1) {
          // Marquer qu'on a boug√© la souris (donc c'est un glissement, pas un clic)
          const moveDistance =
            Math.abs(e.clientX - (startX + translateX)) +
            Math.abs(e.clientY - (startY + translateY));
          if (moveDistance > 5) {
            // Seuil de 5px pour consid√©rer que c'est un glissement
            hasDragged = true;
          }

          translateX = e.clientX - startX;
          translateY = e.clientY - startY;
          updateTransform();
        }
      });

      document.addEventListener("mouseup", function () {
        if (isDragging) {
          isDragging = false;
          img.style.cursor = scale > 1 ? "grab" : "zoom-in";

          // R√©initialiser hasDragged apr√®s un petit d√©lai pour √©viter le clic imm√©diat
          setTimeout(() => {
            hasDragged = false;
          }, 50);
        }
      });

      // Double-clic pour zoom rapide
      img.addEventListener("dblclick", function (e) {
        e.preventDefault();
        if (scale === 1) {
          zoomToPoint(e.clientX, e.clientY, 3);
        } else {
          resetZoom();
        }
      });

      // R√©initialiser quand la modal se ferme
      const modal = container.closest(".modal");
      if (modal) {
        modal.addEventListener("close", resetZoom);

        // Observer pour d√©tecter quand la modal est ferm√©e
        const observer = new MutationObserver(function (mutations) {
          mutations.forEach(function (mutation) {
            if (
              mutation.type === "attributes" &&
              mutation.attributeName === "open"
            ) {
              if (!modal.hasAttribute("open")) {
                resetZoom();
              }
            }
          });
        });
        observer.observe(modal, { attributes: true });
      }
    });
  }

  // Initialiser quand le DOM est pr√™t
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initPhotoZoom);
  } else {
    initPhotoZoom();
  }

  // Gestion du bouton de fermeture pour qu'il disparaisse imm√©diatement
  function initCloseButtons() {
    const closeButtons = document.querySelectorAll(".close-modal-btn");
    closeButtons.forEach((button) => {
      button.addEventListener("click", function () {
        // Cacher imm√©diatement le bouton
        this.style.display = "none";

        // Le restaurer apr√®s un court d√©lai au cas o√π la modale ne se fermerait pas
        setTimeout(() => {
          this.style.display = "flex";
        }, 500);
      });
    });
  }

  // Initialiser les boutons de fermeture
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initCloseButtons);
  } else {
    initCloseButtons();
  }
</script> <div class="title-container" data-astro-cid-wve2jxay> <h2 class="fixed-title " data-astro-cid-wve2jxay="true"> <span class="fr">üöÜ Trajet gare</span><span class="en">üöÜ Station Route</span><span class="de">üöÜ Bahnhofsweg</span><span class="es">üöÜ Ruta de la estaci√≥n</span><span class="it">üöÜ Percorso stazione</span> </h2> </div> <div class="scroll-target" data-section-id="trajet-gare" data-astro-cid-wve2jxay></div>  <div data-vertical="false" data-astro-cid-udcgyguv> <button onclick="document.getElementById('modal_romains_gare_jpg').showModal()" data-astro-cid-udcgyguv> <img src="/coloc/romains/photos/img/gare.jpg" alt="Photo de romains - gare.jpg" data-astro-cid-udcgyguv> </button> </div> <!-- Modal DaisyUI --> <dialog id="modal_romains_gare_jpg" class="modal" data-astro-cid-udcgyguv> <div class="modal-container" data-astro-cid-udcgyguv> <form method="dialog" data-astro-cid-udcgyguv> <button class="close-modal-btn absolute right-4 top-4 z-20" style="width: 40px; height: 40px; border-radius: 50%; background-color: rgba(0, 0, 0, 0.9); color: white; border: 2px solid rgba(255, 255, 255, 0.5); display: flex; align-items: center; justify-content: center; font-size: 1.25rem; font-weight: bold; line-height: 1; padding: 0; margin: 0; padding-top: 2px;" data-astro-cid-udcgyguv>
‚úï
</button> </form> <div class="photo-zoom-container w-full h-full overflow-hidden cursor-zoom-in" id="zoom_modal_romains_gare_jpg" data-astro-cid-udcgyguv> <img src="/coloc/romains/photos/hd/gare.jpg" alt="Photo HD de romains - gare.jpg" class="photo-zoomable w-full h-full transition-transform duration-500 ease-out horizontal-image" id="img_modal_romains_gare_jpg" data-astro-cid-udcgyguv> </div> </div> <form method="dialog" class="modal-backdrop" data-astro-cid-udcgyguv> <button data-astro-cid-udcgyguv>close</button> </form> </dialog>  <script>
  function initPhotoZoom() {
    // Gestion du zoom pour toutes les images zoomables
    const zoomContainers = document.querySelectorAll(".photo-zoom-container");

    zoomContainers.forEach((container) => {
      const img = container.querySelector(".photo-zoomable");
      if (!img) return;

      let scale = 1;
      let translateX = 0;
      let translateY = 0;
      let isDragging = false;
      let hasDragged = false;
      let startX = 0;
      let startY = 0;
      let mouseDownTime = 0;

      function updateTransform() {
        img.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`;
      }

      function resetZoom() {
        scale = 1;
        translateX = 0;
        translateY = 0;
        img.classList.remove("zoomed");
        img.style.cursor = "zoom-in";
        updateTransform();
      }

      function zoomToPoint(mouseX, mouseY, zoomFactor) {
        const containerRect = container.getBoundingClientRect();
        const imgRect = img.getBoundingClientRect();

        // Position de la souris relative au conteneur
        const mouseXInContainer = mouseX - containerRect.left;
        const mouseYInContainer = mouseY - containerRect.top;

        // Position de la souris relative √† l'image actuelle (en tenant compte des transformations)
        const currentImgX = imgRect.left - containerRect.left;
        const currentImgY = imgRect.top - containerRect.top;

        // Point de focus dans l'image (entre 0 et 1)
        const focusX = (mouseXInContainer - currentImgX) / imgRect.width;
        const focusY = (mouseYInContainer - currentImgY) / imgRect.height;

        // Calculer le nouveau scale
        const oldScale = scale;
        const newScale = Math.min(Math.max(scale * zoomFactor, 1), 5);

        if (newScale === 1) {
          resetZoom();
          return;
        }

        // Calculer les nouvelles translations
        const scaleDelta = newScale - oldScale;
        const imgNaturalWidth = container.offsetWidth;
        const imgNaturalHeight = container.offsetHeight;

        // Ajuster la translation pour que le zoom se fasse vers le point de focus
        translateX -= (focusX - 0.5) * imgNaturalWidth * scaleDelta;
        translateY -= (focusY - 0.5) * imgNaturalHeight * scaleDelta;

        scale = newScale;
        img.classList.add("zoomed");
        img.style.cursor = scale > 1 ? "grab" : "zoom-in";
        updateTransform();
      }

      // Clic pour zoomer √† la position de la souris
      img.addEventListener("click", function (e) {
        // Ne zoomer que si ce n'√©tait pas un glissement
        if (!hasDragged) {
          const zoomFactor = scale < 2 ? 2.5 : 0.4; // Zoom in ou zoom out
          zoomToPoint(e.clientX, e.clientY, zoomFactor);
        }
      });

      // Zoom avec la molette vers la position de la souris
      container.addEventListener("wheel", function (e) {
        e.preventDefault();
        const zoomFactor = e.deltaY > 0 ? 0.9 : 1.1;
        zoomToPoint(e.clientX, e.clientY, zoomFactor);
      });

      // Navigation par clic et glissement
      img.addEventListener("mousedown", function (e) {
        if (scale > 1) {
          isDragging = true;
          hasDragged = false;
          mouseDownTime = Date.now();
          startX = e.clientX - translateX;
          startY = e.clientY - translateY;
          img.style.cursor = "grabbing";
          e.preventDefault();
        }
      });

      document.addEventListener("mousemove", function (e) {
        if (isDragging && scale > 1) {
          // Marquer qu'on a boug√© la souris (donc c'est un glissement, pas un clic)
          const moveDistance =
            Math.abs(e.clientX - (startX + translateX)) +
            Math.abs(e.clientY - (startY + translateY));
          if (moveDistance > 5) {
            // Seuil de 5px pour consid√©rer que c'est un glissement
            hasDragged = true;
          }

          translateX = e.clientX - startX;
          translateY = e.clientY - startY;
          updateTransform();
        }
      });

      document.addEventListener("mouseup", function () {
        if (isDragging) {
          isDragging = false;
          img.style.cursor = scale > 1 ? "grab" : "zoom-in";

          // R√©initialiser hasDragged apr√®s un petit d√©lai pour √©viter le clic imm√©diat
          setTimeout(() => {
            hasDragged = false;
          }, 50);
        }
      });

      // Double-clic pour zoom rapide
      img.addEventListener("dblclick", function (e) {
        e.preventDefault();
        if (scale === 1) {
          zoomToPoint(e.clientX, e.clientY, 3);
        } else {
          resetZoom();
        }
      });

      // R√©initialiser quand la modal se ferme
      const modal = container.closest(".modal");
      if (modal) {
        modal.addEventListener("close", resetZoom);

        // Observer pour d√©tecter quand la modal est ferm√©e
        const observer = new MutationObserver(function (mutations) {
          mutations.forEach(function (mutation) {
            if (
              mutation.type === "attributes" &&
              mutation.attributeName === "open"
            ) {
              if (!modal.hasAttribute("open")) {
                resetZoom();
              }
            }
          });
        });
        observer.observe(modal, { attributes: true });
      }
    });
  }

  // Initialiser quand le DOM est pr√™t
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initPhotoZoom);
  } else {
    initPhotoZoom();
  }

  // Gestion du bouton de fermeture pour qu'il disparaisse imm√©diatement
  function initCloseButtons() {
    const closeButtons = document.querySelectorAll(".close-modal-btn");
    closeButtons.forEach((button) => {
      button.addEventListener("click", function () {
        // Cacher imm√©diatement le bouton
        this.style.display = "none";

        // Le restaurer apr√®s un court d√©lai au cas o√π la modale ne se fermerait pas
        setTimeout(() => {
          this.style.display = "flex";
        }, 500);
      });
    });
  }

  // Initialiser les boutons de fermeture
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initCloseButtons);
  } else {
    initCloseButtons();
  }
</script> <div class="h-60"></div>  <footer class="h-50"></footer> </main> </div> <script type="module">let i=0,o=null;const u=8,s=5e3;document.addEventListener("DOMContentLoaded",()=>{location.hostname.includes("localhost")&&document.body.classList.add("localhost"),localStorage.getItem("adminMode")==="true"&&(document.body.classList.add("admin"),typeof window.admin<"u"&&(window.admin=!0));function d(){const t=!(localStorage.getItem("adminMode")==="true");localStorage.setItem("adminMode",String(t)),document.body.classList.toggle("admin",t),typeof window.admin<"u"&&(window.admin=t);const e=new CustomEvent("adminModeChanged",{detail:{enabled:t}});document.dispatchEvent(e)}document.addEventListener("keydown",n=>{n.ctrlKey&&n.key.toLowerCase()==="P".toLowerCase()&&(n.preventDefault(),d())});function c(){const n=document.getElementById("menu");if(!n)return;function t(){return window.innerWidth<=768||"ontouchstart"in window}function e(){i=0,o&&(window.clearTimeout(o),o=null)}function l(a){t()&&(i++,i===1&&(o=window.setTimeout(()=>{e()},s)),i>=u&&(e(),a.preventDefault(),a.stopPropagation(),d(),navigator.vibrate&&navigator.vibrate([100,50,100])))}n.addEventListener("click",l,!0)}c()});</script>  <div id="breakpoint-helper"> <span class="block sm:hidden">üñ•Ô∏è xs</span> <span class="hidden sm:block md:hidden">üñ•Ô∏è sm</span> <span class="hidden md:block lg:hidden">üñ•Ô∏è md</span> <span class="hidden lg:block xl:hidden">üñ•Ô∏è lg</span> <span class="hidden xl:block">üñ•Ô∏è xl</span> </div>  </body></html>